var no=t=>{throw TypeError(t)};var Sa=(t,e,s)=>e.has(t)||no("Cannot "+s);var C=(t,e,s)=>(Sa(t,e,"read from private field"),s?s.call(t):e.get(t)),se=(t,e,s)=>e.has(t)?no("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),U=(t,e,s,r)=>(Sa(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),he=(t,e,s)=>(Sa(t,e,"access private method"),s);var wn=(t,e,s,r)=>({set _(n){U(t,e,n,s)},get _(){return C(t,e,r)}});import{j as i,P as Ne,c as xc,a as jr,u as Ke,B as nf,b as Rn,d as gi,e as hr,f as ye,R as af,g as yc,h as gt,i as of,D as vc,k as cf,S as bc,l as lf,m as df,n as uf,F as ff,o as xi,p as hf,q as mf,O as wc,C as jc,r as pf,T as Cc,s as Sc,t as gf,v as xf,w as yf,L as _c,x as Nc,y as kc,z as vf}from"./ui-CDRCKRVj.js";import{r as m,c as bf,a as ln,R as xe}from"./react-CX2mysxk.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();function wf(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,r,n,a,o=[],c="",l=t.split("/");for(l[0]||l.shift();n=l.shift();)s=n[0],s==="*"?(o.push(s),c+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=n.indexOf("?",1),a=n.indexOf(".",1),o.push(n.substring(1,~r?r:~a?a:n.length)),c+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(c+=(~r?"?":"")+"\\"+n.substring(a))):c+="/"+n;return{keys:o,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var Tc={exports:{}},Ec={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=m;function jf(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cf=typeof Object.is=="function"?Object.is:jf,Sf=mr.useState,_f=mr.useEffect,Nf=mr.useLayoutEffect,kf=mr.useDebugValue;function Tf(t,e){var s=e(),r=Sf({inst:{value:s,getSnapshot:e}}),n=r[0].inst,a=r[1];return Nf(function(){n.value=s,n.getSnapshot=e,_a(n)&&a({inst:n})},[t,s,e]),_f(function(){return _a(n)&&a({inst:n}),t(function(){_a(n)&&a({inst:n})})},[t]),kf(s),s}function _a(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Cf(t,s)}catch{return!0}}function Ef(t,e){return e()}var Af=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ef:Tf;Ec.useSyncExternalStore=mr.useSyncExternalStore!==void 0?mr.useSyncExternalStore:Af;Tc.exports=Ec;var Pf=Tc.exports;const Rf=bf.useInsertionEffect,Of=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mf=Of?m.useLayoutEffect:m.useEffect,If=Rf||Mf,Ac=t=>{const e=m.useRef([t,(...s)=>e[0](...s)]).current;return If(()=>{e[0]=t}),e[1]},Df="popstate",yi="pushState",vi="replaceState",Ff="hashchange",ao=[Df,yi,vi,Ff],Lf=t=>{for(const e of ao)addEventListener(e,t);return()=>{for(const e of ao)removeEventListener(e,t)}},Pc=(t,e)=>Pf.useSyncExternalStore(Lf,t,e),Vf=()=>location.search,$f=({ssrSearch:t=""}={})=>Pc(Vf,()=>t),io=()=>location.pathname,zf=({ssrPath:t}={})=>Pc(io,t?()=>t:io),Bf=(t,{replace:e=!1,state:s=null}={})=>history[e?vi:yi](s,"",t),qf=(t={})=>[zf(t),Bf],oo=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[oo]>"u"){for(const t of[yi,vi]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,oo,{value:!0})}const Hf=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Rc=(t="")=>t==="/"?"":t,Uf=(t,e)=>t[0]==="~"?t.slice(1):Rc(e)+t,Zf=(t="",e)=>Hf(co(Rc(t)),co(e)),co=t=>{try{return decodeURI(t)}catch{return t}},Oc={hook:qf,searchHook:$f,parser:wf,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Mc=m.createContext(Oc),ta=()=>m.useContext(Mc),Ic={},Dc=m.createContext(Ic),Wf=()=>m.useContext(Dc),bi=t=>{const[e,s]=t.hook(t);return[Zf(t.base,e),Ac((r,n)=>s(Uf(r,t.base),n))]},Fc=(t,e,s,r)=>{const{pattern:n,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=n.exec(s)||[],[c,...l]=o;return c!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((x,y)=>[x,l[y]])):o.groups;let u={...l};return d&&Object.assign(u,d),u})(),...r?[c]:[]]:[!1,null]},Lc=({children:t,...e})=>{var u,x;const s=ta(),r=e.hook?Oc:s;let n=r;const[a,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((x=e.hook)==null?void 0:x.hrefs);let c=m.useRef({}),l=c.current,d=l;for(let y in r){const v=y==="base"?r[y]+(e[y]||""):e[y]||r[y];l===d&&v!==d[y]&&(c.current=d={...d}),d[y]=v,v!==r[y]&&(n=d)}return m.createElement(Mc.Provider,{value:n,children:t})},lo=({children:t,component:e},s)=>e?m.createElement(e,{params:s}):typeof t=="function"?t(s):t,Gf=t=>{let e=m.useRef(Ic),s=e.current;for(const r in t)t[r]!==s[r]&&(s=t);return Object.keys(t).length===0&&(s=t),e.current=s},jn=({path:t,nest:e,match:s,...r})=>{const n=ta(),[a]=bi(n),[o,c,l]=s??Fc(n.parser,t,a,e),d=Gf({...Wf(),...c});if(!o)return null;const u=l?m.createElement(Lc,{base:l},lo(r,d)):lo(r,d);return m.createElement(Dc.Provider,{value:d,children:u})},pr=m.forwardRef((t,e)=>{const s=ta(),[r,n]=bi(s),{to:a="",href:o=a,onClick:c,asChild:l,children:d,className:u,replace:x,state:y,...v}=t,w=Ac(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(c==null||c(p),p.defaultPrevented||(p.preventDefault(),n(o,t)))}),f=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return l&&m.isValidElement(d)?m.cloneElement(d,{onClick:w,href:f}):m.createElement("a",{...v,onClick:w,href:f,className:u!=null&&u.call?u(r===o):u,children:d,ref:e})}),Vc=t=>Array.isArray(t)?t.flatMap(e=>Vc(e&&e.type===m.Fragment?e.props.children:e)):[t],Kf=({children:t,location:e})=>{const s=ta(),[r]=bi(s);for(const n of Vc(t)){let a=0;if(m.isValidElement(n)&&(a=Fc(s.parser,n.props.path,e||r,n.props.nest))[0])return m.cloneElement(n,{match:a})}return null};var Cr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ds=typeof window>"u"||"Deno"in globalThis;function pt(){}function Qf(t,e){return typeof t=="function"?t(e):t}function Ia(t){return typeof t=="number"&&t>=0&&t!==1/0}function $c(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ks(t,e){return typeof t=="function"?t(e):t}function bt(t,e){return typeof t=="function"?t(e):t}function uo(t,e){const{type:s="all",exact:r,fetchStatus:n,predicate:a,queryKey:o,stale:c}=t;if(o){if(r){if(e.queryHash!==wi(o,e.options))return!1}else if(!Vr(e.queryKey,o))return!1}if(s!=="all"){const l=e.isActive();if(s==="active"&&!l||s==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||n&&n!==e.state.fetchStatus||a&&!a(e))}function fo(t,e){const{exact:s,status:r,predicate:n,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(Fs(e.options.mutationKey)!==Fs(a))return!1}else if(!Vr(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function wi(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fs)(t)}function Fs(t){return JSON.stringify(t,(e,s)=>Da(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function Vr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Vr(t[s],e[s])):!1}function zc(t,e){if(t===e)return t;const s=ho(t)&&ho(e);if(s||Da(t)&&Da(e)){const r=s?t:Object.keys(t),n=r.length,a=s?e:Object.keys(e),o=a.length,c=s?[]:{};let l=0;for(let d=0;d<o;d++){const u=s?d:a[d];(!s&&r.includes(u)||s)&&t[u]===void 0&&e[u]===void 0?(c[u]=void 0,l++):(c[u]=zc(t[u],e[u]),c[u]===t[u]&&t[u]!==void 0&&l++)}return n===o&&l===n?t:c}return e}function On(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function ho(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Da(t){if(!mo(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!mo(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function mo(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yf(t){return new Promise(e=>{setTimeout(e,t)})}function Fa(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?zc(t,e):e}function Jf(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function Xf(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var ji=Symbol();function Bc(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ji?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ns,rs,er,oc,eh=(oc=class extends Cr{constructor(){super();se(this,Ns);se(this,rs);se(this,er);U(this,er,e=>{if(!Ds&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){C(this,rs)||this.setEventListener(C(this,er))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,rs))==null||e.call(this),U(this,rs,void 0))}setEventListener(e){var s;U(this,er,e),(s=C(this,rs))==null||s.call(this),U(this,rs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){C(this,Ns)!==e&&(U(this,Ns,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof C(this,Ns)=="boolean"?C(this,Ns):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ns=new WeakMap,rs=new WeakMap,er=new WeakMap,oc),Ci=new eh,tr,ns,sr,cc,th=(cc=class extends Cr{constructor(){super();se(this,tr,!0);se(this,ns);se(this,sr);U(this,sr,e=>{if(!Ds&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){C(this,ns)||this.setEventListener(C(this,sr))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,ns))==null||e.call(this),U(this,ns,void 0))}setEventListener(e){var s;U(this,sr,e),(s=C(this,ns))==null||s.call(this),U(this,ns,e(this.setOnline.bind(this)))}setOnline(e){C(this,tr)!==e&&(U(this,tr,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return C(this,tr)}},tr=new WeakMap,ns=new WeakMap,sr=new WeakMap,cc),Mn=new th;function La(){let t,e;const s=new Promise((n,a)=>{t=n,e=a});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},s.reject=n=>{r({status:"rejected",reason:n}),e(n)},s}function sh(t){return Math.min(1e3*2**t,3e4)}function qc(t){return(t??"online")==="online"?Mn.isOnline():!0}var Hc=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Na(t){return t instanceof Hc}function Uc(t){let e=!1,s=0,r=!1,n;const a=La(),o=f=>{var p;r||(y(new Hc(f)),(p=t.abort)==null||p.call(t))},c=()=>{e=!0},l=()=>{e=!1},d=()=>Ci.isFocused()&&(t.networkMode==="always"||Mn.isOnline())&&t.canRun(),u=()=>qc(t.networkMode)&&t.canRun(),x=f=>{var p;r||(r=!0,(p=t.onSuccess)==null||p.call(t,f),n==null||n(),a.resolve(f))},y=f=>{var p;r||(r=!0,(p=t.onError)==null||p.call(t,f),n==null||n(),a.reject(f))},v=()=>new Promise(f=>{var p;n=g=>{(r||d())&&f(g)},(p=t.onPause)==null||p.call(t)}).then(()=>{var f;n=void 0,r||(f=t.onContinue)==null||f.call(t)}),w=()=>{if(r)return;let f;const p=s===0?t.initialPromise:void 0;try{f=p??t.fn()}catch(g){f=Promise.reject(g)}Promise.resolve(f).then(x).catch(g=>{var N;if(r)return;const h=t.retry??(Ds?0:3),b=t.retryDelay??sh,S=typeof b=="function"?b(s,g):b,_=h===!0||typeof h=="number"&&s<h||typeof h=="function"&&h(s,g);if(e||!_){y(g);return}s++,(N=t.onFail)==null||N.call(t,s,g),Yf(S).then(()=>d()?void 0:v()).then(()=>{e?y(g):w()})})};return{promise:a,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:c,continueRetry:l,canStart:u,start:()=>(u()?w():v().then(w),a)}}function rh(){let t=[],e=0,s=c=>{c()},r=c=>{c()},n=c=>setTimeout(c,0);const a=c=>{e?t.push(c):n(()=>{s(c)})},o=()=>{const c=t;t=[],c.length&&n(()=>{r(()=>{c.forEach(l=>{s(l)})})})};return{batch:c=>{let l;e++;try{l=c()}finally{e--,e||o()}return l},batchCalls:c=>(...l)=>{a(()=>{c(...l)})},schedule:a,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{n=c}}}var We=rh(),ks,lc,Zc=(lc=class{constructor(){se(this,ks)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ia(this.gcTime)&&U(this,ks,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ds?1/0:5*60*1e3))}clearGcTimeout(){C(this,ks)&&(clearTimeout(C(this,ks)),U(this,ks,void 0))}},ks=new WeakMap,lc),rr,nr,mt,Ye,nn,Ts,vt,Ut,dc,nh=(dc=class extends Zc{constructor(e){super();se(this,vt);se(this,rr);se(this,nr);se(this,mt);se(this,Ye);se(this,nn);se(this,Ts);U(this,Ts,!1),U(this,nn,e.defaultOptions),this.setOptions(e.options),this.observers=[],U(this,mt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,U(this,rr,ah(this.options)),this.state=e.state??C(this,rr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=C(this,Ye))==null?void 0:e.promise}setOptions(e){this.options={...C(this,nn),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,mt).remove(this)}setData(e,s){const r=Fa(this.state.data,e,this.options);return he(this,vt,Ut).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){he(this,vt,Ut).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,n;const s=(r=C(this,Ye))==null?void 0:r.promise;return(n=C(this,Ye))==null||n.cancel(e),s?s.then(pt).catch(pt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,rr))}isActive(){return this.observers.some(e=>bt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ji||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!$c(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=C(this,Ye))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=C(this,Ye))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),C(this,mt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(C(this,Ye)&&(C(this,Ts)?C(this,Ye).cancel({revert:!0}):C(this,Ye).cancelRetry()),this.scheduleGc()),C(this,mt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||he(this,vt,Ut).call(this,{type:"invalidate"})}fetch(e,s){var l,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(C(this,Ye))return C(this,Ye).continueRetry(),C(this,Ye).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(y=>y.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,n=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(U(this,Ts,!0),r.signal)})},a=()=>{const x=Bc(this.options,s),y={queryKey:this.queryKey,meta:this.meta};return n(y),U(this,Ts,!1),this.options.persister?this.options.persister(x,y,this):x(y)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};n(o),(l=this.options.behavior)==null||l.onFetch(o,this),U(this,nr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&he(this,vt,Ut).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const c=x=>{var y,v,w,f;Na(x)&&x.silent||he(this,vt,Ut).call(this,{type:"error",error:x}),Na(x)||((v=(y=C(this,mt).config).onError)==null||v.call(y,x,this),(f=(w=C(this,mt).config).onSettled)==null||f.call(w,this.state.data,x,this)),this.scheduleGc()};return U(this,Ye,Uc({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:x=>{var y,v,w,f;if(x===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(p){c(p);return}(v=(y=C(this,mt).config).onSuccess)==null||v.call(y,x,this),(f=(w=C(this,mt).config).onSettled)==null||f.call(w,x,this.state.error,this),this.scheduleGc()},onError:c,onFail:(x,y)=>{he(this,vt,Ut).call(this,{type:"failed",failureCount:x,error:y})},onPause:()=>{he(this,vt,Ut).call(this,{type:"pause"})},onContinue:()=>{he(this,vt,Ut).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),C(this,Ye).start()}},rr=new WeakMap,nr=new WeakMap,mt=new WeakMap,Ye=new WeakMap,nn=new WeakMap,Ts=new WeakMap,vt=new WeakSet,Ut=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Wc(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Na(n)&&n.revert&&C(this,nr)?{...C(this,nr),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),We.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),C(this,mt).notify({query:this,type:"updated",action:e})})},dc);function Wc(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qc(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ah(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Pt,uc,ih=(uc=class extends Cr{constructor(e={}){super();se(this,Pt);this.config=e,U(this,Pt,new Map)}build(e,s,r){const n=s.queryKey,a=s.queryHash??wi(n,s);let o=this.get(a);return o||(o=new nh({cache:this,queryKey:n,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){C(this,Pt).has(e.queryHash)||(C(this,Pt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=C(this,Pt).get(e.queryHash);s&&(e.destroy(),s===e&&C(this,Pt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){We.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return C(this,Pt).get(e)}getAll(){return[...C(this,Pt).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>uo(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>uo(e,r)):s}notify(e){We.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){We.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){We.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pt=new WeakMap,uc),Rt,Xe,Es,Ot,ts,fc,oh=(fc=class extends Zc{constructor(e){super();se(this,Ot);se(this,Rt);se(this,Xe);se(this,Es);this.mutationId=e.mutationId,U(this,Xe,e.mutationCache),U(this,Rt,[]),this.state=e.state||Gc(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){C(this,Rt).includes(e)||(C(this,Rt).push(e),this.clearGcTimeout(),C(this,Xe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){U(this,Rt,C(this,Rt).filter(s=>s!==e)),this.scheduleGc(),C(this,Xe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){C(this,Rt).length||(this.state.status==="pending"?this.scheduleGc():C(this,Xe).remove(this))}continue(){var e;return((e=C(this,Es))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,a,o,c,l,d,u,x,y,v,w,f,p,g,h,b,S,_,N,k;U(this,Es,Uc({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,M)=>{he(this,Ot,ts).call(this,{type:"failed",failureCount:P,error:M})},onPause:()=>{he(this,Ot,ts).call(this,{type:"pause"})},onContinue:()=>{he(this,Ot,ts).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Xe).canRun(this)}));const s=this.state.status==="pending",r=!C(this,Es).canStart();try{if(!s){he(this,Ot,ts).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(n=C(this,Xe).config).onMutate)==null?void 0:a.call(n,e,this));const M=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));M!==this.state.context&&he(this,Ot,ts).call(this,{type:"pending",context:M,variables:e,isPaused:r})}const P=await C(this,Es).start();return await((d=(l=C(this,Xe).config).onSuccess)==null?void 0:d.call(l,P,e,this.state.context,this)),await((x=(u=this.options).onSuccess)==null?void 0:x.call(u,P,e,this.state.context)),await((v=(y=C(this,Xe).config).onSettled)==null?void 0:v.call(y,P,null,this.state.variables,this.state.context,this)),await((f=(w=this.options).onSettled)==null?void 0:f.call(w,P,null,e,this.state.context)),he(this,Ot,ts).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(p=C(this,Xe).config).onError)==null?void 0:g.call(p,P,e,this.state.context,this)),await((b=(h=this.options).onError)==null?void 0:b.call(h,P,e,this.state.context)),await((_=(S=C(this,Xe).config).onSettled)==null?void 0:_.call(S,void 0,P,this.state.variables,this.state.context,this)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,void 0,P,e,this.state.context)),P}finally{he(this,Ot,ts).call(this,{type:"error",error:P})}}finally{C(this,Xe).runNext(this)}}},Rt=new WeakMap,Xe=new WeakMap,Es=new WeakMap,Ot=new WeakSet,ts=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),We.batch(()=>{C(this,Rt).forEach(r=>{r.onMutationUpdate(e)}),C(this,Xe).notify({mutation:this,type:"updated",action:e})})},fc);function Gc(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lt,an,hc,ch=(hc=class extends Cr{constructor(e={}){super();se(this,lt);se(this,an);this.config=e,U(this,lt,new Map),U(this,an,Date.now())}build(e,s,r){const n=new oh({mutationCache:this,mutationId:++wn(this,an)._,options:e.defaultMutationOptions(s),state:r});return this.add(n),n}add(e){const s=Cn(e),r=C(this,lt).get(s)??[];r.push(e),C(this,lt).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=Cn(e);if(C(this,lt).has(s)){const n=(r=C(this,lt).get(s))==null?void 0:r.filter(a=>a!==e);n&&(n.length===0?C(this,lt).delete(s):C(this,lt).set(s,n))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=C(this,lt).get(Cn(e)))==null?void 0:r.find(n=>n.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=C(this,lt).get(Cn(e)))==null?void 0:r.find(n=>n!==e&&n.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){We.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...C(this,lt).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>fo(s,r))}findAll(e={}){return this.getAll().filter(s=>fo(e,s))}notify(e){We.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return We.batch(()=>Promise.all(e.map(s=>s.continue().catch(pt))))}},lt=new WeakMap,an=new WeakMap,hc);function Cn(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function po(t){return{onFetch:(e,s)=>{var u,x,y,v,w;const r=e.options,n=(y=(x=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:x.fetchMore)==null?void 0:y.direction,a=((v=e.state.data)==null?void 0:v.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const d=async()=>{let f=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},g=Bc(e.options,e.fetchOptions),h=async(b,S,_)=>{if(f)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};p(N);const k=await g(N),{maxPages:P}=e.options,M=_?Xf:Jf;return{pages:M(b.pages,k,P),pageParams:M(b.pageParams,S,P)}};if(n&&a.length){const b=n==="backward",S=b?lh:go,_={pages:a,pageParams:o},N=S(r,_);c=await h(_,N,b)}else{const b=t??a.length;do{const S=l===0?o[0]??r.initialPageParam:go(r,c);if(l>0&&S==null)break;c=await h(c,S),l++}while(l<b)}return c};e.options.persister?e.fetchFn=()=>{var f,p;return(p=(f=e.options).persister)==null?void 0:p.call(f,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function go(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function lh(t,{pages:e,pageParams:s}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s):void 0}var Me,as,is,ar,ir,os,or,cr,mc,dh=(mc=class{constructor(t={}){se(this,Me);se(this,as);se(this,is);se(this,ar);se(this,ir);se(this,os);se(this,or);se(this,cr);U(this,Me,t.queryCache||new ih),U(this,as,t.mutationCache||new ch),U(this,is,t.defaultOptions||{}),U(this,ar,new Map),U(this,ir,new Map),U(this,os,0)}mount(){wn(this,os)._++,C(this,os)===1&&(U(this,or,Ci.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,Me).onFocus())})),U(this,cr,Mn.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,Me).onOnline())})))}unmount(){var t,e;wn(this,os)._--,C(this,os)===0&&((t=C(this,or))==null||t.call(this),U(this,or,void 0),(e=C(this,cr))==null||e.call(this),U(this,cr,void 0))}isFetching(t){return C(this,Me).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return C(this,as).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=C(this,Me).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=C(this,Me).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(Ks(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return C(this,Me).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),n=C(this,Me).get(r.queryHash),a=n==null?void 0:n.state.data,o=Qf(e,a);if(o!==void 0)return C(this,Me).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return We.batch(()=>C(this,Me).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=C(this,Me).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=C(this,Me);We.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=C(this,Me),r={type:"active",...t};return We.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=We.batch(()=>C(this,Me).findAll(t).map(n=>n.cancel(s)));return Promise.all(r).then(pt).catch(pt)}invalidateQueries(t={},e={}){return We.batch(()=>{if(C(this,Me).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=We.batch(()=>C(this,Me).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let a=n.fetch(void 0,s);return s.throwOnError||(a=a.catch(pt)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(pt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=C(this,Me).build(this,e);return s.isStaleByTime(Ks(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(pt).catch(pt)}fetchInfiniteQuery(t){return t.behavior=po(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(pt).catch(pt)}ensureInfiniteQueryData(t){return t.behavior=po(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Mn.isOnline()?C(this,as).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Me)}getMutationCache(){return C(this,as)}getDefaultOptions(){return C(this,is)}setDefaultOptions(t){U(this,is,t)}setQueryDefaults(t,e){C(this,ar).set(Fs(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...C(this,ar).values()];let s={};return e.forEach(r=>{Vr(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){C(this,ir).set(Fs(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...C(this,ir).values()];let s={};return e.forEach(r=>{Vr(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...C(this,is).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wi(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ji&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...C(this,is).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){C(this,Me).clear(),C(this,as).clear()}},Me=new WeakMap,as=new WeakMap,is=new WeakMap,ar=new WeakMap,ir=new WeakMap,os=new WeakMap,or=new WeakMap,cr=new WeakMap,mc),ot,pe,on,et,As,lr,cs,Mt,cn,dr,ur,Ps,Rs,ls,fr,_e,Rr,Va,$a,za,Ba,qa,Ha,Ua,Kc,pc,uh=(pc=class extends Cr{constructor(e,s){super();se(this,_e);se(this,ot);se(this,pe);se(this,on);se(this,et);se(this,As);se(this,lr);se(this,cs);se(this,Mt);se(this,cn);se(this,dr);se(this,ur);se(this,Ps);se(this,Rs);se(this,ls);se(this,fr,new Set);this.options=s,U(this,ot,e),U(this,Mt,null),U(this,cs,La()),this.options.experimental_prefetchInRender||C(this,cs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,pe).addObserver(this),xo(C(this,pe),this.options)?he(this,_e,Rr).call(this):this.updateResult(),he(this,_e,Ba).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Za(C(this,pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Za(C(this,pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,he(this,_e,qa).call(this),he(this,_e,Ha).call(this),C(this,pe).removeObserver(this)}setOptions(e,s){const r=this.options,n=C(this,pe);if(this.options=C(this,ot).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bt(this.options.enabled,C(this,pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");he(this,_e,Ua).call(this),C(this,pe).setOptions(this.options),r._defaulted&&!On(this.options,r)&&C(this,ot).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,pe),observer:this});const a=this.hasListeners();a&&yo(C(this,pe),n,this.options,r)&&he(this,_e,Rr).call(this),this.updateResult(s),a&&(C(this,pe)!==n||bt(this.options.enabled,C(this,pe))!==bt(r.enabled,C(this,pe))||Ks(this.options.staleTime,C(this,pe))!==Ks(r.staleTime,C(this,pe)))&&he(this,_e,Va).call(this);const o=he(this,_e,$a).call(this);a&&(C(this,pe)!==n||bt(this.options.enabled,C(this,pe))!==bt(r.enabled,C(this,pe))||o!==C(this,ls))&&he(this,_e,za).call(this,o)}getOptimisticResult(e){const s=C(this,ot).getQueryCache().build(C(this,ot),e),r=this.createResult(s,e);return hh(this,r)&&(U(this,et,r),U(this,lr,this.options),U(this,As,C(this,pe).state)),r}getCurrentResult(){return C(this,et)}trackResult(e,s){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),s==null||s(n),e[n])})}),r}trackProp(e){C(this,fr).add(e)}getCurrentQuery(){return C(this,pe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=C(this,ot).defaultQueryOptions(e),r=C(this,ot).getQueryCache().build(C(this,ot),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return he(this,_e,Rr).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,et)))}createResult(e,s){var P;const r=C(this,pe),n=this.options,a=C(this,et),o=C(this,As),c=C(this,lr),d=e!==r?e.state:C(this,on),{state:u}=e;let x={...u},y=!1,v;if(s._optimisticResults){const M=this.hasListeners(),H=!M&&xo(e,s),F=M&&yo(e,r,s,n);(H||F)&&(x={...x,...Wc(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:w,errorUpdatedAt:f,status:p}=x;if(s.select&&x.data!==void 0)if(a&&x.data===(o==null?void 0:o.data)&&s.select===C(this,cn))v=C(this,dr);else try{U(this,cn,s.select),v=s.select(x.data),v=Fa(a==null?void 0:a.data,v,s),U(this,dr,v),U(this,Mt,null)}catch(M){U(this,Mt,M)}else v=x.data;if(s.placeholderData!==void 0&&v===void 0&&p==="pending"){let M;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))M=a.data;else if(M=typeof s.placeholderData=="function"?s.placeholderData((P=C(this,ur))==null?void 0:P.state.data,C(this,ur)):s.placeholderData,s.select&&M!==void 0)try{M=s.select(M),U(this,Mt,null)}catch(H){U(this,Mt,H)}M!==void 0&&(p="success",v=Fa(a==null?void 0:a.data,M,s),y=!0)}C(this,Mt)&&(w=C(this,Mt),v=C(this,dr),f=Date.now(),p="error");const g=x.fetchStatus==="fetching",h=p==="pending",b=p==="error",S=h&&g,_=v!==void 0,k={status:p,fetchStatus:x.fetchStatus,isPending:h,isSuccess:p==="success",isError:b,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:x.dataUpdatedAt,error:w,errorUpdatedAt:f,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>d.dataUpdateCount||x.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!h,isLoadingError:b&&!_,isPaused:x.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:b&&_,isStale:Si(e,s),refetch:this.refetch,promise:C(this,cs)};if(this.options.experimental_prefetchInRender){const M=R=>{k.status==="error"?R.reject(k.error):k.data!==void 0&&R.resolve(k.data)},H=()=>{const R=U(this,cs,k.promise=La());M(R)},F=C(this,cs);switch(F.status){case"pending":e.queryHash===r.queryHash&&M(F);break;case"fulfilled":(k.status==="error"||k.data!==F.value)&&H();break;case"rejected":(k.status!=="error"||k.error!==F.reason)&&H();break}}return k}updateResult(e){const s=C(this,et),r=this.createResult(C(this,pe),this.options);if(U(this,As,C(this,pe).state),U(this,lr,this.options),C(this,As).data!==void 0&&U(this,ur,C(this,pe)),On(r,s))return;U(this,et,r);const n={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!C(this,fr).size)return!0;const l=new Set(c??C(this,fr));return this.options.throwOnError&&l.add("error"),Object.keys(C(this,et)).some(d=>{const u=d;return C(this,et)[u]!==s[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(n.listeners=!0),he(this,_e,Kc).call(this,{...n,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&he(this,_e,Ba).call(this)}},ot=new WeakMap,pe=new WeakMap,on=new WeakMap,et=new WeakMap,As=new WeakMap,lr=new WeakMap,cs=new WeakMap,Mt=new WeakMap,cn=new WeakMap,dr=new WeakMap,ur=new WeakMap,Ps=new WeakMap,Rs=new WeakMap,ls=new WeakMap,fr=new WeakMap,_e=new WeakSet,Rr=function(e){he(this,_e,Ua).call(this);let s=C(this,pe).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(pt)),s},Va=function(){he(this,_e,qa).call(this);const e=Ks(this.options.staleTime,C(this,pe));if(Ds||C(this,et).isStale||!Ia(e))return;const r=$c(C(this,et).dataUpdatedAt,e)+1;U(this,Ps,setTimeout(()=>{C(this,et).isStale||this.updateResult()},r))},$a=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,pe)):this.options.refetchInterval)??!1},za=function(e){he(this,_e,Ha).call(this),U(this,ls,e),!(Ds||bt(this.options.enabled,C(this,pe))===!1||!Ia(C(this,ls))||C(this,ls)===0)&&U(this,Rs,setInterval(()=>{(this.options.refetchIntervalInBackground||Ci.isFocused())&&he(this,_e,Rr).call(this)},C(this,ls)))},Ba=function(){he(this,_e,Va).call(this),he(this,_e,za).call(this,he(this,_e,$a).call(this))},qa=function(){C(this,Ps)&&(clearTimeout(C(this,Ps)),U(this,Ps,void 0))},Ha=function(){C(this,Rs)&&(clearInterval(C(this,Rs)),U(this,Rs,void 0))},Ua=function(){const e=C(this,ot).getQueryCache().build(C(this,ot),this.options);if(e===C(this,pe))return;const s=C(this,pe);U(this,pe,e),U(this,on,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Kc=function(e){We.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(C(this,et))}),C(this,ot).getQueryCache().notify({query:C(this,pe),type:"observerResultsUpdated"})})},pc);function fh(t,e){return bt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xo(t,e){return fh(t,e)||t.state.data!==void 0&&Za(t,e,e.refetchOnMount)}function Za(t,e,s){if(bt(e.enabled,t)!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&Si(t,e)}return!1}function yo(t,e,s,r){return(t!==e||bt(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Si(t,s)}function Si(t,e){return bt(e.enabled,t)!==!1&&t.isStaleByTime(Ks(e.staleTime,t))}function hh(t,e){return!On(t.getCurrentResult(),e)}var ds,us,ct,Gt,Kt,kn,Wa,gc,mh=(gc=class extends Cr{constructor(s,r){super();se(this,Kt);se(this,ds);se(this,us);se(this,ct);se(this,Gt);U(this,ds,s),this.setOptions(r),this.bindMethods(),he(this,Kt,kn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var n;const r=this.options;this.options=C(this,ds).defaultMutationOptions(s),On(this.options,r)||C(this,ds).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,ct),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Fs(r.mutationKey)!==Fs(this.options.mutationKey)?this.reset():((n=C(this,ct))==null?void 0:n.state.status)==="pending"&&C(this,ct).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=C(this,ct))==null||s.removeObserver(this)}onMutationUpdate(s){he(this,Kt,kn).call(this),he(this,Kt,Wa).call(this,s)}getCurrentResult(){return C(this,us)}reset(){var s;(s=C(this,ct))==null||s.removeObserver(this),U(this,ct,void 0),he(this,Kt,kn).call(this),he(this,Kt,Wa).call(this)}mutate(s,r){var n;return U(this,Gt,r),(n=C(this,ct))==null||n.removeObserver(this),U(this,ct,C(this,ds).getMutationCache().build(C(this,ds),this.options)),C(this,ct).addObserver(this),C(this,ct).execute(s)}},ds=new WeakMap,us=new WeakMap,ct=new WeakMap,Gt=new WeakMap,Kt=new WeakSet,kn=function(){var r;const s=((r=C(this,ct))==null?void 0:r.state)??Gc();U(this,us,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Wa=function(s){We.batch(()=>{var r,n,a,o,c,l,d,u;if(C(this,Gt)&&this.hasListeners()){const x=C(this,us).variables,y=C(this,us).context;(s==null?void 0:s.type)==="success"?((n=(r=C(this,Gt)).onSuccess)==null||n.call(r,s.data,x,y),(o=(a=C(this,Gt)).onSettled)==null||o.call(a,s.data,null,x,y)):(s==null?void 0:s.type)==="error"&&((l=(c=C(this,Gt)).onError)==null||l.call(c,s.error,x,y),(u=(d=C(this,Gt)).onSettled)==null||u.call(d,void 0,s.error,x,y))}this.listeners.forEach(x=>{x(C(this,us))})})},gc),Qc=m.createContext(void 0),Yc=t=>{const e=m.useContext(Qc);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ph=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(Qc.Provider,{value:t,children:e})),Jc=m.createContext(!1),gh=()=>m.useContext(Jc);Jc.Provider;function xh(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yh=m.createContext(xh()),vh=()=>m.useContext(yh);function Xc(t,e){return typeof t=="function"?t(...e):!!t}function Ga(){}var bh=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wh=t=>{m.useEffect(()=>{t.clearReset()},[t])},jh=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Xc(s,[t.error,r]),Ch=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Sh=(t,e)=>t.isLoading&&t.isFetching&&!e,_h=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,vo=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Nh(t,e,s){var u,x,y,v,w;const r=Yc(),n=gh(),a=vh(),o=r.defaultQueryOptions(t);(x=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||x.call(u,o),o._optimisticResults=n?"isRestoring":"optimistic",Ch(o),bh(o,a),wh(a);const c=!r.getQueryCache().get(o.queryHash),[l]=m.useState(()=>new e(r,o)),d=l.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(f=>{const p=n?Ga:l.subscribe(We.batchCalls(f));return l.updateResult(),p},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),_h(o,d))throw vo(o,l,a);if(jh({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((v=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||v.call(y,o,d),o.experimental_prefetchInRender&&!Ds&&Sh(d,n)){const f=c?vo(o,l,a):(w=r.getQueryCache().get(o.queryHash))==null?void 0:w.promise;f==null||f.catch(Ga).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?d:l.trackResult(d)}function Ka(t,e){return Nh(t,uh)}function Qs(t,e){const s=Yc(),[r]=m.useState(()=>new mh(s,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const n=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(We.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=m.useCallback((o,c)=>{r.mutate(o,c).catch(Ga)},[r]);if(n.error&&Xc(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}async function el(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Os(t,e,s){const r=await fetch(e,{method:t,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await el(r),r}const kh=({on401:t})=>async({queryKey:e})=>{const s=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&s.status===401?null:(await el(s),await s.json())},Ms=new dh({defaultOptions:{queries:{queryFn:kh({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Th=1,Eh=1e6;let ka=0;function Ah(){return ka=(ka+1)%Number.MAX_SAFE_INTEGER,ka.toString()}const Ta=new Map,bo=t=>{if(Ta.has(t))return;const e=setTimeout(()=>{Ta.delete(t),Dr({type:"REMOVE_TOAST",toastId:t})},Eh);Ta.set(t,e)},Ph=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Th)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?bo(s):t.toasts.forEach(r=>{bo(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},Tn=[];let En={toasts:[]};function Dr(t){En=Ph(En,t),Tn.forEach(e=>{e(En)})}function Rh({...t}){const e=Ah(),s=n=>Dr({type:"UPDATE_TOAST",toast:{...n,id:e}}),r=()=>Dr({type:"DISMISS_TOAST",toastId:e});return Dr({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||r()}}}),{id:e,dismiss:r,update:s}}function sa(){const[t,e]=m.useState(En);return m.useEffect(()=>(Tn.push(e),()=>{const s=Tn.indexOf(e);s>-1&&Tn.splice(s,1)}),[t]),{...t,toast:Rh,dismiss:s=>Dr({type:"DISMISS_TOAST",toastId:s})}}var Oh="VisuallyHidden",dn=m.forwardRef((t,e)=>i.jsx(Ne.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));dn.displayName=Oh;var Mh=dn,_i="ToastProvider",[Ni,Ih,Dh]=xc("Toast"),[tl,Rv]=jr("Toast",[Dh]),[Fh,ra]=tl(_i),sl=t=>{const{__scopeToast:e,label:s="Notification",duration:r=5e3,swipeDirection:n="right",swipeThreshold:a=50,children:o}=t,[c,l]=m.useState(null),[d,u]=m.useState(0),x=m.useRef(!1),y=m.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${_i}\`. Expected non-empty \`string\`.`),i.jsx(Ni.Provider,{scope:e,children:i.jsx(Fh,{scope:e,label:s,duration:r,swipeDirection:n,swipeThreshold:a,toastCount:d,viewport:c,onViewportChange:l,onToastAdd:m.useCallback(()=>u(v=>v+1),[]),onToastRemove:m.useCallback(()=>u(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:y,children:o})})};sl.displayName=_i;var rl="ToastViewport",Lh=["F8"],Qa="toast.viewportPause",Ya="toast.viewportResume",nl=m.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:r=Lh,label:n="Notifications ({hotkey})",...a}=t,o=ra(rl,s),c=Ih(s),l=m.useRef(null),d=m.useRef(null),u=m.useRef(null),x=m.useRef(null),y=Ke(e,x,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const p=g=>{var b;r.length!==0&&r.every(S=>g[S]||g.code===S)&&((b=x.current)==null||b.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[r]),m.useEffect(()=>{const p=l.current,g=x.current;if(w&&p&&g){const h=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(Qa);g.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Ya);g.dispatchEvent(N),o.isClosePausedRef.current=!1}},S=N=>{!p.contains(N.relatedTarget)&&b()},_=()=>{p.contains(document.activeElement)||b()};return p.addEventListener("focusin",h),p.addEventListener("focusout",S),p.addEventListener("pointermove",h),p.addEventListener("pointerleave",_),window.addEventListener("blur",h),window.addEventListener("focus",b),()=>{p.removeEventListener("focusin",h),p.removeEventListener("focusout",S),p.removeEventListener("pointermove",h),p.removeEventListener("pointerleave",_),window.removeEventListener("blur",h),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const f=m.useCallback(({tabbingDirection:p})=>{const h=c().map(b=>{const S=b.ref.current,_=[S,...Yh(S)];return p==="forwards"?_:_.reverse()});return(p==="forwards"?h.reverse():h).flat()},[c]);return m.useEffect(()=>{const p=x.current;if(p){const g=h=>{var _,N,k;const b=h.altKey||h.ctrlKey||h.metaKey;if(h.key==="Tab"&&!b){const P=document.activeElement,M=h.shiftKey;if(h.target===p&&M){(_=d.current)==null||_.focus();return}const R=f({tabbingDirection:M?"backwards":"forwards"}),D=R.findIndex(O=>O===P);Ea(R.slice(D+1))?h.preventDefault():M?(N=d.current)==null||N.focus():(k=u.current)==null||k.focus()}};return p.addEventListener("keydown",g),()=>p.removeEventListener("keydown",g)}},[c,f]),i.jsxs(nf,{ref:l,role:"region","aria-label":n.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&i.jsx(Ja,{ref:d,onFocusFromOutsideViewport:()=>{const p=f({tabbingDirection:"forwards"});Ea(p)}}),i.jsx(Ni.Slot,{scope:s,children:i.jsx(Ne.ol,{tabIndex:-1,...a,ref:y})}),w&&i.jsx(Ja,{ref:u,onFocusFromOutsideViewport:()=>{const p=f({tabbingDirection:"backwards"});Ea(p)}})]})});nl.displayName=rl;var al="ToastFocusProxy",Ja=m.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...n}=t,a=ra(al,s);return i.jsx(dn,{"aria-hidden":!0,tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const c=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(c))&&r()}})});Ja.displayName=al;var na="Toast",Vh="toast.swipeStart",$h="toast.swipeMove",zh="toast.swipeCancel",Bh="toast.swipeEnd",il=m.forwardRef((t,e)=>{const{forceMount:s,open:r,defaultOpen:n,onOpenChange:a,...o}=t,[c=!0,l]=Rn({prop:r,defaultProp:n,onChange:a});return i.jsx(gi,{present:s||c,children:i.jsx(Uh,{open:c,...o,ref:e,onClose:()=>l(!1),onPause:hr(t.onPause),onResume:hr(t.onResume),onSwipeStart:ye(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,d=>{const{x:u,y:x}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:ye(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,d=>{const{x:u,y:x}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),l(!1)})})})});il.displayName=na;var[qh,Hh]=tl(na,{onClose(){}}),Uh=m.forwardRef((t,e)=>{const{__scopeToast:s,type:r="foreground",duration:n,open:a,onClose:o,onEscapeKeyDown:c,onPause:l,onResume:d,onSwipeStart:u,onSwipeMove:x,onSwipeCancel:y,onSwipeEnd:v,...w}=t,f=ra(na,s),[p,g]=m.useState(null),h=Ke(e,O=>g(O)),b=m.useRef(null),S=m.useRef(null),_=n||f.duration,N=m.useRef(0),k=m.useRef(_),P=m.useRef(0),{onToastAdd:M,onToastRemove:H}=f,F=hr(()=>{var J;(p==null?void 0:p.contains(document.activeElement))&&((J=f.viewport)==null||J.focus()),o()}),R=m.useCallback(O=>{!O||O===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(F,O))},[F]);m.useEffect(()=>{const O=f.viewport;if(O){const J=()=>{R(k.current),d==null||d()},V=()=>{const X=new Date().getTime()-N.current;k.current=k.current-X,window.clearTimeout(P.current),l==null||l()};return O.addEventListener(Qa,V),O.addEventListener(Ya,J),()=>{O.removeEventListener(Qa,V),O.removeEventListener(Ya,J)}}},[f.viewport,_,l,d,R]),m.useEffect(()=>{a&&!f.isClosePausedRef.current&&R(_)},[a,_,f.isClosePausedRef,R]),m.useEffect(()=>(M(),()=>H()),[M,H]);const D=m.useMemo(()=>p?hl(p):null,[p]);return f.viewport?i.jsxs(i.Fragment,{children:[D&&i.jsx(Zh,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),i.jsx(qh,{scope:s,onClose:F,children:ln.createPortal(i.jsx(Ni.ItemSlot,{scope:s,children:i.jsx(af,{asChild:!0,onEscapeKeyDown:ye(c,()=>{f.isFocusedToastEscapeKeyDownRef.current||F(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":f.swipeDirection,...w,ref:h,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,O=>{O.key==="Escape"&&(c==null||c(O.nativeEvent),O.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ye(t.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:ye(t.onPointerMove,O=>{if(!b.current)return;const J=O.clientX-b.current.x,V=O.clientY-b.current.y,X=!!S.current,K=["left","right"].includes(f.swipeDirection),ce=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,ke=K?ce(0,J):0,E=K?0:ce(0,V),G=O.pointerType==="touch"?10:2,te={x:ke,y:E},de={originalEvent:O,delta:te};X?(S.current=te,Sn($h,x,de,{discrete:!1})):wo(te,f.swipeDirection,G)?(S.current=te,Sn(Vh,u,de,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(J)>G||Math.abs(V)>G)&&(b.current=null)}),onPointerUp:ye(t.onPointerUp,O=>{const J=S.current,V=O.target;if(V.hasPointerCapture(O.pointerId)&&V.releasePointerCapture(O.pointerId),S.current=null,b.current=null,J){const X=O.currentTarget,K={originalEvent:O,delta:J};wo(J,f.swipeDirection,f.swipeThreshold)?Sn(Bh,v,K,{discrete:!0}):Sn(zh,y,K,{discrete:!0}),X.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),Zh=t=>{const{__scopeToast:e,children:s,...r}=t,n=ra(na,e),[a,o]=m.useState(!1),[c,l]=m.useState(!1);return Kh(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:i.jsx(yc,{asChild:!0,children:i.jsx(dn,{...r,children:a&&i.jsxs(i.Fragment,{children:[n.label," ",s]})})})},Wh="ToastTitle",ol=m.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return i.jsx(Ne.div,{...r,ref:e})});ol.displayName=Wh;var Gh="ToastDescription",cl=m.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return i.jsx(Ne.div,{...r,ref:e})});cl.displayName=Gh;var ll="ToastAction",dl=m.forwardRef((t,e)=>{const{altText:s,...r}=t;return s.trim()?i.jsx(fl,{altText:s,asChild:!0,children:i.jsx(ki,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ll}\`. Expected non-empty \`string\`.`),null)});dl.displayName=ll;var ul="ToastClose",ki=m.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t,n=Hh(ul,s);return i.jsx(fl,{asChild:!0,children:i.jsx(Ne.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,n.onClose)})})});ki.displayName=ul;var fl=m.forwardRef((t,e)=>{const{__scopeToast:s,altText:r,...n}=t;return i.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...n,ref:e})});function hl(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Qh(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!n)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...hl(r))}}),e}function Sn(t,e,s,{discrete:r}){const n=s.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&n.addEventListener(t,e,{once:!0}),r?of(n,a):n.dispatchEvent(a)}var wo=(t,e,s=0)=>{const r=Math.abs(t.x),n=Math.abs(t.y),a=r>n;return e==="left"||e==="right"?a&&r>s:!a&&n>s};function Kh(t=()=>{}){const e=hr(t);gt(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[e])}function Qh(t){return t.nodeType===t.ELEMENT_NODE}function Yh(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function Ea(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var Jh=sl,ml=nl,pl=il,gl=ol,xl=cl,yl=dl,vl=ki;function bl(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(s=bl(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function wl(){for(var t,e,s=0,r="",n=arguments.length;s<n;s++)(t=arguments[s])&&(e=bl(t))&&(r&&(r+=" "),r+=e);return r}const jo=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Co=wl,aa=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return Co(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:a}=e,o=Object.keys(n).map(d=>{const u=s==null?void 0:s[d],x=a==null?void 0:a[d];if(u===null)return null;const y=jo(u)||jo(x);return n[d][y]}),c=s&&Object.entries(s).reduce((d,u)=>{let[x,y]=u;return y===void 0||(d[x]=y),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:x,className:y,...v}=u;return Object.entries(v).every(w=>{let[f,p]=w;return Array.isArray(p)?p.includes({...a,...c}[f]):{...a,...c}[f]===p})?[...d,x,y]:d},[]);return Co(t,o,l,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jl=(...t)=>t.filter((e,s,r)=>!!e&&r.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var em={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:o,...c},l)=>m.createElement("svg",{ref:l,...em,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:jl("lucide",n),...c},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const s=m.forwardRef(({className:r,...n},a)=>m.createElement(tm,{ref:a,iconNode:e,className:jl(`lucide-${Xh(t)}`,r),...n}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=De("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=De("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=De("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=De("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=De("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=De("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=De("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=De("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=De("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=De("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ei="-",pm=t=>{const e=xm(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const c=o.split(Ei);return c[0]===""&&c.length!==1&&c.shift(),Al(c,e)||gm(o)},getConflictingClassGroupIds:(o,c)=>{const l=s[o]||[];return c&&r[o]?[...l,...r[o]]:l}}},Al=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),n=r?Al(t.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const a=t.join(Ei);return(o=e.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},So=/^\[(.+)\]$/,gm=t=>{if(So.test(t)){const e=So.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},xm=t=>{const{theme:e,prefix:s}=t,r={nextPart:new Map,validators:[]};return vm(Object.entries(t.classGroups),s).forEach(([a,o])=>{Xa(o,r,a,e)}),r},Xa=(t,e,s,r)=>{t.forEach(n=>{if(typeof n=="string"){const a=n===""?e:_o(e,n);a.classGroupId=s;return}if(typeof n=="function"){if(ym(n)){Xa(n(r),e,s,r);return}e.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([a,o])=>{Xa(o,_o(e,a),s,r)})})},_o=(t,e)=>{let s=t;return e.split(Ei).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},ym=t=>t.isThemeGetter,vm=(t,e)=>e?t.map(([s,r])=>{const n=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,c])=>[e+o,c])):a);return[s,n]}):t,bm=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const n=(a,o)=>{s.set(a,o),e++,e>t&&(e=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return n(a,o),o},set(a,o){s.has(a)?s.set(a,o):n(a,o)}}},Pl="!",wm=t=>{const{separator:e,experimentalParseClassName:s}=t,r=e.length===1,n=e[0],a=e.length,o=c=>{const l=[];let d=0,u=0,x;for(let p=0;p<c.length;p++){let g=c[p];if(d===0){if(g===n&&(r||c.slice(p,p+a)===e)){l.push(c.slice(u,p)),u=p+a;continue}if(g==="/"){x=p;continue}}g==="["?d++:g==="]"&&d--}const y=l.length===0?c:c.substring(u),v=y.startsWith(Pl),w=v?y.substring(1):y,f=x&&x>u?x-u:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:f}};return s?c=>s({className:c,parseClassName:o}):o},jm=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},Cm=t=>({cache:bm(t.cacheSize),parseClassName:wm(t),...pm(t)}),Sm=/\s+/,_m=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=e,a=[],o=t.trim().split(Sm);let c="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:u,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:v}=s(d);let w=!!v,f=r(w?y.substring(0,v):y);if(!f){if(!w){c=d+(c.length>0?" "+c:c);continue}if(f=r(y),!f){c=d+(c.length>0?" "+c:c);continue}w=!1}const p=jm(u).join(":"),g=x?p+Pl:p,h=g+f;if(a.includes(h))continue;a.push(h);const b=n(f,w);for(let S=0;S<b.length;++S){const _=b[S];a.push(g+_)}c=d+(c.length>0?" "+c:c)}return c};function Nm(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=Rl(e))&&(r&&(r+=" "),r+=s);return r}const Rl=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=Rl(t[r]))&&(s&&(s+=" "),s+=e);return s};function km(t,...e){let s,r,n,a=o;function o(l){const d=e.reduce((u,x)=>x(u),t());return s=Cm(d),r=s.cache.get,n=s.cache.set,a=c,c(l)}function c(l){const d=r(l);if(d)return d;const u=_m(l,s);return n(l,u),u}return function(){return a(Nm.apply(null,arguments))}}const Ae=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},Ol=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tm=/^\d+\/\d+$/,Em=new Set(["px","full","screen"]),Am=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Om=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mm=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qt=t=>Ys(t)||Em.has(t)||Tm.test(t),Xt=t=>Sr(t,"length",Bm),Ys=t=>!!t&&!Number.isNaN(Number(t)),Aa=t=>Sr(t,"number",Ys),Tr=t=>!!t&&Number.isInteger(Number(t)),Im=t=>t.endsWith("%")&&Ys(t.slice(0,-1)),fe=t=>Ol.test(t),es=t=>Am.test(t),Dm=new Set(["length","size","percentage"]),Fm=t=>Sr(t,Dm,Ml),Lm=t=>Sr(t,"position",Ml),Vm=new Set(["image","url"]),$m=t=>Sr(t,Vm,Hm),zm=t=>Sr(t,"",qm),Er=()=>!0,Sr=(t,e,s)=>{const r=Ol.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},Bm=t=>Pm.test(t)&&!Rm.test(t),Ml=()=>!1,qm=t=>Om.test(t),Hm=t=>Mm.test(t),Um=()=>{const t=Ae("colors"),e=Ae("spacing"),s=Ae("blur"),r=Ae("brightness"),n=Ae("borderColor"),a=Ae("borderRadius"),o=Ae("borderSpacing"),c=Ae("borderWidth"),l=Ae("contrast"),d=Ae("grayscale"),u=Ae("hueRotate"),x=Ae("invert"),y=Ae("gap"),v=Ae("gradientColorStops"),w=Ae("gradientColorStopPositions"),f=Ae("inset"),p=Ae("margin"),g=Ae("opacity"),h=Ae("padding"),b=Ae("saturate"),S=Ae("scale"),_=Ae("sepia"),N=Ae("skew"),k=Ae("space"),P=Ae("translate"),M=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",fe,e],R=()=>[fe,e],D=()=>["",qt,Xt],O=()=>["auto",Ys,fe],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",fe],ke=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>[Ys,fe];return{cacheSize:500,separator:":",theme:{colors:[Er],spacing:[qt,Xt],blur:["none","",es,fe],brightness:E(),borderColor:[t],borderRadius:["none","","full",es,fe],borderSpacing:R(),borderWidth:D(),contrast:E(),grayscale:ce(),hueRotate:E(),invert:ce(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Im,Xt],inset:F(),margin:F(),opacity:E(),padding:R(),saturate:E(),scale:E(),sepia:ce(),skew:E(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":ke()}],"break-before":[{"break-before":ke()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),fe]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tr,fe]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",Tr,fe]}],"grid-cols":[{"grid-cols":[Er]}],"col-start-end":[{col:["auto",{span:["full",Tr,fe]},fe]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Er]}],"row-start-end":[{row:["auto",{span:[Tr,fe]},fe]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Xt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Aa]}],"font-family":[{font:[Er]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Ys,Aa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qt,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qt,Xt]}],"underline-offset":[{"underline-offset":["auto",qt,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),Lm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Fm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$m]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:V()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[qt,fe]}],"outline-w":[{outline:[qt,Xt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[qt,Xt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,zm]}],"shadow-color":[{shadow:[Er]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",es,fe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[x]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:E()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:E()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Tr,fe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qt,Xt,Aa]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Zm=km(Um);function ee(...t){return Zm(wl(t))}const Wm=Jh,Il=m.forwardRef(({className:t,...e},s)=>i.jsx(ml,{ref:s,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Il.displayName=ml.displayName;const Gm=aa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Dl=m.forwardRef(({className:t,variant:e,...s},r)=>i.jsx(pl,{ref:r,className:ee(Gm({variant:e}),t),...s}));Dl.displayName=pl.displayName;const Km=m.forwardRef(({className:t,...e},s)=>i.jsx(yl,{ref:s,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Km.displayName=yl.displayName;const Fl=m.forwardRef(({className:t,...e},s)=>i.jsx(vl,{ref:s,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(In,{className:"h-4 w-4"})}));Fl.displayName=vl.displayName;const Ll=m.forwardRef(({className:t,...e},s)=>i.jsx(gl,{ref:s,className:ee("text-sm font-semibold",t),...e}));Ll.displayName=gl.displayName;const Vl=m.forwardRef(({className:t,...e},s)=>i.jsx(xl,{ref:s,className:ee("text-sm opacity-90",t),...e}));Vl.displayName=xl.displayName;function Qm(){const{toasts:t}=sa();return i.jsxs(Wm,{children:[t.map(function({id:e,title:s,description:r,action:n,...a}){return i.jsxs(Dl,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[s&&i.jsx(Ll,{children:s}),r&&i.jsx(Vl,{children:r})]}),n,i.jsx(Fl,{})]},e)}),i.jsx(Il,{})]})}const Ym=["top","right","bottom","left"],ps=Math.min,ut=Math.max,Dn=Math.round,_n=Math.floor,Ft=t=>({x:t,y:t}),Jm={left:"right",right:"left",bottom:"top",top:"bottom"},Xm={start:"end",end:"start"};function ei(t,e,s){return ut(t,ps(e,s))}function Qt(t,e){return typeof t=="function"?t(e):t}function Yt(t){return t.split("-")[0]}function _r(t){return t.split("-")[1]}function Ai(t){return t==="x"?"y":"x"}function Pi(t){return t==="y"?"height":"width"}function gs(t){return["top","bottom"].includes(Yt(t))?"y":"x"}function Ri(t){return Ai(gs(t))}function ep(t,e,s){s===void 0&&(s=!1);const r=_r(t),n=Ri(t),a=Pi(n);let o=n==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Fn(o)),[o,Fn(o)]}function tp(t){const e=Fn(t);return[ti(t),e,ti(e)]}function ti(t){return t.replace(/start|end/g,e=>Xm[e])}function sp(t,e,s){const r=["left","right"],n=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return s?e?n:r:e?r:n;case"left":case"right":return e?a:o;default:return[]}}function rp(t,e,s,r){const n=_r(t);let a=sp(Yt(t),s==="start",r);return n&&(a=a.map(o=>o+"-"+n),e&&(a=a.concat(a.map(ti)))),a}function Fn(t){return t.replace(/left|right|bottom|top/g,e=>Jm[e])}function np(t){return{top:0,right:0,bottom:0,left:0,...t}}function $l(t){return typeof t!="number"?np(t):{top:t,right:t,bottom:t,left:t}}function Ln(t){const{x:e,y:s,width:r,height:n}=t;return{width:r,height:n,top:s,left:e,right:e+r,bottom:s+n,x:e,y:s}}function No(t,e,s){let{reference:r,floating:n}=t;const a=gs(e),o=Ri(e),c=Pi(o),l=Yt(e),d=a==="y",u=r.x+r.width/2-n.width/2,x=r.y+r.height/2-n.height/2,y=r[c]/2-n[c]/2;let v;switch(l){case"top":v={x:u,y:r.y-n.height};break;case"bottom":v={x:u,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:x};break;case"left":v={x:r.x-n.width,y:x};break;default:v={x:r.x,y:r.y}}switch(_r(e)){case"start":v[o]-=y*(s&&d?-1:1);break;case"end":v[o]+=y*(s&&d?-1:1);break}return v}const ap=async(t,e,s)=>{const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:o}=s,c=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:n}),{x:u,y:x}=No(d,r,l),y=r,v={},w=0;for(let f=0;f<c.length;f++){const{name:p,fn:g}=c[f],{x:h,y:b,data:S,reset:_}=await g({x:u,y:x,initialPlacement:r,placement:y,strategy:n,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});u=h??u,x=b??x,v={...v,[p]:{...v[p],...S}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(y=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:n}):_.rects),{x:u,y:x}=No(d,y,l)),f=-1)}return{x:u,y:x,placement:y,strategy:n,middlewareData:v}};async function $r(t,e){var s;e===void 0&&(e={});const{x:r,y:n,platform:a,rects:o,elements:c,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:x="floating",altBoundary:y=!1,padding:v=0}=Qt(e,t),w=$l(v),p=c[y?x==="floating"?"reference":"floating":x],g=Ln(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(p)))==null||s?p:p.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:u,strategy:l})),h=x==="floating"?{x:r,y:n,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),S=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Ln(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:h,offsetParent:b,strategy:l}):h);return{top:(g.top-_.top+w.top)/S.y,bottom:(_.bottom-g.bottom+w.bottom)/S.y,left:(g.left-_.left+w.left)/S.x,right:(_.right-g.right+w.right)/S.x}}const ip=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:r,placement:n,rects:a,platform:o,elements:c,middlewareData:l}=e,{element:d,padding:u=0}=Qt(t,e)||{};if(d==null)return{};const x=$l(u),y={x:s,y:r},v=Ri(n),w=Pi(v),f=await o.getDimensions(d),p=v==="y",g=p?"top":"left",h=p?"bottom":"right",b=p?"clientHeight":"clientWidth",S=a.reference[w]+a.reference[v]-y[v]-a.floating[w],_=y[v]-a.reference[v],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=N?N[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=c.floating[b]||a.floating[w]);const P=S/2-_/2,M=k/2-f[w]/2-1,H=ps(x[g],M),F=ps(x[h],M),R=H,D=k-f[w]-F,O=k/2-f[w]/2+P,J=ei(R,O,D),V=!l.arrow&&_r(n)!=null&&O!==J&&a.reference[w]/2-(O<R?H:F)-f[w]/2<0,X=V?O<R?O-R:O-D:0;return{[v]:y[v]+X,data:{[v]:J,centerOffset:O-J-X,...V&&{alignmentOffset:X}},reset:V}}}),op=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,r;const{placement:n,middlewareData:a,rects:o,initialPlacement:c,platform:l,elements:d}=e,{mainAxis:u=!0,crossAxis:x=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:f=!0,...p}=Qt(t,e);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const g=Yt(n),h=gs(c),b=Yt(c)===c,S=await(l.isRTL==null?void 0:l.isRTL(d.floating)),_=y||(b||!f?[Fn(c)]:tp(c)),N=w!=="none";!y&&N&&_.push(...rp(c,f,w,S));const k=[c,..._],P=await $r(e,p),M=[];let H=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&M.push(P[g]),x){const O=ep(n,o,S);M.push(P[O[0]],P[O[1]])}if(H=[...H,{placement:n,overflows:M}],!M.every(O=>O<=0)){var F,R;const O=(((F=a.flip)==null?void 0:F.index)||0)+1,J=k[O];if(J)return{data:{index:O,overflows:H},reset:{placement:J}};let V=(R=H.filter(X=>X.overflows[0]<=0).sort((X,K)=>X.overflows[1]-K.overflows[1])[0])==null?void 0:R.placement;if(!V)switch(v){case"bestFit":{var D;const X=(D=H.filter(K=>{if(N){const ce=gs(K.placement);return ce===h||ce==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ce=>ce>0).reduce((ce,ke)=>ce+ke,0)]).sort((K,ce)=>K[1]-ce[1])[0])==null?void 0:D[0];X&&(V=X);break}case"initialPlacement":V=c;break}if(n!==V)return{reset:{placement:V}}}return{}}}};function ko(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function To(t){return Ym.some(e=>t[e]>=0)}const cp=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:r="referenceHidden",...n}=Qt(t,e);switch(r){case"referenceHidden":{const a=await $r(e,{...n,elementContext:"reference"}),o=ko(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:To(o)}}}case"escaped":{const a=await $r(e,{...n,altBoundary:!0}),o=ko(a,s.floating);return{data:{escapedOffsets:o,escaped:To(o)}}}default:return{}}}}};async function lp(t,e){const{placement:s,platform:r,elements:n}=t,a=await(r.isRTL==null?void 0:r.isRTL(n.floating)),o=Yt(s),c=_r(s),l=gs(s)==="y",d=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,x=Qt(e,t);let{mainAxis:y,crossAxis:v,alignmentAxis:w}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return c&&typeof w=="number"&&(v=c==="end"?w*-1:w),l?{x:v*u,y:y*d}:{x:y*d,y:v*u}}const dp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,r;const{x:n,y:a,placement:o,middlewareData:c}=e,l=await lp(e,t);return o===((s=c.offset)==null?void 0:s.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:n+l.x,y:a+l.y,data:{...l,placement:o}}}}},up=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:r,placement:n}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:p=>{let{x:g,y:h}=p;return{x:g,y:h}}},...l}=Qt(t,e),d={x:s,y:r},u=await $r(e,l),x=gs(Yt(n)),y=Ai(x);let v=d[y],w=d[x];if(a){const p=y==="y"?"top":"left",g=y==="y"?"bottom":"right",h=v+u[p],b=v-u[g];v=ei(h,v,b)}if(o){const p=x==="y"?"top":"left",g=x==="y"?"bottom":"right",h=w+u[p],b=w-u[g];w=ei(h,w,b)}const f=c.fn({...e,[y]:v,[x]:w});return{...f,data:{x:f.x-s,y:f.y-r,enabled:{[y]:a,[x]:o}}}}}},fp=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:s,y:r,placement:n,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=Qt(t,e),u={x:s,y:r},x=gs(n),y=Ai(x);let v=u[y],w=u[x];const f=Qt(c,e),p=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const b=y==="y"?"height":"width",S=a.reference[y]-a.floating[b]+p.mainAxis,_=a.reference[y]+a.reference[b]-p.mainAxis;v<S?v=S:v>_&&(v=_)}if(d){var g,h;const b=y==="y"?"width":"height",S=["top","left"].includes(Yt(n)),_=a.reference[x]-a.floating[b]+(S&&((g=o.offset)==null?void 0:g[x])||0)+(S?0:p.crossAxis),N=a.reference[x]+a.reference[b]+(S?0:((h=o.offset)==null?void 0:h[x])||0)-(S?p.crossAxis:0);w<_?w=_:w>N&&(w=N)}return{[y]:v,[x]:w}}}},hp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,r;const{placement:n,rects:a,platform:o,elements:c}=e,{apply:l=()=>{},...d}=Qt(t,e),u=await $r(e,d),x=Yt(n),y=_r(n),v=gs(n)==="y",{width:w,height:f}=a.floating;let p,g;x==="top"||x==="bottom"?(p=x,g=y===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(g=x,p=y==="end"?"top":"bottom");const h=f-u.top-u.bottom,b=w-u.left-u.right,S=ps(f-u[p],h),_=ps(w-u[g],b),N=!e.middlewareData.shift;let k=S,P=_;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(P=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=h),N&&!y){const H=ut(u.left,0),F=ut(u.right,0),R=ut(u.top,0),D=ut(u.bottom,0);v?P=w-2*(H!==0||F!==0?H+F:ut(u.left,u.right)):k=f-2*(R!==0||D!==0?R+D:ut(u.top,u.bottom))}await l({...e,availableWidth:P,availableHeight:k});const M=await o.getDimensions(c.floating);return w!==M.width||f!==M.height?{reset:{rects:!0}}:{}}}};function ia(){return typeof window<"u"}function Nr(t){return zl(t)?(t.nodeName||"").toLowerCase():"#document"}function ft(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bt(t){var e;return(e=(zl(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zl(t){return ia()?t instanceof Node||t instanceof ft(t).Node:!1}function kt(t){return ia()?t instanceof Element||t instanceof ft(t).Element:!1}function Vt(t){return ia()?t instanceof HTMLElement||t instanceof ft(t).HTMLElement:!1}function Eo(t){return!ia()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ft(t).ShadowRoot}function un(t){const{overflow:e,overflowX:s,overflowY:r,display:n}=Tt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+s)&&!["inline","contents"].includes(n)}function mp(t){return["table","td","th"].includes(Nr(t))}function oa(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Oi(t){const e=Mi(),s=kt(t)?Tt(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function pp(t){let e=xs(t);for(;Vt(e)&&!gr(e);){if(Oi(e))return e;if(oa(e))return null;e=xs(e)}return null}function Mi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gr(t){return["html","body","#document"].includes(Nr(t))}function Tt(t){return ft(t).getComputedStyle(t)}function ca(t){return kt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xs(t){if(Nr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Eo(t)&&t.host||Bt(t);return Eo(e)?e.host:e}function Bl(t){const e=xs(t);return gr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vt(e)&&un(e)?e:Bl(e)}function zr(t,e,s){var r;e===void 0&&(e=[]),s===void 0&&(s=!0);const n=Bl(t),a=n===((r=t.ownerDocument)==null?void 0:r.body),o=ft(n);if(a){const c=si(o);return e.concat(o,o.visualViewport||[],un(n)?n:[],c&&s?zr(c):[])}return e.concat(n,zr(n,[],s))}function si(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ql(t){const e=Tt(t);let s=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const n=Vt(t),a=n?t.offsetWidth:s,o=n?t.offsetHeight:r,c=Dn(s)!==a||Dn(r)!==o;return c&&(s=a,r=o),{width:s,height:r,$:c}}function Ii(t){return kt(t)?t:t.contextElement}function Js(t){const e=Ii(t);if(!Vt(e))return Ft(1);const s=e.getBoundingClientRect(),{width:r,height:n,$:a}=ql(e);let o=(a?Dn(s.width):s.width)/r,c=(a?Dn(s.height):s.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const gp=Ft(0);function Hl(t){const e=ft(t);return!Mi()||!e.visualViewport?gp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xp(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==ft(t)?!1:e}function Ls(t,e,s,r){e===void 0&&(e=!1),s===void 0&&(s=!1);const n=t.getBoundingClientRect(),a=Ii(t);let o=Ft(1);e&&(r?kt(r)&&(o=Js(r)):o=Js(t));const c=xp(a,s,r)?Hl(a):Ft(0);let l=(n.left+c.x)/o.x,d=(n.top+c.y)/o.y,u=n.width/o.x,x=n.height/o.y;if(a){const y=ft(a),v=r&&kt(r)?ft(r):r;let w=y,f=si(w);for(;f&&r&&v!==w;){const p=Js(f),g=f.getBoundingClientRect(),h=Tt(f),b=g.left+(f.clientLeft+parseFloat(h.paddingLeft))*p.x,S=g.top+(f.clientTop+parseFloat(h.paddingTop))*p.y;l*=p.x,d*=p.y,u*=p.x,x*=p.y,l+=b,d+=S,w=ft(f),f=si(w)}}return Ln({width:u,height:x,x:l,y:d})}function Di(t,e){const s=ca(t).scrollLeft;return e?e.left+s:Ls(Bt(t)).left+s}function Ul(t,e,s){s===void 0&&(s=!1);const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-(s?0:Di(t,r)),a=r.top+e.scrollTop;return{x:n,y:a}}function yp(t){let{elements:e,rect:s,offsetParent:r,strategy:n}=t;const a=n==="fixed",o=Bt(r),c=e?oa(e.floating):!1;if(r===o||c&&a)return s;let l={scrollLeft:0,scrollTop:0},d=Ft(1);const u=Ft(0),x=Vt(r);if((x||!x&&!a)&&((Nr(r)!=="body"||un(o))&&(l=ca(r)),Vt(r))){const v=Ls(r);d=Js(r),u.x=v.x+r.clientLeft,u.y=v.y+r.clientTop}const y=o&&!x&&!a?Ul(o,l,!0):Ft(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-l.scrollLeft*d.x+u.x+y.x,y:s.y*d.y-l.scrollTop*d.y+u.y+y.y}}function vp(t){return Array.from(t.getClientRects())}function bp(t){const e=Bt(t),s=ca(t),r=t.ownerDocument.body,n=ut(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=ut(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+Di(t);const c=-s.scrollTop;return Tt(r).direction==="rtl"&&(o+=ut(e.clientWidth,r.clientWidth)-n),{width:n,height:a,x:o,y:c}}function wp(t,e){const s=ft(t),r=Bt(t),n=s.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,l=0;if(n){a=n.width,o=n.height;const d=Mi();(!d||d&&e==="fixed")&&(c=n.offsetLeft,l=n.offsetTop)}return{width:a,height:o,x:c,y:l}}function jp(t,e){const s=Ls(t,!0,e==="fixed"),r=s.top+t.clientTop,n=s.left+t.clientLeft,a=Vt(t)?Js(t):Ft(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,l=n*a.x,d=r*a.y;return{width:o,height:c,x:l,y:d}}function Ao(t,e,s){let r;if(e==="viewport")r=wp(t,s);else if(e==="document")r=bp(Bt(t));else if(kt(e))r=jp(e,s);else{const n=Hl(t);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return Ln(r)}function Zl(t,e){const s=xs(t);return s===e||!kt(s)||gr(s)?!1:Tt(s).position==="fixed"||Zl(s,e)}function Cp(t,e){const s=e.get(t);if(s)return s;let r=zr(t,[],!1).filter(c=>kt(c)&&Nr(c)!=="body"),n=null;const a=Tt(t).position==="fixed";let o=a?xs(t):t;for(;kt(o)&&!gr(o);){const c=Tt(o),l=Oi(o);!l&&c.position==="fixed"&&(n=null),(a?!l&&!n:!l&&c.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||un(o)&&!l&&Zl(t,o))?r=r.filter(u=>u!==o):n=c,o=xs(o)}return e.set(t,r),r}function Sp(t){let{element:e,boundary:s,rootBoundary:r,strategy:n}=t;const o=[...s==="clippingAncestors"?oa(e)?[]:Cp(e,this._c):[].concat(s),r],c=o[0],l=o.reduce((d,u)=>{const x=Ao(e,u,n);return d.top=ut(x.top,d.top),d.right=ps(x.right,d.right),d.bottom=ps(x.bottom,d.bottom),d.left=ut(x.left,d.left),d},Ao(e,c,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _p(t){const{width:e,height:s}=ql(t);return{width:e,height:s}}function Np(t,e,s){const r=Vt(e),n=Bt(e),a=s==="fixed",o=Ls(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const l=Ft(0);if(r||!r&&!a)if((Nr(e)!=="body"||un(n))&&(c=ca(e)),r){const y=Ls(e,!0,a,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else n&&(l.x=Di(n));const d=n&&!r&&!a?Ul(n,c):Ft(0),u=o.left+c.scrollLeft-l.x-d.x,x=o.top+c.scrollTop-l.y-d.y;return{x:u,y:x,width:o.width,height:o.height}}function Pa(t){return Tt(t).position==="static"}function Po(t,e){if(!Vt(t)||Tt(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return Bt(t)===s&&(s=s.ownerDocument.body),s}function Wl(t,e){const s=ft(t);if(oa(t))return s;if(!Vt(t)){let n=xs(t);for(;n&&!gr(n);){if(kt(n)&&!Pa(n))return n;n=xs(n)}return s}let r=Po(t,e);for(;r&&mp(r)&&Pa(r);)r=Po(r,e);return r&&gr(r)&&Pa(r)&&!Oi(r)?s:r||pp(t)||s}const kp=async function(t){const e=this.getOffsetParent||Wl,s=this.getDimensions,r=await s(t.floating);return{reference:Np(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tp(t){return Tt(t).direction==="rtl"}const Ep={convertOffsetParentRelativeRectToViewportRelativeRect:yp,getDocumentElement:Bt,getClippingRect:Sp,getOffsetParent:Wl,getElementRects:kp,getClientRects:vp,getDimensions:_p,getScale:Js,isElement:kt,isRTL:Tp};function Gl(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ap(t,e){let s=null,r;const n=Bt(t);function a(){var c;clearTimeout(r),(c=s)==null||c.disconnect(),s=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),a();const d=t.getBoundingClientRect(),{left:u,top:x,width:y,height:v}=d;if(c||e(),!y||!v)return;const w=_n(x),f=_n(n.clientWidth-(u+y)),p=_n(n.clientHeight-(x+v)),g=_n(u),b={rootMargin:-w+"px "+-f+"px "+-p+"px "+-g+"px",threshold:ut(0,ps(1,l))||1};let S=!0;function _(N){const k=N[0].intersectionRatio;if(k!==l){if(!S)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!Gl(d,t.getBoundingClientRect())&&o(),S=!1}try{s=new IntersectionObserver(_,{...b,root:n.ownerDocument})}catch{s=new IntersectionObserver(_,b)}s.observe(t)}return o(!0),a}function Pp(t,e,s,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=Ii(t),u=n||a?[...d?zr(d):[],...zr(e)]:[];u.forEach(g=>{n&&g.addEventListener("scroll",s,{passive:!0}),a&&g.addEventListener("resize",s)});const x=d&&c?Ap(d,s):null;let y=-1,v=null;o&&(v=new ResizeObserver(g=>{let[h]=g;h&&h.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),s()}),d&&!l&&v.observe(d),v.observe(e));let w,f=l?Ls(t):null;l&&p();function p(){const g=Ls(t);f&&!Gl(f,g)&&s(),f=g,w=requestAnimationFrame(p)}return s(),()=>{var g;u.forEach(h=>{n&&h.removeEventListener("scroll",s),a&&h.removeEventListener("resize",s)}),x==null||x(),(g=v)==null||g.disconnect(),v=null,l&&cancelAnimationFrame(w)}}const Rp=dp,Op=up,Mp=op,Ip=hp,Dp=cp,Ro=ip,Fp=fp,Lp=(t,e,s)=>{const r=new Map,n={platform:Ep,...s},a={...n.platform,_c:r};return ap(t,e,{...n,platform:a})};var An=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Vn(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let s,r,n;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==e.length)return!1;for(r=s;r--!==0;)if(!Vn(t[r],e[r]))return!1;return!0}if(n=Object.keys(t),s=n.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(e,n[r]))return!1;for(r=s;r--!==0;){const a=n[r];if(!(a==="_owner"&&t.$$typeof)&&!Vn(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Kl(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Oo(t,e){const s=Kl(t);return Math.round(e*s)/s}function Ra(t){const e=m.useRef(t);return An(()=>{e.current=t}),e}function Vp(t){t===void 0&&(t={});const{placement:e="bottom",strategy:s="absolute",middleware:r=[],platform:n,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:l,open:d}=t,[u,x]=m.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[y,v]=m.useState(r);Vn(y,r)||v(r);const[w,f]=m.useState(null),[p,g]=m.useState(null),h=m.useCallback(K=>{K!==N.current&&(N.current=K,f(K))},[]),b=m.useCallback(K=>{K!==k.current&&(k.current=K,g(K))},[]),S=a||w,_=o||p,N=m.useRef(null),k=m.useRef(null),P=m.useRef(u),M=l!=null,H=Ra(l),F=Ra(n),R=Ra(d),D=m.useCallback(()=>{if(!N.current||!k.current)return;const K={placement:e,strategy:s,middleware:y};F.current&&(K.platform=F.current),Lp(N.current,k.current,K).then(ce=>{const ke={...ce,isPositioned:R.current!==!1};O.current&&!Vn(P.current,ke)&&(P.current=ke,ln.flushSync(()=>{x(ke)}))})},[y,e,s,F,R]);An(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,x(K=>({...K,isPositioned:!1})))},[d]);const O=m.useRef(!1);An(()=>(O.current=!0,()=>{O.current=!1}),[]),An(()=>{if(S&&(N.current=S),_&&(k.current=_),S&&_){if(H.current)return H.current(S,_,D);D()}},[S,_,D,H,M]);const J=m.useMemo(()=>({reference:N,floating:k,setReference:h,setFloating:b}),[h,b]),V=m.useMemo(()=>({reference:S,floating:_}),[S,_]),X=m.useMemo(()=>{const K={position:s,left:0,top:0};if(!V.floating)return K;const ce=Oo(V.floating,u.x),ke=Oo(V.floating,u.y);return c?{...K,transform:"translate("+ce+"px, "+ke+"px)",...Kl(V.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:ce,top:ke}},[s,c,V.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:D,refs:J,elements:V,floatingStyles:X}),[u,D,J,V,X])}const $p=t=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:r,padding:n}=typeof t=="function"?t(s):t;return r&&e(r)?r.current!=null?Ro({element:r.current,padding:n}).fn(s):{}:r?Ro({element:r,padding:n}).fn(s):{}}}},zp=(t,e)=>({...Rp(t),options:[t,e]}),Bp=(t,e)=>({...Op(t),options:[t,e]}),qp=(t,e)=>({...Fp(t),options:[t,e]}),Hp=(t,e)=>({...Mp(t),options:[t,e]}),Up=(t,e)=>({...Ip(t),options:[t,e]}),Zp=(t,e)=>({...Dp(t),options:[t,e]}),Wp=(t,e)=>({...$p(t),options:[t,e]});var Gp="Arrow",Ql=m.forwardRef((t,e)=>{const{children:s,width:r=10,height:n=5,...a}=t;return i.jsx(Ne.svg,{...a,ref:e,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ql.displayName=Gp;var Kp=Ql;function Yl(t){const[e,s]=m.useState(void 0);return gt(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const a=n[0];let o,c;if("borderBoxSize"in a){const l=a.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,c=d.blockSize}else o=t.offsetWidth,c=t.offsetHeight;s({width:o,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else s(void 0)},[t]),e}var Fi="Popper",[Jl,la]=jr(Fi),[Qp,Xl]=Jl(Fi),ed=t=>{const{__scopePopper:e,children:s}=t,[r,n]=m.useState(null);return i.jsx(Qp,{scope:e,anchor:r,onAnchorChange:n,children:s})};ed.displayName=Fi;var td="PopperAnchor",sd=m.forwardRef((t,e)=>{const{__scopePopper:s,virtualRef:r,...n}=t,a=Xl(td,s),o=m.useRef(null),c=Ke(e,o);return m.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(Ne.div,{...n,ref:c})});sd.displayName=td;var Li="PopperContent",[Yp,Jp]=Jl(Li),rd=m.forwardRef((t,e)=>{var q,re,Pe,be,oe,ue;const{__scopePopper:s,side:r="bottom",sideOffset:n=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:w,...f}=t,p=Xl(Li,s),[g,h]=m.useState(null),b=Ke(e,Ee=>h(Ee)),[S,_]=m.useState(null),N=Yl(S),k=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,M=r+(a!=="center"?"-"+a:""),H=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},F=Array.isArray(d)?d:[d],R=F.length>0,D={padding:H,boundary:F.filter(eg),altBoundary:R},{refs:O,floatingStyles:J,placement:V,isPositioned:X,middlewareData:K}=Vp({strategy:"fixed",placement:M,whileElementsMounted:(...Ee)=>Pp(...Ee,{animationFrame:v==="always"}),elements:{reference:p.anchor},middleware:[zp({mainAxis:n+P,alignmentAxis:o}),l&&Bp({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?qp():void 0,...D}),l&&Hp({...D}),Up({...D,apply:({elements:Ee,rects:je,availableWidth:qe,availableHeight:Re})=>{const{width:it,height:Ss}=je.reference,qs=Ee.floating.style;qs.setProperty("--radix-popper-available-width",`${qe}px`),qs.setProperty("--radix-popper-available-height",`${Re}px`),qs.setProperty("--radix-popper-anchor-width",`${it}px`),qs.setProperty("--radix-popper-anchor-height",`${Ss}px`)}}),S&&Wp({element:S,padding:c}),tg({arrowWidth:k,arrowHeight:P}),y&&Zp({strategy:"referenceHidden",...D})]}),[ce,ke]=id(V),E=hr(w);gt(()=>{X&&(E==null||E())},[X,E]);const G=(q=K.arrow)==null?void 0:q.x,te=(re=K.arrow)==null?void 0:re.y,de=((Pe=K.arrow)==null?void 0:Pe.centerOffset)!==0,[we,Te]=m.useState();return gt(()=>{g&&Te(window.getComputedStyle(g).zIndex)},[g]),i.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:X?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(be=K.transformOrigin)==null?void 0:be.x,(oe=K.transformOrigin)==null?void 0:oe.y].join(" "),...((ue=K.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(Yp,{scope:s,placedSide:ce,onArrowChange:_,arrowX:G,arrowY:te,shouldHideArrow:de,children:i.jsx(Ne.div,{"data-side":ce,"data-align":ke,...f,ref:b,style:{...f.style,animation:X?void 0:"none"}})})})});rd.displayName=Li;var nd="PopperArrow",Xp={top:"bottom",right:"left",bottom:"top",left:"right"},ad=m.forwardRef(function(e,s){const{__scopePopper:r,...n}=e,a=Jp(nd,r),o=Xp[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Kp,{...n,ref:s,style:{...n.style,display:"block"}})})});ad.displayName=nd;function eg(t){return t!==null}var tg=t=>({name:"transformOrigin",options:t,fn(e){var p,g,h;const{placement:s,rects:r,middlewareData:n}=e,o=((p=n.arrow)==null?void 0:p.centerOffset)!==0,c=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,u]=id(s),x={start:"0%",center:"50%",end:"100%"}[u],y=(((g=n.arrow)==null?void 0:g.x)??0)+c/2,v=(((h=n.arrow)==null?void 0:h.y)??0)+l/2;let w="",f="";return d==="bottom"?(w=o?x:`${y}px`,f=`${-l}px`):d==="top"?(w=o?x:`${y}px`,f=`${r.floating.height+l}px`):d==="right"?(w=`${-l}px`,f=o?x:`${v}px`):d==="left"&&(w=`${r.floating.width+l}px`,f=o?x:`${v}px`),{data:{x:w,y:f}}}});function id(t){const[e,s="center"]=t.split("-");return[e,s]}var sg=ed,od=sd,cd=rd,ld=ad,[da,Ov]=jr("Tooltip",[la]),Vi=la(),dd="TooltipProvider",rg=700,Mo="tooltip.open",[ng,ud]=da(dd),fd=t=>{const{__scopeTooltip:e,delayDuration:s=rg,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:a}=t,o=m.useRef(!0),c=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),i.jsx(ng,{scope:e,isOpenDelayedRef:o,delayDuration:s,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:n,children:a})};fd.displayName=dd;var hd="Tooltip",[Mv,ua]=da(hd),ri="TooltipTrigger",ag=m.forwardRef((t,e)=>{const{__scopeTooltip:s,...r}=t,n=ua(ri,s),a=ud(ri,s),o=Vi(s),c=m.useRef(null),l=Ke(e,c,n.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),x=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),i.jsx(od,{asChild:!0,...o,children:i.jsx(Ne.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:l,onPointerMove:ye(t.onPointerMove,y=>{y.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:ye(t.onFocus,()=>{d.current||n.onOpen()}),onBlur:ye(t.onBlur,n.onClose),onClick:ye(t.onClick,n.onClose)})})});ag.displayName=ri;var ig="TooltipPortal",[Iv,og]=da(ig,{forceMount:void 0}),xr="TooltipContent",md=m.forwardRef((t,e)=>{const s=og(xr,t.__scopeTooltip),{forceMount:r=s.forceMount,side:n="top",...a}=t,o=ua(xr,t.__scopeTooltip);return i.jsx(gi,{present:r||o.open,children:o.disableHoverableContent?i.jsx(pd,{side:n,...a,ref:e}):i.jsx(cg,{side:n,...a,ref:e})})}),cg=m.forwardRef((t,e)=>{const s=ua(xr,t.__scopeTooltip),r=ud(xr,t.__scopeTooltip),n=m.useRef(null),a=Ke(e,n),[o,c]=m.useState(null),{trigger:l,onClose:d}=s,u=n.current,{onPointerInTransitChange:x}=r,y=m.useCallback(()=>{c(null),x(!1)},[x]),v=m.useCallback((w,f)=>{const p=w.currentTarget,g={x:w.clientX,y:w.clientY},h=hg(g,p.getBoundingClientRect()),b=mg(g,h),S=pg(f.getBoundingClientRect()),_=xg([...b,...S]);c(_),x(!0)},[x]);return m.useEffect(()=>()=>y(),[y]),m.useEffect(()=>{if(l&&u){const w=p=>v(p,u),f=p=>v(p,l);return l.addEventListener("pointerleave",w),u.addEventListener("pointerleave",f),()=>{l.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",f)}}},[l,u,v,y]),m.useEffect(()=>{if(o){const w=f=>{const p=f.target,g={x:f.clientX,y:f.clientY},h=(l==null?void 0:l.contains(p))||(u==null?void 0:u.contains(p)),b=!gg(g,o);h?y():b&&(y(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,u,o,d,y]),i.jsx(pd,{...t,ref:a})}),[lg,dg]=da(hd,{isInside:!1}),ug=cf("TooltipContent"),pd=m.forwardRef((t,e)=>{const{__scopeTooltip:s,children:r,"aria-label":n,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=t,l=ua(xr,s),d=Vi(s),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(Mo,u),()=>document.removeEventListener(Mo,u)),[u]),m.useEffect(()=>{if(l.trigger){const x=y=>{const v=y.target;v!=null&&v.contains(l.trigger)&&u()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[l.trigger,u]),i.jsx(vc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:x=>x.preventDefault(),onDismiss:u,children:i.jsxs(cd,{"data-state":l.stateAttribute,...d,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(ug,{children:r}),i.jsx(lg,{scope:s,isInside:!0,children:i.jsx(Mh,{id:l.contentId,role:"tooltip",children:n||r})})]})})});md.displayName=xr;var gd="TooltipArrow",fg=m.forwardRef((t,e)=>{const{__scopeTooltip:s,...r}=t,n=Vi(s);return dg(gd,s).isInside?null:i.jsx(ld,{...n,...r,ref:e})});fg.displayName=gd;function hg(t,e){const s=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),n=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(s,r,n,a)){case a:return"left";case n:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mg(t,e,s=5){const r=[];switch(e){case"top":r.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":r.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":r.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":r.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return r}function pg(t){const{top:e,right:s,bottom:r,left:n}=t;return[{x:n,y:e},{x:s,y:e},{x:s,y:r},{x:n,y:r}]}function gg(t,e){const{x:s,y:r}=t;let n=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a].x,l=e[a].y,d=e[o].x,u=e[o].y;l>r!=u>r&&s<(d-c)*(r-l)/(u-l)+c&&(n=!n)}return n}function xg(t){const e=t.slice();return e.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),yg(e)}function yg(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const n=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(n.y-o.y)>=(a.y-o.y)*(n.x-o.x))e.pop();else break}e.push(n)}e.pop();const s=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(n.y-o.y)>=(a.y-o.y)*(n.x-o.x))s.pop();else break}s.push(n)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var vg=fd,xd=md;const bg=vg,wg=m.forwardRef(({className:t,sideOffset:e=4,...s},r)=>i.jsx(xd,{ref:r,sideOffset:e,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...s}));wg.displayName=xd.displayName;const Io="medicina-student-progress",yd=m.createContext(void 0);function fn(){const t=m.useContext(yd);if(t===void 0)throw new Error("useStudentProgress must be used within a StudentProgressProvider");return t}function jg({children:t}){const[e,s]=m.useState(new Map),[r,n]=m.useState([]);m.useEffect(()=>{const N=localStorage.getItem(Io);if(N)try{const k=JSON.parse(N),P=new Map(Object.entries(k));s(P)}catch(k){console.error("Error loading progress:",k)}},[]);const a=N=>{console.log("[saveProgress] Updating progress state, size:",N.size),s(N);const k=Object.fromEntries(N);localStorage.setItem(Io,JSON.stringify(k)),console.log("[saveProgress] localStorage updated:",Object.keys(k))},o=(N,k)=>{if(console.log("[markCoursePassed] Called for:",N),k&&!["A","B","C"].includes(k)){console.warn("[markCoursePassed] Grade must be C or above to pass. Received:",k);return}const P=new Map(e);P.set(N,{courseId:N,status:"passed",grade:k,completedAt:new Date().toISOString()}),console.log("[markCoursePassed] New progress size:",P.size),a(P)},c=(N,k)=>{const P=new Map(e);P.set(N,{courseId:N,status:"in_progress",sectionId:k}),a(P)},l=(N,k)=>{const P=new Map(e);P.set(N,{courseId:N,status:"planned",sectionId:k}),a(P)},d=N=>{const k=new Map(e);k.delete(N),a(k)},u=(N,k,P)=>{if(k.has(N.id))return"passed";if(N.prerequisites.length>0){for(const M of N.prerequisites)if(!k.has(M))return"blocked"}if(N.corequisites.length>0){const M=N.corequisites.some(R=>k.has(R)),H=N.corequisites.some(R=>{const D=e.get(R);return(D==null?void 0:D.status)==="planned"||(D==null?void 0:D.status)==="in_progress"}),F=P?N.corequisites.some(R=>P.has(R)):!1;if(!M&&!H&&!F&&N.prerequisites.length>0)return"blocked"}if(N.isElective){const M=x(k,P||new Set);if(N.electiveType==="general"&&M<6||N.electiveType==="professional"&&N.term<=11&&M<11||N.electiveType==="professional"&&N.term>11&&M<15)return"blocked"}return"available"},x=(N,k)=>{if(r.length===0)return 0;const P=new Set([...Array.from(N),...Array.from(k)]);let M=0;for(let H=1;H<=18;H++){const F=r.filter(D=>D.term===H&&!D.isElective),R=F.filter(D=>P.has(D.id));F.length>0&&R.length/F.length>=.5&&(M=H)}return M},y=()=>{const N=new Set;return e.forEach((k,P)=>{k.status==="passed"&&N.add(P)}),N},v=()=>{const N=new Set;return e.forEach((k,P)=>{(k.status==="planned"||k.status==="in_progress")&&N.add(P)}),N},w=N=>{let k=0,P=0,M=0;return N.forEach(H=>{M+=H.credits;const F=e.get(H.id);(F==null?void 0:F.status)==="passed"?k+=H.credits:((F==null?void 0:F.status)==="planned"||(F==null?void 0:F.status)==="in_progress")&&(P+=H.credits)}),{passed:k,planned:P,total:M}},f=()=>{let N=0,k=0;return e.forEach(P=>{if(P.status==="passed"&&P.grade){const M=h(P.grade);M!==null&&(N+=M*g(P.courseId),k+=g(P.courseId))}}),k>0?N/k:0},p=N=>{n(N)},g=N=>{const k=r.find(P=>P.id===N);return(k==null?void 0:k.credits)||3},h=N=>({A:4,B:3,C:2,D:1,F:0})[N]??null,b=m.useMemo(()=>{console.log("[passedCourses useMemo] Recalculating with progress size:",e.size);const N=new Set;return e.forEach((k,P)=>{k.status==="passed"&&N.add(P)}),console.log("[passedCourses useMemo] Passed courses:",Array.from(N)),N},[e]),S=m.useMemo(()=>{const N=new Set;return e.forEach((k,P)=>{(k.status==="planned"||k.status==="in_progress")&&N.add(P)}),N},[e]),_={progress:e,passedCourses:b,plannedCourses:S,markCoursePassed:o,markCourseInProgress:c,markCoursePlanned:l,removeCourseProgress:d,getCourseStatus:u,getPassedCourses:y,getPlannedCourses:v,getTotalCredits:w,calculateGPA:f,updateCourses:p};return i.jsx(yd.Provider,{value:_,children:t})}function Cg({onMenuClick:t,onHomeClick:e}){return i.jsx("header",{className:"border-b bg-card text-card-foreground px-4 py-3 md:px-6 md:py-4 sticky top-0 z-30 shadow-sm transition-all duration-200",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:t,className:"md:hidden p-2 -ml-2 text-muted-foreground hover:bg-muted rounded-md transition-colors","aria-label":"Abrir men",children:i.jsx(lm,{className:"h-6 w-6"})}),i.jsxs("div",{onClick:e,className:"flex items-center gap-3 cursor-pointer group select-none transition-opacity hover:opacity-80",title:"Ir al Inicio",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg shrink-0 group-hover:bg-primary/20 transition-colors",children:i.jsx(kl,{className:"h-6 w-6 text-primary group-hover:scale-110 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg md:text-2xl font-bold leading-tight group-hover:text-primary transition-colors",children:"Planificador Medicina"}),i.jsx("p",{className:"text-xs text-muted-foreground hidden md:block",children:"Programa UTESA 2013  18 Semestres + Proyecto Final"}),i.jsx("p",{className:"text-xs text-muted-foreground md:hidden",children:"Curriculum UTESA 2013"})]})]})]})})}const Sg=aa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=m.forwardRef(({className:t,variant:e,size:s,asChild:r=!1,...n},a)=>{const o=r?bc:"button";return i.jsx(o,{className:ee(Sg({variant:e,size:s,className:t})),ref:a,...n})});ne.displayName="Button";const ge=m.forwardRef(({className:t,type:e,...s},r)=>i.jsx("input",{type:e,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s}));ge.displayName="Input";function Do(t,[e,s]){return Math.min(s,Math.max(e,t))}function vd(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _g=[" ","Enter","ArrowUp","ArrowDown"],Ng=[" ","Enter"],hn="Select",[fa,ha,kg]=xc(hn),[kr,Dv]=jr(hn,[kg,la]),ma=la(),[Tg,js]=kr(hn),[Eg,Ag]=kr(hn),bd=t=>{const{__scopeSelect:e,children:s,open:r,defaultOpen:n,onOpenChange:a,value:o,defaultValue:c,onValueChange:l,dir:d,name:u,autoComplete:x,disabled:y,required:v,form:w}=t,f=ma(e),[p,g]=m.useState(null),[h,b]=m.useState(null),[S,_]=m.useState(!1),N=mf(d),[k=!1,P]=Rn({prop:r,defaultProp:n,onChange:a}),[M,H]=Rn({prop:o,defaultProp:c,onChange:l}),F=m.useRef(null),R=p?w||!!p.closest("form"):!0,[D,O]=m.useState(new Set),J=Array.from(D).map(V=>V.props.value).join(";");return i.jsx(sg,{...f,children:i.jsxs(Tg,{required:v,scope:e,trigger:p,onTriggerChange:g,valueNode:h,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:xi(),value:M,onValueChange:H,open:k,onOpenChange:P,dir:N,triggerPointerDownPosRef:F,disabled:y,children:[i.jsx(fa.Provider,{scope:e,children:i.jsx(Eg,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(V=>{O(X=>new Set(X).add(V))},[]),onNativeOptionRemove:m.useCallback(V=>{O(X=>{const K=new Set(X);return K.delete(V),K})},[]),children:s})}),R?i.jsxs(Ud,{"aria-hidden":!0,required:v,tabIndex:-1,name:u,autoComplete:x,value:M,onChange:V=>H(V.target.value),disabled:y,form:w,children:[M===void 0?i.jsx("option",{value:""}):null,Array.from(D)]},J):null]})})};bd.displayName=hn;var wd="SelectTrigger",jd=m.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:r=!1,...n}=t,a=ma(s),o=js(wd,s),c=o.disabled||r,l=Ke(e,o.onTriggerChange),d=ha(s),u=m.useRef("touch"),[x,y,v]=Zd(f=>{const p=d().filter(b=>!b.disabled),g=p.find(b=>b.value===o.value),h=Wd(p,f,g);h!==void 0&&o.onValueChange(h.value)}),w=f=>{c||(o.onOpenChange(!0),v()),f&&(o.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return i.jsx(od,{asChild:!0,...a,children:i.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Hd(o.value)?"":void 0,...n,ref:l,onClick:ye(n.onClick,f=>{f.currentTarget.focus(),u.current!=="mouse"&&w(f)}),onPointerDown:ye(n.onPointerDown,f=>{u.current=f.pointerType;const p=f.target;p.hasPointerCapture(f.pointerId)&&p.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(w(f),f.preventDefault())}),onKeyDown:ye(n.onKeyDown,f=>{const p=x.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&y(f.key),!(p&&f.key===" ")&&_g.includes(f.key)&&(w(),f.preventDefault())})})})});jd.displayName=wd;var Cd="SelectValue",Sd=m.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:n,children:a,placeholder:o="",...c}=t,l=js(Cd,s),{onValueNodeHasChildrenChange:d}=l,u=a!==void 0,x=Ke(e,l.onValueNodeChange);return gt(()=>{d(u)},[d,u]),i.jsx(Ne.span,{...c,ref:x,style:{pointerEvents:"none"},children:Hd(l.value)?i.jsx(i.Fragment,{children:o}):a})});Sd.displayName=Cd;var Pg="SelectIcon",_d=m.forwardRef((t,e)=>{const{__scopeSelect:s,children:r,...n}=t;return i.jsx(Ne.span,{"aria-hidden":!0,...n,ref:e,children:r||""})});_d.displayName=Pg;var Rg="SelectPortal",Nd=t=>i.jsx(yc,{asChild:!0,...t});Nd.displayName=Rg;var Vs="SelectContent",kd=m.forwardRef((t,e)=>{const s=js(Vs,t.__scopeSelect),[r,n]=m.useState();if(gt(()=>{n(new DocumentFragment)},[]),!s.open){const a=r;return a?ln.createPortal(i.jsx(Td,{scope:t.__scopeSelect,children:i.jsx(fa.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(Ed,{...t,ref:e})});kd.displayName=Vs;var yt=10,[Td,Cs]=kr(Vs),Og="SelectContentImpl",Mg=hf("SelectContent.RemoveScroll"),Ed=m.forwardRef((t,e)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:x,collisionBoundary:y,collisionPadding:v,sticky:w,hideWhenDetached:f,avoidCollisions:p,...g}=t,h=js(Vs,s),[b,S]=m.useState(null),[_,N]=m.useState(null),k=Ke(e,q=>S(q)),[P,M]=m.useState(null),[H,F]=m.useState(null),R=ha(s),[D,O]=m.useState(!1),J=m.useRef(!1);m.useEffect(()=>{if(b)return lf(b)},[b]),df();const V=m.useCallback(q=>{const[re,...Pe]=R().map(ue=>ue.ref.current),[be]=Pe.slice(-1),oe=document.activeElement;for(const ue of q)if(ue===oe||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===re&&_&&(_.scrollTop=0),ue===be&&_&&(_.scrollTop=_.scrollHeight),ue==null||ue.focus(),document.activeElement!==oe))return},[R,_]),X=m.useCallback(()=>V([P,b]),[V,P,b]);m.useEffect(()=>{D&&X()},[D,X]);const{onOpenChange:K,triggerPointerDownPosRef:ce}=h;m.useEffect(()=>{if(b){let q={x:0,y:0};const re=be=>{var oe,ue;q={x:Math.abs(Math.round(be.pageX)-(((oe=ce.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(be.pageY)-(((ue=ce.current)==null?void 0:ue.y)??0))}},Pe=be=>{q.x<=10&&q.y<=10?be.preventDefault():b.contains(be.target)||K(!1),document.removeEventListener("pointermove",re),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[b,K,ce]),m.useEffect(()=>{const q=()=>K(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[K]);const[ke,E]=Zd(q=>{const re=R().filter(oe=>!oe.disabled),Pe=re.find(oe=>oe.ref.current===document.activeElement),be=Wd(re,q,Pe);be&&setTimeout(()=>be.ref.current.focus())}),G=m.useCallback((q,re,Pe)=>{const be=!J.current&&!Pe;(h.value!==void 0&&h.value===re||be)&&(M(q),be&&(J.current=!0))},[h.value]),te=m.useCallback(()=>b==null?void 0:b.focus(),[b]),de=m.useCallback((q,re,Pe)=>{const be=!J.current&&!Pe;(h.value!==void 0&&h.value===re||be)&&F(q)},[h.value]),we=r==="popper"?ni:Ad,Te=we===ni?{side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:x,collisionBoundary:y,collisionPadding:v,sticky:w,hideWhenDetached:f,avoidCollisions:p}:{};return i.jsx(Td,{scope:s,content:b,viewport:_,onViewportChange:N,itemRefCallback:G,selectedItem:P,onItemLeave:te,itemTextRefCallback:de,focusSelectedItem:X,selectedItemText:H,position:r,isPositioned:D,searchRef:ke,children:i.jsx(uf,{as:Mg,allowPinchZoom:!0,children:i.jsx(ff,{asChild:!0,trapped:h.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:ye(n,q=>{var re;(re=h.trigger)==null||re.focus({preventScroll:!0}),q.preventDefault()}),children:i.jsx(vc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:i.jsx(we,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:q=>q.preventDefault(),...g,...Te,onPlaced:()=>O(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ye(g.onKeyDown,q=>{const re=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!re&&q.key.length===1&&E(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let be=R().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(q.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const oe=q.target,ue=be.indexOf(oe);be=be.slice(ue+1)}setTimeout(()=>V(be)),q.preventDefault()}})})})})})})});Ed.displayName=Og;var Ig="SelectItemAlignedPosition",Ad=m.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:r,...n}=t,a=js(Vs,s),o=Cs(Vs,s),[c,l]=m.useState(null),[d,u]=m.useState(null),x=Ke(e,k=>u(k)),y=ha(s),v=m.useRef(!1),w=m.useRef(!0),{viewport:f,selectedItem:p,selectedItemText:g,focusSelectedItem:h}=o,b=m.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&d&&f&&p&&g){const k=a.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),H=g.getBoundingClientRect();if(a.dir!=="rtl"){const oe=H.left-P.left,ue=M.left-oe,Ee=k.left-ue,je=k.width+Ee,qe=Math.max(je,P.width),Re=window.innerWidth-yt,it=Do(ue,[yt,Math.max(yt,Re-qe)]);c.style.minWidth=je+"px",c.style.left=it+"px"}else{const oe=P.right-H.right,ue=window.innerWidth-M.right-oe,Ee=window.innerWidth-k.right-ue,je=k.width+Ee,qe=Math.max(je,P.width),Re=window.innerWidth-yt,it=Do(ue,[yt,Math.max(yt,Re-qe)]);c.style.minWidth=je+"px",c.style.right=it+"px"}const F=y(),R=window.innerHeight-yt*2,D=f.scrollHeight,O=window.getComputedStyle(d),J=parseInt(O.borderTopWidth,10),V=parseInt(O.paddingTop,10),X=parseInt(O.borderBottomWidth,10),K=parseInt(O.paddingBottom,10),ce=J+V+D+K+X,ke=Math.min(p.offsetHeight*5,ce),E=window.getComputedStyle(f),G=parseInt(E.paddingTop,10),te=parseInt(E.paddingBottom,10),de=k.top+k.height/2-yt,we=R-de,Te=p.offsetHeight/2,q=p.offsetTop+Te,re=J+V+q,Pe=ce-re;if(re<=de){const oe=F.length>0&&p===F[F.length-1].ref.current;c.style.bottom="0px";const ue=d.clientHeight-f.offsetTop-f.offsetHeight,Ee=Math.max(we,Te+(oe?te:0)+ue+X),je=re+Ee;c.style.height=je+"px"}else{const oe=F.length>0&&p===F[0].ref.current;c.style.top="0px";const Ee=Math.max(de,J+f.offsetTop+(oe?G:0)+Te)+Pe;c.style.height=Ee+"px",f.scrollTop=re-de+f.offsetTop}c.style.margin=`${yt}px 0`,c.style.minHeight=ke+"px",c.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[y,a.trigger,a.valueNode,c,d,f,p,g,a.dir,r]);gt(()=>b(),[b]);const[S,_]=m.useState();gt(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const N=m.useCallback(k=>{k&&w.current===!0&&(b(),h==null||h(),w.current=!1)},[b,h]);return i.jsx(Fg,{scope:s,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:N,children:i.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(Ne.div,{...n,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Ad.displayName=Ig;var Dg="SelectPopperPosition",ni=m.forwardRef((t,e)=>{const{__scopeSelect:s,align:r="start",collisionPadding:n=yt,...a}=t,o=ma(s);return i.jsx(cd,{...o,...a,ref:e,align:r,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ni.displayName=Dg;var[Fg,$i]=kr(Vs,{}),ai="SelectViewport",Pd=m.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:r,...n}=t,a=Cs(ai,s),o=$i(ai,s),c=Ke(e,a.onViewportChange),l=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(fa.Slot,{scope:s,children:i.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ye(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&x){const v=Math.abs(l.current-u.scrollTop);if(v>0){const w=window.innerHeight-yt*2,f=parseFloat(x.style.minHeight),p=parseFloat(x.style.height),g=Math.max(f,p);if(g<w){const h=g+v,b=Math.min(w,h),S=h-b;x.style.height=b+"px",x.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,x.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Pd.displayName=ai;var Rd="SelectGroup",[Lg,Vg]=kr(Rd),$g=m.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,n=xi();return i.jsx(Lg,{scope:s,id:n,children:i.jsx(Ne.div,{role:"group","aria-labelledby":n,...r,ref:e})})});$g.displayName=Rd;var Od="SelectLabel",Md=m.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,n=Vg(Od,s);return i.jsx(Ne.div,{id:n.id,...r,ref:e})});Md.displayName=Od;var $n="SelectItem",[zg,Id]=kr($n),Dd=m.forwardRef((t,e)=>{const{__scopeSelect:s,value:r,disabled:n=!1,textValue:a,...o}=t,c=js($n,s),l=Cs($n,s),d=c.value===r,[u,x]=m.useState(a??""),[y,v]=m.useState(!1),w=Ke(e,h=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,h,r,n)}),f=xi(),p=m.useRef("touch"),g=()=>{n||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(zg,{scope:s,value:r,disabled:n,textId:f,isSelected:d,onItemTextChange:m.useCallback(h=>{x(b=>b||((h==null?void 0:h.textContent)??"").trim())},[]),children:i.jsx(fa.ItemSlot,{scope:s,value:r,disabled:n,textValue:u,children:i.jsx(Ne.div,{role:"option","aria-labelledby":f,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:w,onFocus:ye(o.onFocus,()=>v(!0)),onBlur:ye(o.onBlur,()=>v(!1)),onClick:ye(o.onClick,()=>{p.current!=="mouse"&&g()}),onPointerUp:ye(o.onPointerUp,()=>{p.current==="mouse"&&g()}),onPointerDown:ye(o.onPointerDown,h=>{p.current=h.pointerType}),onPointerMove:ye(o.onPointerMove,h=>{var b;p.current=h.pointerType,n?(b=l.onItemLeave)==null||b.call(l):p.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,h=>{var b;h.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:ye(o.onKeyDown,h=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&h.key===" "||(Ng.includes(h.key)&&g(),h.key===" "&&h.preventDefault())})})})})});Dd.displayName=$n;var Or="SelectItemText",Fd=m.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:n,...a}=t,o=js(Or,s),c=Cs(Or,s),l=Id(Or,s),d=Ag(Or,s),[u,x]=m.useState(null),y=Ke(e,g=>x(g),l.onItemTextChange,g=>{var h;return(h=c.itemTextRefCallback)==null?void 0:h.call(c,g,l.value,l.disabled)}),v=u==null?void 0:u.textContent,w=m.useMemo(()=>i.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:f,onNativeOptionRemove:p}=d;return gt(()=>(f(w),()=>p(w)),[f,p,w]),i.jsxs(i.Fragment,{children:[i.jsx(Ne.span,{id:l.textId,...a,ref:y}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ln.createPortal(a.children,o.valueNode):null]})});Fd.displayName=Or;var Ld="SelectItemIndicator",Vd=m.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return Id(Ld,s).isSelected?i.jsx(Ne.span,{"aria-hidden":!0,...r,ref:e}):null});Vd.displayName=Ld;var ii="SelectScrollUpButton",$d=m.forwardRef((t,e)=>{const s=Cs(ii,t.__scopeSelect),r=$i(ii,t.__scopeSelect),[n,a]=m.useState(!1),o=Ke(e,r.onScrollButtonChange);return gt(()=>{if(s.viewport&&s.isPositioned){let c=function(){const d=l.scrollTop>0;a(d)};const l=s.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),n?i.jsx(Bd,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=s;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});$d.displayName=ii;var oi="SelectScrollDownButton",zd=m.forwardRef((t,e)=>{const s=Cs(oi,t.__scopeSelect),r=$i(oi,t.__scopeSelect),[n,a]=m.useState(!1),o=Ke(e,r.onScrollButtonChange);return gt(()=>{if(s.viewport&&s.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<d;a(u)};const l=s.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),n?i.jsx(Bd,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=s;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});zd.displayName=oi;var Bd=m.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:r,...n}=t,a=Cs("SelectScrollButton",s),o=m.useRef(null),c=ha(s),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),gt(()=>{var u;const d=c().find(x=>x.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[c]),i.jsx(Ne.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:ye(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ye(n.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ye(n.onPointerLeave,()=>{l()})})}),Bg="SelectSeparator",qd=m.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return i.jsx(Ne.div,{"aria-hidden":!0,...r,ref:e})});qd.displayName=Bg;var ci="SelectArrow",qg=m.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,n=ma(s),a=js(ci,s),o=Cs(ci,s);return a.open&&o.position==="popper"?i.jsx(ld,{...n,...r,ref:e}):null});qg.displayName=ci;function Hd(t){return t===""||t===void 0}var Ud=m.forwardRef((t,e)=>{const{value:s,...r}=t,n=m.useRef(null),a=Ke(e,n),o=vd(s);return m.useEffect(()=>{const c=n.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==s&&u){const x=new Event("change",{bubbles:!0});u.call(c,s),c.dispatchEvent(x)}},[o,s]),i.jsx(dn,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:s})})});Ud.displayName="BubbleSelect";function Zd(t){const e=hr(t),s=m.useRef(""),r=m.useRef(0),n=m.useCallback(o=>{const c=s.current+o;e(c),function l(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(c)},[e]),a=m.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,n,a]}function Wd(t,e,s){const n=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=Hg(t,Math.max(a,0));n.length===1&&(o=o.filter(d=>d!==s));const l=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==s?l:void 0}function Hg(t,e){return t.map((s,r)=>t[(e+r)%t.length])}var Ug=bd,Gd=jd,Zg=Sd,Wg=_d,Gg=Nd,Kd=kd,Kg=Pd,Qd=Md,Yd=Dd,Qg=Fd,Yg=Vd,Jd=$d,Xd=zd,eu=qd;const pa=Ug,ga=Zg,mn=m.forwardRef(({className:t,children:e,...s},r)=>i.jsxs(Gd,{ref:r,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,i.jsx(Wg,{asChild:!0,children:i.jsx(_l,{className:"h-4 w-4 opacity-50"})})]}));mn.displayName=Gd.displayName;const tu=m.forwardRef(({className:t,...e},s)=>i.jsx(Jd,{ref:s,className:ee("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(am,{className:"h-4 w-4"})}));tu.displayName=Jd.displayName;const su=m.forwardRef(({className:t,...e},s)=>i.jsx(Xd,{ref:s,className:ee("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(_l,{className:"h-4 w-4"})}));su.displayName=Xd.displayName;const pn=m.forwardRef(({className:t,children:e,position:s="popper",...r},n)=>i.jsx(Gg,{children:i.jsxs(Kd,{ref:n,className:ee("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[i.jsx(tu,{}),i.jsx(Kg,{className:ee("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(su,{})]})}));pn.displayName=Kd.displayName;const Jg=m.forwardRef(({className:t,...e},s)=>i.jsx(Qd,{ref:s,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Jg.displayName=Qd.displayName;const yr=m.forwardRef(({className:t,children:e,...s},r)=>i.jsxs(Yd,{ref:r,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Yg,{children:i.jsx(Sl,{className:"h-4 w-4"})})}),i.jsx(Qg,{children:e})]}));yr.displayName=Yd.displayName;const Xg=m.forwardRef(({className:t,...e},s)=>i.jsx(eu,{ref:s,className:ee("-mx-1 my-1 h-px bg-muted",t),...e}));Xg.displayName=eu.displayName;var zi="Checkbox",[ex,Fv]=jr(zi),[tx,sx]=ex(zi),ru=m.forwardRef((t,e)=>{const{__scopeCheckbox:s,name:r,checked:n,defaultChecked:a,required:o,disabled:c,value:l="on",onCheckedChange:d,form:u,...x}=t,[y,v]=m.useState(null),w=Ke(e,S=>v(S)),f=m.useRef(!1),p=y?u||!!y.closest("form"):!0,[g=!1,h]=Rn({prop:n,defaultProp:a,onChange:d}),b=m.useRef(g);return m.useEffect(()=>{const S=y==null?void 0:y.form;if(S){const _=()=>h(b.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[y,h]),i.jsxs(tx,{scope:s,state:g,disabled:c,children:[i.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":fs(g)?"mixed":g,"aria-required":o,"data-state":iu(g),"data-disabled":c?"":void 0,disabled:c,value:l,...x,ref:w,onKeyDown:ye(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ye(t.onClick,S=>{h(_=>fs(_)?!0:!_),p&&(f.current=S.isPropagationStopped(),f.current||S.stopPropagation())})}),p&&i.jsx(rx,{control:y,bubbles:!f.current,name:r,value:l,checked:g,required:o,disabled:c,form:u,style:{transform:"translateX(-100%)"},defaultChecked:fs(a)?!1:a})]})});ru.displayName=zi;var nu="CheckboxIndicator",au=m.forwardRef((t,e)=>{const{__scopeCheckbox:s,forceMount:r,...n}=t,a=sx(nu,s);return i.jsx(gi,{present:r||fs(a.state)||a.state===!0,children:i.jsx(Ne.span,{"data-state":iu(a.state),"data-disabled":a.disabled?"":void 0,...n,ref:e,style:{pointerEvents:"none",...t.style}})})});au.displayName=nu;var rx=t=>{const{control:e,checked:s,bubbles:r=!0,defaultChecked:n,...a}=t,o=m.useRef(null),c=vd(s),l=Yl(e);m.useEffect(()=>{const u=o.current,x=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(x,"checked").set;if(c!==s&&v){const w=new Event("click",{bubbles:r});u.indeterminate=fs(s),v.call(u,fs(s)?!1:s),u.dispatchEvent(w)}},[c,s,r]);const d=m.useRef(fs(s)?!1:s);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??d.current,...a,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fs(t){return t==="indeterminate"}function iu(t){return fs(t)?"indeterminate":t?"checked":"unchecked"}var ou=ru,nx=au;const zn=m.forwardRef(({className:t,...e},s)=>i.jsx(ou,{ref:s,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(nx,{className:ee("flex items-center justify-center text-current"),children:i.jsx(Sl,{className:"h-4 w-4"})})}));zn.displayName=ou.displayName;const xt=(...t)=>console.log("[LocalJsonProvider]",...t);class ax{constructor(){this.coursesMem=null,this.sectionsMem=null}readLS(e){try{const s=localStorage.getItem(e);return s?JSON.parse(s):null}catch{return null}}async getCourses(){if(this.coursesMem)return xt("courses from mem:",this.coursesMem.length),this.coursesMem;const e=this.readLS("admin:courses");if(Array.isArray(e)&&e.length>0)return xt("courses from localStorage:",e.length),this.coursesMem=e,e;const s="/medicina-pwa-final/data/courses.json";xt("fetching courses:",s);const r=await fetch(s,{cache:"no-store"});if(!r.ok)throw new Error(`courses fetch ${r.status}`);const n=await r.json(),a=Array.isArray(n)?n:[];return xt("courses fetched count:",a.length),this.coursesMem=a,a}async getSections(){if(this.sectionsMem)return xt("sections from mem (type):",Array.isArray(this.sectionsMem)?"array":typeof this.sectionsMem),this.sectionsMem;const e=this.readLS("admin:sections");if(e&&(Array.isArray(e)&&e.length>0||e.courses))return xt("sections from localStorage (type):",Array.isArray(e)?"array":"object"),this.sectionsMem=e,e;const s="/medicina-pwa-final/data/sections.json";xt("fetching sections:",s);const r=await fetch(s,{cache:"no-store"});if(!r.ok)throw new Error(`sections fetch ${r.status}`);const a=await r.json()??[];return xt("sections fetched type:",Array.isArray(a)?"array":"object"),this.sectionsMem=a,a}async saveCourses(e){const s=Array.isArray(e)?e:[];this.coursesMem=s,localStorage.setItem("admin:courses",JSON.stringify(s)),xt("courses saved (ls) count:",s.length)}async saveSections(e){const s=e??(Array.isArray(e)?[]:{courses:[]});this.sectionsMem=s,localStorage.setItem("admin:sections",JSON.stringify(s)),xt("sections saved (ls) type:",Array.isArray(s)?"array":"object")}clearOverrides(){localStorage.removeItem("admin:courses"),localStorage.removeItem("admin:sections"),this.coursesMem=null,this.sectionsMem=null,xt("overrides cleared")}}const At=new ax;function Bi(){const[t,e]=m.useState([]),[s,r]=m.useState([]),[n,a]=m.useState(!0);m.useEffect(()=>{let y=!1;return(async()=>{try{const[v,w]=await Promise.all([At.getCourses(),At.getSections()]);y||(e(Array.isArray(v)?v:[]),r(w??[]))}catch(v){console.error("[useCourseData] load error:",v)}finally{y||a(!1)}})(),()=>{y=!0}},[]);const o=m.useMemo(()=>{const y=new Map;for(const v of t){y.has(v.term)||y.set(v.term,{term:v.term,name:`CUATRIMESTRE ${v.term}`,block:v.block,credits:0,courseCount:0});const w=y.get(v.term);w.credits+=v.credits,w.courseCount+=1}return y},[t]);return{courses:t,sections:s,loading:n,getCourseById:y=>t.find(v=>v.id===y),getSectionsByCourse:y=>{var w;if(Array.isArray(s))return s.filter(f=>f.courseId===y);const v=(w=s==null?void 0:s.courses)==null?void 0:w.find(f=>f.id===y);return(v==null?void 0:v.sections)??[]},getCoursesByTerm:y=>t.filter(v=>v.term===y),getElectivesByType:y=>t.filter(v=>v.isElective&&v.electiveType===y),getAllTerms:()=>Array.from(o.values()).sort((y,v)=>y.term-v.term)}}function Fo({filters:t,onFiltersChange:e,activeView:s,onViewChange:r,onShowPlanModal:n}){var y;const{getAllTerms:a,courses:o}=Bi(),{calculateGPA:c,getTotalCredits:l}=fn(),d=a(),u=c(),x=v=>{e({...t,status:v==="all"?null:v})};return i.jsxs("nav",{className:"w-64 bg-card border-r border-border flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ne,{variant:s==="courses"?"default":"ghost",className:"w-full justify-start gap-3",onClick:()=>r("courses"),"data-testid":"nav-course-list",children:[i.jsx(cm,{className:"w-4 h-4"}),"Lista de Materias"]}),i.jsxs(ne,{variant:"ghost",className:"w-full justify-start gap-3",onClick:n,"data-testid":"nav-my-plan",children:[i.jsx(im,{className:"w-4 h-4"}),"Mi Plan"]}),i.jsxs(ne,{variant:s==="progress"?"default":"ghost",className:"w-full justify-start gap-3",onClick:()=>r("progress"),"data-testid":"nav-progress",children:[i.jsx(hm,{className:"w-4 h-4"}),"Progreso"]})]})}),i.jsx("div",{className:"p-4 flex-1",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Filtros"}),i.jsxs("div",{className:"mt-2 space-y-2",children:[i.jsxs(pa,{value:((y=t.term)==null?void 0:y.toString())||"",onValueChange:v=>e({...t,term:v&&v!=="all"?parseInt(v):null}),children:[i.jsx(mn,{"data-testid":"filter-term",children:i.jsx(ga,{placeholder:"Todos los Semestres"})}),i.jsxs(pn,{children:[i.jsx(yr,{value:"all",children:"Todos los Semestres"}),d.map(v=>i.jsxs(yr,{value:v.term.toString(),children:["Semestre ",v.term," - ",v.block]},v.term))]})]}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsx(ne,{size:"sm",variant:t.status===null?"default":"outline",className:"text-xs",onClick:()=>x("all"),"data-testid":"filter-all",children:"Todas"}),i.jsx(ne,{size:"sm",variant:t.status==="available"?"default":"outline",className:"text-xs",onClick:()=>x("available"),"data-testid":"filter-available",children:"Disponibles"}),i.jsx(ne,{size:"sm",variant:t.status==="blocked"?"default":"outline",className:"text-xs",onClick:()=>x("blocked"),"data-testid":"filter-blocked",children:"Bloqueadas"}),i.jsx(ne,{size:"sm",variant:t.status==="passed"?"default":"outline",className:"text-xs",onClick:()=>x("passed"),"data-testid":"filter-passed",children:"Aprobadas"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zn,{id:"electives",checked:t.electivesOnly,onCheckedChange:v=>e({...t,electivesOnly:!!v}),"data-testid":"filter-electives-only"}),i.jsx("label",{htmlFor:"electives",className:"text-sm text-foreground",children:"Solo electivas"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(zn,{id:"in-plan",checked:t.inPlanOnly,onCheckedChange:v=>e({...t,inPlanOnly:!!v}),"data-testid":"filter-in-plan"}),i.jsx("label",{htmlFor:"in-plan",className:"text-sm text-foreground",children:"En mi plan"})]})]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-border",children:[i.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Buscar"}),i.jsx(ge,{type:"text",placeholder:"Cdigo o nombre de materia...",className:"mt-2",value:t.searchTerm,onChange:v=>e({...t,searchTerm:v.target.value}),"data-testid":"search-input"})]})]})}),i.jsx("div",{className:"p-4 border-t border-border",children:i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsxs("div",{"data-testid":"nav-credits",children:["Crditos del Plan: ",i.jsx("span",{className:"font-medium text-foreground",children:"0/22"})]}),i.jsxs("div",{"data-testid":"nav-gpa",children:["ndice: ",i.jsx("span",{className:"font-medium text-foreground",children:u.toFixed(2)})]})]})})]})}const ix=aa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function It({className:t,variant:e,...s}){return i.jsx("div",{className:ee(ix({variant:e}),t),...s})}const St=m.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));St.displayName="Card";const hs=m.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ee("flex flex-col space-y-1.5 p-6",t),...e}));hs.displayName="CardHeader";const ms=m.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));ms.displayName="CardTitle";const ox=m.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ee("text-sm text-muted-foreground",t),...e}));ox.displayName="CardDescription";const _t=m.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ee("p-6 pt-0",t),...e}));_t.displayName="CardContent";const cx=m.forwardRef(({className:t,...e},s)=>i.jsx("div",{ref:s,className:ee("flex items-center p-6 pt-0",t),...e}));cx.displayName="CardFooter";const Lo="medicina-course-plan";function lx(){const[t,e]=m.useState([]);m.useEffect(()=>{const w=localStorage.getItem(Lo);if(w)try{const f=JSON.parse(w);e(f)}catch(f){console.error("Error loading course plan:",f)}},[]);const s=w=>{e(w),localStorage.setItem(Lo,JSON.stringify(w))},r=(w,f,p,g=1)=>{const h=[...t],b=h.findIndex(S=>S.courseId===w);b>=0?h[b]={courseId:w,plannedTerm:f,sectionId:p,priority:g}:h.push({courseId:w,plannedTerm:f,sectionId:p,priority:g}),s(h)},n=w=>{const f=t.filter(p=>p.courseId!==w);s(f)},a=(w,f)=>{const p=t.map(g=>g.courseId===w?{...g,sectionId:f}:g);s(p)},o=w=>{const f=[],p=t.filter(g=>g.sectionId).map(g=>w.find(h=>h.id===g.sectionId)).filter(g=>g!==void 0);for(let g=0;g<p.length;g++)for(let h=g+1;h<p.length;h++){const b=p[g],S=p[h],_=c(b,S);_&&f.push({course1:b.courseId,course2:S.courseId,conflictTime:_})}return f},c=(w,f)=>{for(const p of w.schedule)for(const g of f.schedule)if(p.day===g.day){const h=l(p.startTime),b=l(p.endTime),S=l(g.startTime),_=l(g.endTime);if(h<_&&b>S)return`${p.day} ${p.startTime}-${p.endTime}`}return null},l=w=>{const[f,p]=w.split(":").map(Number);return f*60+p},d=()=>new Set(t.map(w=>w.courseId)),u=(w,f)=>t.filter(p=>p.plannedTerm===w).reduce((p,g)=>{const h=f.find(b=>b.id===g.courseId);return p+((h==null?void 0:h.credits)||0)},0),x=(w,f,p,g,h=22)=>{const b=u(w,f),S=h-b,_=[];let N=0;const k=new Set(t.map(F=>F.courseId)),P=y(f,p,k),M=new Set,H=F=>{for(const R of P){if(R.some(V=>M.has(V)))continue;const D=R.map(V=>f.find(X=>X.id===V)).filter(Boolean);if(D.length===0||!D.some(F))continue;const O=D.reduce((V,X)=>V+X.credits,0);if(N+O>S)continue;let J=!1;if(D.length===1){const V=D[0];J=g(V,p,k)==="available"&&(!V.isElective||v(V,w))}else{const V=new Set([...Array.from(k),...R]);J=D.every(X=>g(X,p,V)==="available"&&(!X.isElective||v(X,w)))}J&&(R.forEach(V=>{_.push(V),M.add(V)}),N+=O)}};return H(F=>F.term===w&&!F.isElective),H(F=>F.isElective&&v(F,w)),H(F=>F.term<w&&!F.isElective),_},y=(w,f,p)=>{const g=[],h=new Set;for(const b of w)if(!(h.has(b.id)||f.has(b.id)||p.has(b.id)))if(!b.corequisites||b.corequisites.length===0)g.push([b.id]),h.add(b.id);else{const S=new Set([b.id]),_=[...b.corequisites];for(;_.length>0;){const k=_.shift();if(!S.has(k)&&!f.has(k)&&!p.has(k)){S.add(k);const P=w.find(M=>M.id===k);P&&P.corequisites&&P.corequisites.forEach(M=>{S.has(M)||_.push(M)})}}const N=Array.from(S);g.push(N),N.forEach(k=>h.add(k))}return g},v=(w,f)=>w.isElective?w.electiveType==="general"&&f>=6||w.electiveType==="professional"&&w.term<=11&&f>=11||w.electiveType==="professional"&&w.term>11&&f>=15:!1;return{coursePlan:t,addCourseToPlan:r,removeCourseFromPlan:n,updateSectionSelection:a,detectScheduleConflicts:o,getCoursesInPlan:d,getPlannedTermCredits:u,suggestCoursesForTerm:x,isElectiveAvailableForTerm:v,buildCorequisiteClusters:y}}function dx({filters:t,onCourseSelect:e,selectedCourse:s,onShowPlanModal:r}){const{courses:n,getAllTerms:a}=Bi(),{getCourseStatus:o,passedCourses:c,getPlannedCourses:l}=fn(),{getCoursesInPlan:d}=lx(),u=d(),x=l(),y=a(),v=m.useMemo(()=>n.filter(h=>{if(t.term&&h.term!==t.term||t.status&&o(h,c,x)!==t.status||t.electivesOnly&&!h.isElective||t.inPlanOnly&&!u.has(h.id))return!1;if(t.searchTerm){const b=t.searchTerm.toLowerCase();if(!h.id.toLowerCase().includes(b)&&!h.name.toLowerCase().includes(b))return!1}return!0}),[n,t,c,u,x]),w=m.useMemo(()=>{const h=new Map,b=new Map;return v.forEach(_=>{if(_.isElective){const k={general:6,professional:_.term>11?15:11}[_.electiveType]||_.term;if(!b.has(k)){const P=_.electiveType==="general"?"Electivas Generales":k===11?"Electivas Profesionalizantes - Ciencias Bsicas":"Electivas Profesionalizantes - Ciencias Clnicas";b.set(k,{term:k,name:P,block:"ELECTIVAS",courses:[],isElective:!0,electiveType:_.electiveType})}b.get(k).courses.push(_)}else{if(!h.has(_.term)){const N=y.find(k=>k.term===_.term);h.set(_.term,{term:_.term,name:(N==null?void 0:N.name)||`Cuatrimestre ${_.term}`,block:(N==null?void 0:N.block)||_.block,courses:[],isElective:!1})}h.get(_.term).courses.push(_)}}),[...Array.from(h.values()),...Array.from(b.values())].sort((_,N)=>_.term!==N.term?_.term-N.term:_.isElective?1:-1)},[v,y]),f=h=>{switch(o(h,c,x)){case"available":return i.jsx(It,{variant:"default",className:"pill ok",children:"Disponible"});case"blocked":return i.jsx(It,{variant:"destructive",className:"pill bad",children:"Bloqueada"});case"passed":return i.jsx(It,{variant:"secondary",className:"pill passed",children:"Aprobada"})}},p=h=>{if(!h.isElective)return null;const b=h.electiveType==="general"?"tag-elec gen":"tag-elec professional",S=h.electiveType==="general"?"General":"Profesionalizante";return i.jsxs("span",{className:`tag ${b}`,children:["Electiva  ",S]})},g=()=>{r()};return i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"p-6 border-b border-border bg-background",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Catlogo de Materias"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"course-count",children:[v.length," materias"]}),i.jsx(ne,{size:"sm",onClick:g,"data-testid":"suggest-plan-btn",children:"Sugerir Plan"})]})]})}),i.jsx("div",{className:"flex-1 p-6 space-y-8",children:w.map(h=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:ee("sticky-header mobile-sticky-header py-4 px-6 -mx-6 bg-background/95 backdrop-blur-sm border-b border-border",h.isElective&&"bg-orange-50/80 dark:bg-orange-950/30 border-orange-200 dark:border-orange-800"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:ee("w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",h.isElective?"bg-orange-500 text-white":"bg-primary text-primary-foreground"),children:h.isElective?"":h.term}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground",children:h.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.block,"  ",h.courses.length," materias  ",h.courses.reduce((b,S)=>b+S.credits,0)," crditos",h.isElective&&"  Elige tus electivas"]})]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.courses.map(b=>{const S=o(b,c,x),_=S==="passed",N=S==="blocked",k=(s==null?void 0:s.id)===b.id;return i.jsx("div",{className:"space-y-0",children:i.jsxs(St,{className:ee("cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02]",_&&"ring-2 ring-green-200 bg-green-50/50 dark:ring-green-800 dark:bg-green-950/20",N&&"opacity-60 bg-muted/30",k&&"ring-2 ring-primary bg-accent",h.isElective&&!_&&"border-orange-200 dark:border-orange-800"),onClick:()=>e(b),"data-testid":`course-item-${b.id}`,children:[i.jsx(hs,{className:"pb-3",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx(ms,{className:"text-sm font-semibold text-primary truncate flex-1 min-w-0",children:b.id}),i.jsx("div",{className:"flex-shrink-0",children:f(b)})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-foreground font-medium line-clamp-3 leading-tight break-words",children:b.name}),p(b)]})]})}),i.jsx(_t,{className:"pt-0 space-y-3",children:i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsxs("div",{children:[b.credits," crditos"]}),i.jsxs("div",{children:["HT: ",b.theoreticalHours,"  HP: ",b.practicalHours]})]})})]})},b.id)})})]},`${h.term}-${h.isElective?"elective":"regular"}`))})]})}const xa=gf,cu=yf,ux=xf,lu=m.forwardRef(({className:t,...e},s)=>i.jsx(wc,{ref:s,className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lu.displayName=wc.displayName;const gn=m.forwardRef(({className:t,children:e,...s},r)=>i.jsxs(ux,{children:[i.jsx(lu,{}),i.jsxs(jc,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,i.jsxs(pf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(In,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gn.displayName=jc.displayName;const xn=({className:t,...e})=>i.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xn.displayName="DialogHeader";const du=({className:t,...e})=>i.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});du.displayName="DialogFooter";const yn=m.forwardRef(({className:t,...e},s)=>i.jsx(Cc,{ref:s,className:ee("text-lg font-semibold leading-none tracking-tight",t),...e}));yn.displayName=Cc.displayName;const uu=m.forwardRef(({className:t,...e},s)=>i.jsx(Sc,{ref:s,className:ee("text-sm text-muted-foreground",t),...e}));uu.displayName=Sc.displayName;var fx="Label",fu=m.forwardRef((t,e)=>i.jsx(Ne.label,{...t,ref:e,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));fu.displayName=fx;var hu=fu;const hx=aa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qi=m.forwardRef(({className:t,...e},s)=>i.jsx(hu,{ref:s,className:ee(hx(),t),...e}));qi.displayName=hu.displayName;const mx=[{value:"A",label:"A (4.0)"},{value:"B",label:"B (3.0)"},{value:"C",label:"C (2.0)"},{value:"D",label:"D (1.0)"},{value:"F",label:"F (0.0)"}];function px({open:t,onClose:e,onConfirm:s,courseName:r}){const[n,a]=m.useState(""),o=()=>{n&&(s(n),a(""),e())},c=()=>{a(""),e()};return i.jsx(xa,{open:t,onOpenChange:e,children:i.jsxs(gn,{className:"sm:max-w-md",children:[i.jsx(xn,{children:i.jsxs(yn,{children:["Ingresa la calificacion para ",r]})}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(qi,{htmlFor:"grade-select",children:"Calificacin"}),i.jsxs(pa,{value:n,onValueChange:a,children:[i.jsx(mn,{id:"grade-select","data-testid":"grade-select",children:i.jsx(ga,{placeholder:"Selecciona una calificacin"})}),i.jsx(pn,{children:mx.map(l=>i.jsx(yr,{value:l.value,"data-testid":`grade-${l.value}`,children:l.label},l.value))})]})]})}),i.jsxs(du,{children:[i.jsx(ne,{variant:"outline",onClick:c,"data-testid":"grade-cancel",children:"Cancelar"}),i.jsx(ne,{onClick:o,disabled:!n,"data-testid":"grade-confirm",children:"Marcar como Aprobada"})]})]})})}function Vo({course:t}){const{getCourseById:e}=Bi(),{getCourseStatus:s,getPassedCourses:r,getPlannedCourses:n,markCoursePassed:a,removeCourseProgress:o}=fn(),[c,l]=m.useState(!1);if(!t)return null;const d=r(),u=n(),x=s(t,d,u),y=x==="passed",v=x==="blocked",w=()=>{switch(x){case"available":return i.jsx(It,{variant:"default",className:"pill ok",children:"Disponible"});case"blocked":return i.jsx(It,{variant:"destructive",className:"pill bad",children:"Bloqueada"});case"passed":return i.jsx(It,{variant:"secondary",className:"pill passed",children:"Aprobada"})}},f=()=>{if(!t.isElective)return null;const S=t.electiveType==="general"?"tag-elec gen":"tag-elec professional",_=t.electiveType==="general"?"General":"Profesionalizante";return i.jsxs("span",{className:`tag ${S}`,children:["Electiva  ",_]})},p=()=>{l(!0)},g=()=>{o(t.id)},h=S=>{a(t.id,S),l(!1)},b=()=>{l(!1)};return i.jsxs("div",{className:"space-y-4 p-4 h-full overflow-y-auto",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"space-y-2",children:i.jsxs("h3",{className:"text-sm font-semibold text-foreground leading-tight break-words",children:[t.id," - ",t.name]})}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[w(),f()]}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsx("div",{children:t.block}),i.jsxs("div",{children:[t.credits," crditos  HT ",t.theoreticalHours,"  HP ",t.practicalHours]})]}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3 leading-relaxed",children:t.description||"Sin descripcin disponible."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-foreground mb-2 text-sm",children:"Prerrequisitos"}),i.jsx("div",{className:"space-y-2",children:t.prerequisites.length>0?t.prerequisites.map(S=>{const _=e(S);return i.jsxs("div",{className:"text-xs","data-testid":`prereq-${S}`,children:[i.jsx(It,{variant:"outline",className:"text-xs mr-2",children:S}),_&&i.jsx("span",{className:"text-muted-foreground break-words",children:_.name})]},S)}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Ninguno"})}),t.prerequisites.length>0&&i.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Debes completar estas materias antes de tomar esta."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-foreground mb-2 text-sm",children:"Correquisitos"}),i.jsx("div",{className:"space-y-2",children:t.corequisites.length>0?t.corequisites.map(S=>{const _=e(S);return i.jsxs("div",{className:"text-xs","data-testid":`coreq-${S}`,children:[i.jsx(It,{variant:"outline",className:"text-xs mr-2",children:S}),_&&i.jsx("span",{className:"text-muted-foreground break-words",children:_.name})]},S)}):i.jsx("span",{className:"text-xs text-muted-foreground",children:"Ninguno"})}),t.corequisites.length>0&&i.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Debes tomar estas materias al mismo tiempo."})]})]}),i.jsxs("div",{className:"border-t border-border pt-4",children:[i.jsx("h4",{className:"font-medium text-foreground text-sm mb-3",children:"Gestin de Calificaciones"}),i.jsxs("div",{className:"space-y-2",children:[y?i.jsx(ne,{size:"sm",variant:"destructive",onClick:g,"data-testid":`undo-passed-${t.id}`,className:"w-full",children:" Deshacer Aprobacin"}):i.jsx(ne,{size:"sm",variant:"default",disabled:v,onClick:p,"data-testid":`mark-passed-${t.id}`,className:"w-full",children:" Marcar como Aprobada"}),v&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Completa los prerrequisitos para poder aprobar esta materia."})]})]}),i.jsx(px,{open:c,onClose:b,onConfirm:h,courseName:`${t.id} - ${t.name}`})]})}function gx(){const[t,e]=m.useState(!1),[s,r]=m.useState(!1),{toast:n}=sa();m.useEffect(()=>{const o=new URLSearchParams(window.location.search);e(o.has("admin"))},[]);const a=async()=>{if(confirm("This will load all courses and sections from the JSON files into the database. Continue?")){r(!0);try{const c=await(await Os("POST","/api/admin/seed-database")).json();n({title:"Success!",description:c.message})}catch(o){n({title:"Error",description:"Failed to seed database. Check console for details.",variant:"destructive"}),console.error("Seed error:",o)}finally{r(!1)}}};return t?i.jsxs(St,{className:"fixed bottom-4 right-4 w-80 shadow-lg z-50","data-testid":"admin-panel",children:[i.jsx(hs,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ms,{className:"text-sm font-semibold flex items-center gap-2",children:[i.jsx(dm,{className:"h-4 w-4"}),"Admin Panel"]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"?admin=true"})]})}),i.jsxs(_t,{className:"space-y-3",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Manage courses and sections in the system"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pr,{href:"/admin/courses",children:i.jsx(ne,{size:"sm",className:"w-full text-xs","data-testid":"admin-courses-btn",children:"Manage Courses"})}),i.jsx(pr,{href:"/admin/sections",children:i.jsx(ne,{size:"sm",variant:"outline",className:"w-full text-xs","data-testid":"admin-sections-btn",children:"Manage Sections"})}),i.jsxs(ne,{size:"sm",variant:"secondary",className:"w-full text-xs",onClick:a,disabled:s,"data-testid":"admin-seed-btn",children:[i.jsx(om,{className:"h-3 w-3 mr-1"}),s?"Seeding...":"Seed Database"]})]})]})]}):null}var Hi="Progress",Ui=100,[xx,Lv]=jr(Hi),[yx,vx]=xx(Hi),mu=m.forwardRef((t,e)=>{const{__scopeProgress:s,value:r=null,max:n,getValueLabel:a=bx,...o}=t;(n||n===0)&&!$o(n)&&console.error(wx(`${n}`,"Progress"));const c=$o(n)?n:Ui;r!==null&&!zo(r,c)&&console.error(jx(`${r}`,"Progress"));const l=zo(r,c)?r:null,d=Bn(l)?a(l,c):void 0;return i.jsx(yx,{scope:s,value:l,max:c,children:i.jsx(Ne.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Bn(l)?l:void 0,"aria-valuetext":d,role:"progressbar","data-state":xu(l,c),"data-value":l??void 0,"data-max":c,...o,ref:e})})});mu.displayName=Hi;var pu="ProgressIndicator",gu=m.forwardRef((t,e)=>{const{__scopeProgress:s,...r}=t,n=vx(pu,s);return i.jsx(Ne.div,{"data-state":xu(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:e})});gu.displayName=pu;function bx(t,e){return`${Math.round(t/e*100)}%`}function xu(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Bn(t){return typeof t=="number"}function $o(t){return Bn(t)&&!isNaN(t)&&t>0}function zo(t,e){return Bn(t)&&!isNaN(t)&&t<=e&&t>=0}function wx(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ui}\`.`}function jx(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ui} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yu=mu,Cx=gu;const li=m.forwardRef(({className:t,value:e,...s},r)=>i.jsx(yu,{ref:r,className:ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:i.jsx(Cx,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));li.displayName=yu.displayName;function Sx(){const{passedCourses:t,calculateGPA:e}=fn(),[s,r]=m.useState([]),[n,a]=m.useState(!0);if(m.useEffect(()=>{fetch("data/courses.json").then(w=>w.json()).then(w=>{r(w),a(!1)}).catch(w=>{console.error("Error loading courses:",w),a(!1)})},[]),n)return i.jsx("div",{className:"p-8 text-center animate-pulse",children:"Cargando estadsticas..."});const o=s.length,c=t.size,l=o>0?Math.round(c/o*100):0,d=s.reduce((w,f)=>w+(f.credits||0),0),u=s.filter(w=>t.has(w.id)).reduce((w,f)=>w+(f.credits||0),0),x=d>0?Math.round(u/d*100):0,y=e(),v=w=>w>=3.5?"text-emerald-500":w>=3?"text-blue-500":w>=2?"text-yellow-500":"text-red-500";return i.jsxs("div",{className:"p-4 md:p-8 space-y-6 max-w-5xl mx-auto animate-in fade-in duration-500",children:[i.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight mb-1",children:"Tu Progreso"}),i.jsx("p",{className:"text-muted-foreground",children:"Estadsticas en tiempo real de tu carrera."})]})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs(St,{className:"relative overflow-hidden",children:[i.jsxs(hs,{className:"pb-2 flex flex-row items-center justify-between space-y-0",children:[i.jsx(ms,{className:"text-sm font-medium text-muted-foreground",children:"Materias Aprobadas"}),i.jsx(rm,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(_t,{children:[i.jsxs("div",{className:"text-3xl font-bold",children:[c," ",i.jsxs("span",{className:"text-muted-foreground text-lg font-normal",children:["/ ",o]})]}),i.jsx(li,{value:l,className:"h-2 mt-3"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[l,"% completado"]})]})]}),i.jsxs(St,{children:[i.jsxs(hs,{className:"pb-2 flex flex-row items-center justify-between space-y-0",children:[i.jsx(ms,{className:"text-sm font-medium text-muted-foreground",children:"Crditos Acumulados"}),i.jsx(kl,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(_t,{children:[i.jsxs("div",{className:"text-3xl font-bold",children:[u," ",i.jsxs("span",{className:"text-muted-foreground text-lg font-normal",children:["/ ",d]})]}),i.jsx(li,{value:x,className:"h-2 mt-3"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[x,"% de la carrera"]})]})]}),i.jsxs(St,{className:"bg-primary/5 border-primary/20",children:[i.jsxs(hs,{className:"pb-2 flex flex-row items-center justify-between space-y-0",children:[i.jsx(ms,{className:"text-sm font-medium text-primary",children:"ndice Acumulado"}),i.jsx(mm,{className:"h-4 w-4 text-primary"})]}),i.jsxs(_t,{children:[i.jsx("div",{className:`text-4xl font-bold ${v(y)}`,children:y.toFixed(2)}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Escala de 0.0 a 4.0"})]})]})]})]})}const Nn=t=>{if(!t)return 0;const[e,s]=t.split(":").map(Number);return e*60+s},vu=(t,e)=>{if(!t.schedule||!e.schedule)return!1;for(const s of t.schedule)for(const r of e.schedule){if(s.day!==r.day)continue;const n=Nn(s.startTime),a=Nn(s.endTime),o=Nn(r.startTime),c=Nn(r.endTime);if(n<c&&o<a)return!0}return!1},_x=(t,e,s,r=31)=>{const n=[...s];let a=n.reduce((c,l)=>{const d=t.find(u=>u.id===l.courseId);return c+((d==null?void 0:d.credits)||0)},0);const o=[...t].sort((c,l)=>c.term!==l.term?c.term-l.term:l.credits-c.credits);for(const c of o){if(n.some(u=>u.courseId===c.id)||a+c.credits>r)continue;const l=e.filter(u=>u.courseId===c.id||u.courseId.replace(/-/g,"")===c.id.replace(/-/g,""));if(l.length===0)continue;const d=l.find(u=>!n.some(y=>vu(y.section,u)));if(d&&(n.push({courseId:c.id,sectionCrn:d.crn,section:d}),a+=c.credits),a>=r)break}return n},bu=vf,Zi=m.forwardRef(({className:t,...e},s)=>i.jsx(_c,{ref:s,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Zi.displayName=_c.displayName;const Br=m.forwardRef(({className:t,...e},s)=>i.jsx(Nc,{ref:s,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Br.displayName=Nc.displayName;const qr=m.forwardRef(({className:t,...e},s)=>i.jsx(kc,{ref:s,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));qr.displayName=kc.displayName;function Nx(){const{passedCourses:t,getCourseStatus:e}=fn(),[s,r]=m.useState([]),[n,a]=m.useState([]),[o,c]=m.useState([]),[l,d]=m.useState(!0);m.useEffect(()=>{const p="/medicina-pwa-final/";Promise.all([fetch(`${p}data/courses.json`).then(g=>g.json()),fetch(`${p}data/sections.json`).then(g=>g.json())]).then(([g,h])=>{const b=Array.isArray(g)?g:g.courses||[],S=Array.isArray(h)?h:h.sections||h.courses||[];r(b),a(S);const _=localStorage.getItem("medicina-planner-save");if(_)try{c(JSON.parse(_))}catch(N){console.error(N)}d(!1)}).catch(g=>{console.error("Error cargando datos:",g),d(!1)})},[]),m.useEffect(()=>{l||localStorage.setItem("medicina-planner-save",JSON.stringify(o))},[o,l]);const u=m.useMemo(()=>Array.isArray(s)?s.filter(p=>o.some(h=>h.courseId===p.id)?!1:e(p,t)==="available").sort((p,g)=>p.term-g.term):[],[s,t,o,e]),x=o.reduce((p,g)=>{const h=s.find(b=>b.id===g.courseId);return p+((h==null?void 0:h.credits)||0)},0),y=p=>Array.isArray(n)?n.filter(g=>g.courseId===p||g.courseId.replace(/-/g,"")===p.replace(/-/g,"")):[],v=(p,g)=>{const h=n.find(S=>S.crn===g);if(!h)return;const b=o.find(S=>vu(S.section,h));if(b){const S=s.find(_=>_.id===b.courseId);alert(` Choque de horario con ${(S==null?void 0:S.name)||b.courseId}

Intenta elegir otra seccin.`);return}c([...o,{courseId:p,sectionCrn:g,section:h}])},w=p=>{c(o.filter(g=>g.courseId!==p))},f=()=>{if(!confirm(`Generar horario automtico de hasta 31 crditos?
Se priorizarn las materias por orden de pensum.`))return;const p=_x(u,n,o);p.length===o.length?alert("No se encontraron ms materias compatibles o secciones disponibles para agregar."):c(p)};return l?i.jsx("div",{className:"p-8 text-center animate-pulse",children:"Cargando materias..."}):i.jsxs("div",{className:"flex flex-col h-full bg-background animate-in fade-in",children:[i.jsxs("div",{className:"p-4 border-b bg-card flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[i.jsx(nm,{className:"h-5 w-5 text-primary"}),"Mi Plan de Estudios"]}),i.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Crditos Seleccionados: ",i.jsx("span",{className:x>31?"text-destructive font-bold":"text-primary font-bold",children:x})," / 31"]})]}),i.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[i.jsxs(ne,{onClick:f,className:"w-full md:w-auto bg-violet-600 hover:bg-violet-700 text-white shadow-md",disabled:x>=31,children:[i.jsx(um,{className:"h-4 w-4 mr-2"}),"Sugerir Plan (Auto)"]}),o.length>0&&i.jsx(ne,{variant:"outline",onClick:()=>c([]),className:"text-destructive border-destructive/50",children:"Limpiar"})]})]}),i.jsx("div",{className:"flex-1 overflow-hidden",children:i.jsxs(bu,{defaultValue:"selected",className:"h-full flex flex-col",children:[i.jsx("div",{className:"px-4 pt-2 md:hidden",children:i.jsxs(Zi,{className:"grid w-full grid-cols-2",children:[i.jsxs(Br,{value:"selected",children:["Seleccionadas (",o.length,")"]}),i.jsx(Br,{value:"available",children:"Disponibles"})]})}),i.jsxs("div",{className:"flex-1 overflow-auto p-4 md:p-6 grid md:grid-cols-12 gap-6",children:[i.jsx("div",{className:"md:col-span-7 lg:col-span-8 md:block",children:i.jsxs(qr,{value:"selected",className:"mt-0 h-full space-y-4",children:[i.jsx("h3",{className:"font-semibold text-lg hidden md:block mb-4",children:"Materias Seleccionadas"}),o.length===0?i.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-xl bg-muted/10",children:[i.jsx("p",{className:"text-muted-foreground font-medium",children:"Tu horario est vaco."}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Ve a "Disponibles" para elegir o usa "Sugerir Plan".'})]}):i.jsx("div",{className:"space-y-3",children:o.map(p=>{var h;const g=s.find(b=>b.id===p.courseId);return g?i.jsx(St,{className:"border-l-4 border-l-green-500 shadow-sm animate-in slide-in-from-left-2",children:i.jsxs(_t,{className:"p-4 flex justify-between items-start gap-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-sm md:text-base",children:g.name}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-1 flex gap-2",children:[i.jsx(It,{variant:"outline",children:g.id}),i.jsxs("span",{children:[g.credits," Crditos"]})]}),i.jsxs("div",{className:"text-xs font-medium text-green-700 mt-2 bg-green-50 inline-block px-2 py-1 rounded border border-green-100",children:[((h=p.section.schedule)==null?void 0:h.map(b=>`${b.day.substring(0,3)} ${b.startTime}`).join(", "))||"Horario por definir","  ",p.section.room||"Aula N/A"]})]}),i.jsx(ne,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:()=>w(p.courseId),children:i.jsx(Ti,{className:"h-4 w-4"})})]})},p.courseId):null})})]})}),i.jsx("div",{className:"md:col-span-5 lg:col-span-4 md:block",children:i.jsxs(qr,{value:"available",className:"mt-0 h-full space-y-4",children:[i.jsx("h3",{className:"font-semibold text-lg hidden md:block mb-4",children:"Agregar Materias"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2 md:hidden",children:"Toca el selector para aadir al plan."}),i.jsx("div",{className:"space-y-3",children:u.length===0?i.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Felicidades! No tienes materias pendientes disponibles."}):u.map(p=>{const g=y(p.id);return i.jsx(St,{className:"bg-muted/30 hover:bg-muted/50 transition-colors",children:i.jsxs(_t,{className:"p-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:"text-sm font-medium line-clamp-2",children:p.name}),i.jsx(It,{variant:"secondary",className:"text-[10px] shrink-0 ml-2",children:p.id})]}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-1 mb-3",children:["Ciclo ",p.term,"  ",p.credits," Crditos"]}),g.length>0?i.jsxs(pa,{onValueChange:h=>v(p.id,h),children:[i.jsx(mn,{className:"h-8 text-xs w-full bg-background border-primary/20 hover:border-primary/50",children:i.jsx(ga,{placeholder:"Seleccionar horario..."})}),i.jsx(pn,{children:g.map(h=>{var b,S,_,N;return i.jsxs(yr,{value:h.crn,className:"text-xs",children:[(S=(b=h.schedule)==null?void 0:b[0])==null?void 0:S.day.substring(0,3)," ",(N=(_=h.schedule)==null?void 0:_[0])==null?void 0:N.startTime," (",h.instructor||"Prof. TBA",")"]},h.crn)})})]}):i.jsxs("div",{className:"text-xs text-amber-500 flex items-center gap-1 bg-amber-50 p-1.5 rounded",children:[i.jsx(Nl,{className:"h-3 w-3"})," Sin secciones abiertas"]})]})},p.id)})})]})})]})]})})]})}function kx(){const[t,e]=m.useState(!0),[s,r]=m.useState(!1),[n,a]=m.useState(!1),[o,c]=m.useState("courses"),[l,d]=m.useState(),[u,x]=m.useState({term:null,status:null,electivesOnly:!1,inPlanOnly:!1,searchTerm:""}),y=m.useRef(null);m.useEffect(()=>{const h=setTimeout(()=>e(!1),2800);return()=>clearTimeout(h)},[]),m.useEffect(()=>{const h=y.current;if(!h)return;const b=()=>a(h.scrollTop>300);return h.addEventListener("scroll",b),()=>h.removeEventListener("scroll",b)},[t]);const v=()=>{var h;return(h=y.current)==null?void 0:h.scrollTo({top:0,behavior:"smooth"})},w=h=>d(h),f=h=>{c(h),r(!1)},p=()=>{var h;c("courses"),r(!1),(h=y.current)==null||h.scrollTo({top:0,behavior:"smooth"})},g=()=>{f("planner")};return t?i.jsxs("div",{className:"fixed inset-0 bg-[#0f172a] z-[100] flex flex-col items-center justify-center animate-fade-out pointer-events-none",children:[i.jsx("div",{className:"p-4 bg-primary/20 rounded-full mb-4 animate-bounce",children:i.jsx(fm,{className:"h-16 w-16 text-primary"})}),i.jsx("h1",{className:"text-3xl font-bold text-white tracking-wider",children:"MEDICINA PWA"}),i.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Organizador Curricular"})]}):i.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans antialiased relative",children:[i.jsx(Cg,{onMenuClick:()=>r(!0),onHomeClick:p}),i.jsxs("div",{className:"flex flex-col md:flex-row min-h-[calc(100vh-80px)]",children:[i.jsx("div",{className:"hidden md:block",children:i.jsx(Fo,{filters:u,onFiltersChange:x,activeView:o,onViewChange:c,onShowPlanModal:g})}),s&&i.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>r(!1)}),i.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-3/4 max-w-xs bg-background shadow-xl border-r p-4 animate-slide-in overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"font-bold text-lg",children:"Men"}),i.jsx("button",{onClick:()=>r(!1),className:"p-2 bg-muted rounded-full",children:i.jsx(In,{className:"h-5 w-5"})})]}),i.jsx(Fo,{filters:u,onFiltersChange:x,activeView:o,onViewChange:f,onShowPlanModal:g})]})]}),i.jsxs("main",{ref:y,className:"flex-1 overflow-auto w-full relative h-[calc(100vh-65px)]",children:[o==="progress"?i.jsx(Sx,{}):o==="planner"?i.jsx(Nx,{}):i.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[i.jsx("div",{className:"w-full md:w-2/3 border-r-0 md:border-r border-border",children:i.jsx(dx,{filters:u,onCourseSelect:w,selectedCourse:l,onShowPlanModal:g})}),i.jsx("div",{className:"hidden md:block md:w-1/3 bg-background sticky top-0 h-screen overflow-y-auto",children:l?i.jsx(Vo,{course:l}):i.jsx("div",{className:"p-6 h-full flex items-center justify-center text-center",children:i.jsx("div",{className:"text-muted-foreground",children:i.jsx("p",{children:"Selecciona una materia para ver detalles"})})})})]}),n&&i.jsx("button",{onClick:v,className:"fixed bottom-6 right-6 z-30 p-3 bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90 transition-all animate-in zoom-in",children:i.jsx(sm,{className:"h-6 w-6"})})]})]}),l&&o==="courses"&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center bg-black/80 backdrop-blur-sm md:hidden animate-in fade-in",children:i.jsxs("div",{className:"bg-background w-full rounded-t-xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col animate-in slide-in-from-bottom-10",children:[i.jsx("div",{className:"p-2 border-b flex justify-end bg-muted/20",children:i.jsx("button",{onClick:()=>d(void 0),className:"p-2 bg-muted rounded-full",children:i.jsx(In,{className:"h-5 w-5"})})}),i.jsx("div",{className:"overflow-y-auto p-1 pb-8",children:i.jsx(Vo,{course:l})})]})}),i.jsx(gx,{})]})}const Wi=m.forwardRef(({className:t,...e},s)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:s,className:ee("w-full caption-bottom text-sm",t),...e})}));Wi.displayName="Table";const Gi=m.forwardRef(({className:t,...e},s)=>i.jsx("thead",{ref:s,className:ee("[&_tr]:border-b",t),...e}));Gi.displayName="TableHeader";const Ki=m.forwardRef(({className:t,...e},s)=>i.jsx("tbody",{ref:s,className:ee("[&_tr:last-child]:border-0",t),...e}));Ki.displayName="TableBody";const Tx=m.forwardRef(({className:t,...e},s)=>i.jsx("tfoot",{ref:s,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Tx.displayName="TableFooter";const Hr=m.forwardRef(({className:t,...e},s)=>i.jsx("tr",{ref:s,className:ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Hr.displayName="TableRow";const rt=m.forwardRef(({className:t,...e},s)=>i.jsx("th",{ref:s,className:ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));rt.displayName="TableHead";const nt=m.forwardRef(({className:t,...e},s)=>i.jsx("td",{ref:s,className:ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));nt.displayName="TableCell";const Ex=m.forwardRef(({className:t,...e},s)=>i.jsx("caption",{ref:s,className:ee("mt-4 text-sm text-muted-foreground",t),...e}));Ex.displayName="TableCaption";var vn=t=>t.type==="checkbox",_s=t=>t instanceof Date,st=t=>t==null;const wu=t=>typeof t=="object";var Be=t=>!st(t)&&!Array.isArray(t)&&wu(t)&&!_s(t),ju=t=>Be(t)&&t.target?vn(t.target)?t.target.checked:t.target.value:t,Ax=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Cu=(t,e)=>t.has(Ax(e)),Px=t=>{const e=t.constructor&&t.constructor.prototype;return Be(e)&&e.hasOwnProperty("isPrototypeOf")},Qi=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ge(t){let e;const s=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Qi&&(t instanceof Blob||r))&&(s||Be(t)))if(e=s?[]:{},!s&&!Px(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Ge(t[n]));else return t;return e}var ya=t=>Array.isArray(t)?t.filter(Boolean):[],ze=t=>t===void 0,z=(t,e,s)=>{if(!e||!Be(t))return s;const r=ya(e.split(/[,[\].]+?/)).reduce((n,a)=>st(n)?n:n[a],t);return ze(r)||r===t?ze(t[e])?s:t[e]:r},dt=t=>typeof t=="boolean",Yi=t=>/^\w*$/.test(t),Su=t=>ya(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Se=(t,e,s)=>{let r=-1;const n=Yi(e)?[e]:Su(e),a=n.length,o=a-1;for(;++r<a;){const c=n[r];let l=s;if(r!==o){const d=t[c];l=Be(d)||Array.isArray(d)?d:isNaN(+n[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=l,t=t[c]}};const qn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ht={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_u=xe.createContext(null),va=()=>xe.useContext(_u),Rx=t=>{const{children:e,...s}=t;return xe.createElement(_u.Provider,{value:s},e)};var Nu=(t,e,s,r=!0)=>{const n={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(n,a,{get:()=>{const o=a;return e._proxyFormState[o]!==wt.all&&(e._proxyFormState[o]=!r||wt.all),s&&(s[o]=!0),t[o]}});return n};function Ox(t){const e=va(),{control:s=e.control,disabled:r,name:n,exact:a}=t||{},[o,c]=xe.useState(s._formState),l=xe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=xe.useRef(n);return d.current=n,xe.useEffect(()=>s._subscribe({name:d.current,formState:l.current,exact:a,callback:u=>{!r&&c({...s._formState,...u})}}),[s,r,a]),xe.useEffect(()=>{l.current.isValid&&s._setValid(!0)},[s]),xe.useMemo(()=>Nu(o,s,l.current,!1),[o,s])}var Dt=t=>typeof t=="string",ku=(t,e,s,r,n)=>Dt(t)?(r&&e.watch.add(t),z(s,t,n)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),z(s,a))):(r&&(e.watchAll=!0),s);function Mx(t){const e=va(),{control:s=e.control,name:r,defaultValue:n,disabled:a,exact:o}=t||{},c=xe.useRef(r),l=xe.useRef(n);c.current=r,xe.useEffect(()=>s._subscribe({name:c.current,formState:{values:!0},exact:o,callback:x=>!a&&u(ku(c.current,s._names,x.values||s._formValues,!1,l.current))}),[s,a,o]);const[d,u]=xe.useState(s._getWatch(r,n));return xe.useEffect(()=>s._removeUnmounted()),d}function Ix(t){const e=va(),{name:s,disabled:r,control:n=e.control,shouldUnregister:a}=t,o=Cu(n._names.array,s),c=Mx({control:n,name:s,defaultValue:z(n._formValues,s,z(n._defaultValues,s,t.defaultValue)),exact:!0}),l=Ox({control:n,name:s,exact:!0}),d=xe.useRef(t),u=xe.useRef(n.register(s,{...t.rules,value:c,...dt(t.disabled)?{disabled:t.disabled}:{}})),x=xe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!z(l.errors,s)},isDirty:{enumerable:!0,get:()=>!!z(l.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!z(l.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!z(l.validatingFields,s)},error:{enumerable:!0,get:()=>z(l.errors,s)}}),[l,s]),y=xe.useCallback(p=>u.current.onChange({target:{value:ju(p),name:s},type:qn.CHANGE}),[s]),v=xe.useCallback(()=>u.current.onBlur({target:{value:z(n._formValues,s),name:s},type:qn.BLUR}),[s,n._formValues]),w=xe.useCallback(p=>{const g=z(n._fields,s);g&&p&&(g._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:h=>p.setCustomValidity(h),reportValidity:()=>p.reportValidity()})},[n._fields,s]),f=xe.useMemo(()=>({name:s,value:c,...dt(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:y,onBlur:v,ref:w}),[s,r,l.disabled,y,v,w,c]);return xe.useEffect(()=>{const p=n._options.shouldUnregister||a;n.register(s,{...d.current.rules,...dt(d.current.disabled)?{disabled:d.current.disabled}:{}});const g=(h,b)=>{const S=z(n._fields,h);S&&S._f&&(S._f.mount=b)};if(g(s,!0),p){const h=Ge(z(n._options.defaultValues,s));Se(n._defaultValues,s,h),ze(z(n._formValues,s))&&Se(n._formValues,s,h)}return!o&&n.register(s),()=>{(o?p&&!n._state.action:p)?n.unregister(s):g(s,!1)}},[s,n,o,a]),xe.useEffect(()=>{n._setDisabledField({disabled:r,name:s})},[r,s,n]),xe.useMemo(()=>({field:f,formState:l,fieldState:x}),[f,l,x])}const Dx=t=>t.render(Ix(t));var Tu=(t,e,s,r,n)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:n||!0}}:{},Fr=t=>Array.isArray(t)?t:[t],Bo=()=>{let t=[];return{get observers(){return t},next:n=>{for(const a of t)a.next&&a.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(a=>a!==n)}}),unsubscribe:()=>{t=[]}}},di=t=>st(t)||!wu(t);function ss(t,e){if(di(t)||di(e))return t===e;if(_s(t)&&_s(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(const n of s){const a=t[n];if(!r.includes(n))return!1;if(n!=="ref"){const o=e[n];if(_s(a)&&_s(o)||Be(a)&&Be(o)||Array.isArray(a)&&Array.isArray(o)?!ss(a,o):a!==o)return!1}}return!0}var tt=t=>Be(t)&&!Object.keys(t).length,Ji=t=>t.type==="file",jt=t=>typeof t=="function",Hn=t=>{if(!Qi)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Eu=t=>t.type==="select-multiple",Xi=t=>t.type==="radio",Fx=t=>Xi(t)||vn(t),Oa=t=>Hn(t)&&t.isConnected;function Lx(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=ze(t)?r++:t[e[r++]];return t}function Vx(t){for(const e in t)if(t.hasOwnProperty(e)&&!ze(t[e]))return!1;return!0}function Ze(t,e){const s=Array.isArray(e)?e:Yi(e)?[e]:Su(e),r=s.length===1?t:Lx(t,s),n=s.length-1,a=s[n];return r&&delete r[a],n!==0&&(Be(r)&&tt(r)||Array.isArray(r)&&Vx(r))&&Ze(t,s.slice(0,-1)),t}var Au=t=>{for(const e in t)if(jt(t[e]))return!0;return!1};function Un(t,e={}){const s=Array.isArray(t);if(Be(t)||s)for(const r in t)Array.isArray(t[r])||Be(t[r])&&!Au(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Un(t[r],e[r])):st(t[r])||(e[r]=!0);return e}function Pu(t,e,s){const r=Array.isArray(t);if(Be(t)||r)for(const n in t)Array.isArray(t[n])||Be(t[n])&&!Au(t[n])?ze(e)||di(s[n])?s[n]=Array.isArray(t[n])?Un(t[n],[]):{...Un(t[n])}:Pu(t[n],st(e)?{}:e[n],s[n]):s[n]=!ss(t[n],e[n]);return s}var Ar=(t,e)=>Pu(t,e,Un(e));const qo={value:!1,isValid:!1},Ho={value:!0,isValid:!0};var Ru=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ze(t[0].attributes.value)?ze(t[0].value)||t[0].value===""?Ho:{value:t[0].value,isValid:!0}:Ho:qo}return qo},Ou=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>ze(t)?t:e?t===""?NaN:t&&+t:s&&Dt(t)?new Date(t):r?r(t):t;const Uo={isValid:!1,value:null};var Mu=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,Uo):Uo;function Zo(t){const e=t.ref;return Ji(e)?e.files:Xi(e)?Mu(t.refs).value:Eu(e)?[...e.selectedOptions].map(({value:s})=>s):vn(e)?Ru(t.refs).value:Ou(ze(e.value)?t.ref.value:e.value,t)}var $x=(t,e,s,r)=>{const n={};for(const a of t){const o=z(e,a);o&&Se(n,a,o._f)}return{criteriaMode:s,names:[...t],fields:n,shouldUseNativeValidation:r}},Zn=t=>t instanceof RegExp,Pr=t=>ze(t)?t:Zn(t)?t.source:Be(t)?Zn(t.value)?t.value.source:t.value:t,Wo=t=>({isOnSubmit:!t||t===wt.onSubmit,isOnBlur:t===wt.onBlur,isOnChange:t===wt.onChange,isOnAll:t===wt.all,isOnTouch:t===wt.onTouched});const Go="AsyncFunction";var zx=t=>!!t&&!!t.validate&&!!(jt(t.validate)&&t.validate.constructor.name===Go||Be(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Go)),Bx=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Ko=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Lr=(t,e,s,r)=>{for(const n of s||Object.keys(t)){const a=z(t,n);if(a){const{_f:o,...c}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Lr(c,e))break}else if(Be(c)&&Lr(c,e))break}}};function Qo(t,e,s){const r=z(t,s);if(r||Yi(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const a=n.join("."),o=z(e,a),c=z(t,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(c&&c.type)return{name:a,error:c};n.pop()}return{name:s}}var qx=(t,e,s,r)=>{s(t);const{name:n,...a}=t;return tt(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||wt.all))},Hx=(t,e,s)=>!t||!e||t===e||Fr(t).some(r=>r&&(s?r===e:r.startsWith(e)||e.startsWith(r))),Ux=(t,e,s,r,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(e||t):(s?r.isOnBlur:n.isOnBlur)?!t:(s?r.isOnChange:n.isOnChange)?t:!0,Zx=(t,e)=>!ya(z(t,e)).length&&Ze(t,e),Wx=(t,e,s)=>{const r=Fr(z(t,s));return Se(r,"root",e[s]),Se(t,s,r),t},Pn=t=>Dt(t);function Yo(t,e,s="validate"){if(Pn(t)||Array.isArray(t)&&t.every(Pn)||dt(t)&&!t)return{type:s,message:Pn(t)?t:"",ref:e}}var Hs=t=>Be(t)&&!Zn(t)?t:{value:t,message:""},Jo=async(t,e,s,r,n,a)=>{const{ref:o,refs:c,required:l,maxLength:d,minLength:u,min:x,max:y,pattern:v,validate:w,name:f,valueAsNumber:p,mount:g}=t._f,h=z(s,f);if(!g||e.has(f))return{};const b=c?c[0]:o,S=R=>{n&&b.reportValidity&&(b.setCustomValidity(dt(R)?"":R||""),b.reportValidity())},_={},N=Xi(o),k=vn(o),P=N||k,M=(p||Ji(o))&&ze(o.value)&&ze(h)||Hn(o)&&o.value===""||h===""||Array.isArray(h)&&!h.length,H=Tu.bind(null,f,r,_),F=(R,D,O,J=Ht.maxLength,V=Ht.minLength)=>{const X=R?D:O;_[f]={type:R?J:V,message:X,ref:o,...H(R?J:V,X)}};if(a?!Array.isArray(h)||!h.length:l&&(!P&&(M||st(h))||dt(h)&&!h||k&&!Ru(c).isValid||N&&!Mu(c).isValid)){const{value:R,message:D}=Pn(l)?{value:!!l,message:l}:Hs(l);if(R&&(_[f]={type:Ht.required,message:D,ref:b,...H(Ht.required,D)},!r))return S(D),_}if(!M&&(!st(x)||!st(y))){let R,D;const O=Hs(y),J=Hs(x);if(!st(h)&&!isNaN(h)){const V=o.valueAsNumber||h&&+h;st(O.value)||(R=V>O.value),st(J.value)||(D=V<J.value)}else{const V=o.valueAsDate||new Date(h),X=ke=>new Date(new Date().toDateString()+" "+ke),K=o.type=="time",ce=o.type=="week";Dt(O.value)&&h&&(R=K?X(h)>X(O.value):ce?h>O.value:V>new Date(O.value)),Dt(J.value)&&h&&(D=K?X(h)<X(J.value):ce?h<J.value:V<new Date(J.value))}if((R||D)&&(F(!!R,O.message,J.message,Ht.max,Ht.min),!r))return S(_[f].message),_}if((d||u)&&!M&&(Dt(h)||a&&Array.isArray(h))){const R=Hs(d),D=Hs(u),O=!st(R.value)&&h.length>+R.value,J=!st(D.value)&&h.length<+D.value;if((O||J)&&(F(O,R.message,D.message),!r))return S(_[f].message),_}if(v&&!M&&Dt(h)){const{value:R,message:D}=Hs(v);if(Zn(R)&&!h.match(R)&&(_[f]={type:Ht.pattern,message:D,ref:o,...H(Ht.pattern,D)},!r))return S(D),_}if(w){if(jt(w)){const R=await w(h,s),D=Yo(R,b);if(D&&(_[f]={...D,...H(Ht.validate,D.message)},!r))return S(D.message),_}else if(Be(w)){let R={};for(const D in w){if(!tt(R)&&!r)break;const O=Yo(await w[D](h,s),b,D);O&&(R={...O,...H(D,O.message)},S(O.message),r&&(_[f]=R))}if(!tt(R)&&(_[f]={ref:b,...R},!r))return _}}return S(!0),_};const Gx={mode:wt.onSubmit,reValidateMode:wt.onChange,shouldFocusError:!0};function Kx(t={}){let e={...Gx,...t},s={submitCount:0,isDirty:!1,isLoading:jt(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let n=Be(e.defaultValues)||Be(e.values)?Ge(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:Ge(n),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...u};const y={array:Bo(),state:Bo()},v=Wo(e.mode),w=Wo(e.reValidateMode),f=e.criteriaMode===wt.all,p=j=>T=>{clearTimeout(d),d=setTimeout(j,T)},g=async j=>{if(!e.disabled&&(u.isValid||x.isValid||j)){const T=e.resolver?tt((await M()).errors):await F(r,!0);T!==s.isValid&&y.state.next({isValid:T})}},h=(j,T)=>{!e.disabled&&(u.isValidating||u.validatingFields||x.isValidating||x.validatingFields)&&((j||Array.from(c.mount)).forEach(A=>{A&&(T?Se(s.validatingFields,A,T):Ze(s.validatingFields,A))}),y.state.next({validatingFields:s.validatingFields,isValidating:!tt(s.validatingFields)}))},b=(j,T=[],A,W,$=!0,L=!0)=>{if(W&&A&&!e.disabled){if(o.action=!0,L&&Array.isArray(z(r,j))){const Q=A(z(r,j),W.argA,W.argB);$&&Se(r,j,Q)}if(L&&Array.isArray(z(s.errors,j))){const Q=A(z(s.errors,j),W.argA,W.argB);$&&Se(s.errors,j,Q),Zx(s.errors,j)}if((u.touchedFields||x.touchedFields)&&L&&Array.isArray(z(s.touchedFields,j))){const Q=A(z(s.touchedFields,j),W.argA,W.argB);$&&Se(s.touchedFields,j,Q)}(u.dirtyFields||x.dirtyFields)&&(s.dirtyFields=Ar(n,a)),y.state.next({name:j,isDirty:D(j,T),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Se(a,j,T)},S=(j,T)=>{Se(s.errors,j,T),y.state.next({errors:s.errors})},_=j=>{s.errors=j,y.state.next({errors:s.errors,isValid:!1})},N=(j,T,A,W)=>{const $=z(r,j);if($){const L=z(a,j,ze(A)?z(n,j):A);ze(L)||W&&W.defaultChecked||T?Se(a,j,T?L:Zo($._f)):V(j,L),o.mount&&g()}},k=(j,T,A,W,$)=>{let L=!1,Q=!1;const Ce={name:j};if(!e.disabled){if(!A||W){(u.isDirty||x.isDirty)&&(Q=s.isDirty,s.isDirty=Ce.isDirty=D(),L=Q!==Ce.isDirty);const He=ss(z(n,j),T);Q=!!z(s.dirtyFields,j),He?Ze(s.dirtyFields,j):Se(s.dirtyFields,j,!0),Ce.dirtyFields=s.dirtyFields,L=L||(u.dirtyFields||x.dirtyFields)&&Q!==!He}if(A){const He=z(s.touchedFields,j);He||(Se(s.touchedFields,j,A),Ce.touchedFields=s.touchedFields,L=L||(u.touchedFields||x.touchedFields)&&He!==A)}L&&$&&y.state.next(Ce)}return L?Ce:{}},P=(j,T,A,W)=>{const $=z(s.errors,j),L=(u.isValid||x.isValid)&&dt(T)&&s.isValid!==T;if(e.delayError&&A?(l=p(()=>S(j,A)),l(e.delayError)):(clearTimeout(d),l=null,A?Se(s.errors,j,A):Ze(s.errors,j)),(A?!ss($,A):$)||!tt(W)||L){const Q={...W,...L&&dt(T)?{isValid:T}:{},errors:s.errors,name:j};s={...s,...Q},y.state.next(Q)}},M=async j=>{h(j,!0);const T=await e.resolver(a,e.context,$x(j||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return h(j),T},H=async j=>{const{errors:T}=await M(j);if(j)for(const A of j){const W=z(T,A);W?Se(s.errors,A,W):Ze(s.errors,A)}else s.errors=T;return T},F=async(j,T,A={valid:!0})=>{for(const W in j){const $=j[W];if($){const{_f:L,...Q}=$;if(L){const Ce=c.array.has(L.name),He=$._f&&zx($._f);He&&u.validatingFields&&h([W],!0);const Qe=await Jo($,c.disabled,a,f,e.shouldUseNativeValidation&&!T,Ce);if(He&&u.validatingFields&&h([W]),Qe[L.name]&&(A.valid=!1,T))break;!T&&(z(Qe,L.name)?Ce?Wx(s.errors,Qe,L.name):Se(s.errors,L.name,Qe[L.name]):Ze(s.errors,L.name))}!tt(Q)&&await F(Q,T,A)}}return A.valid},R=()=>{for(const j of c.unMount){const T=z(r,j);T&&(T._f.refs?T._f.refs.every(A=>!Oa(A)):!Oa(T._f.ref))&&Pe(j)}c.unMount=new Set},D=(j,T)=>!e.disabled&&(j&&T&&Se(a,j,T),!ss(G(),n)),O=(j,T,A)=>ku(j,c,{...o.mount?a:ze(T)?n:Dt(j)?{[j]:T}:T},A,T),J=j=>ya(z(o.mount?a:n,j,e.shouldUnregister?z(n,j,[]):[])),V=(j,T,A={})=>{const W=z(r,j);let $=T;if(W){const L=W._f;L&&(!L.disabled&&Se(a,j,Ou(T,L)),$=Hn(L.ref)&&st(T)?"":T,Eu(L.ref)?[...L.ref.options].forEach(Q=>Q.selected=$.includes(Q.value)):L.refs?vn(L.ref)?L.refs.length>1?L.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray($)?!!$.find(Ce=>Ce===Q.value):$===Q.value)):L.refs[0]&&(L.refs[0].checked=!!$):L.refs.forEach(Q=>Q.checked=Q.value===$):Ji(L.ref)?L.ref.value="":(L.ref.value=$,L.ref.type||y.state.next({name:j,values:Ge(a)})))}(A.shouldDirty||A.shouldTouch)&&k(j,$,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&E(j)},X=(j,T,A)=>{for(const W in T){const $=T[W],L=`${j}.${W}`,Q=z(r,L);(c.array.has(j)||Be($)||Q&&!Q._f)&&!_s($)?X(L,$,A):V(L,$,A)}},K=(j,T,A={})=>{const W=z(r,j),$=c.array.has(j),L=Ge(T);Se(a,j,L),$?(y.array.next({name:j,values:Ge(a)}),(u.isDirty||u.dirtyFields||x.isDirty||x.dirtyFields)&&A.shouldDirty&&y.state.next({name:j,dirtyFields:Ar(n,a),isDirty:D(j,L)})):W&&!W._f&&!st(L)?X(j,L,A):V(j,L,A),Ko(j,c)&&y.state.next({...s}),y.state.next({name:o.mount?j:void 0,values:Ge(a)})},ce=async j=>{o.mount=!0;const T=j.target;let A=T.name,W=!0;const $=z(r,A),L=Q=>{W=Number.isNaN(Q)||_s(Q)&&isNaN(Q.getTime())||ss(Q,z(a,A,Q))};if($){let Q,Ce;const He=T.type?Zo($._f):ju(j),Qe=j.type===qn.BLUR||j.type===qn.FOCUS_OUT,tf=!Bx($._f)&&!e.resolver&&!z(s.errors,A)&&!$._f.deps||Ux(Qe,z(s.touchedFields,A),s.isSubmitted,w,v),ja=Ko(A,c,Qe);Se(a,A,He),Qe?($._f.onBlur&&$._f.onBlur(j),l&&l(0)):$._f.onChange&&$._f.onChange(j);const Ca=k(A,He,Qe),sf=!tt(Ca)||ja;if(!Qe&&y.state.next({name:A,type:j.type,values:Ge(a)}),tf)return(u.isValid||x.isValid)&&(e.mode==="onBlur"?Qe&&g():Qe||g()),sf&&y.state.next({name:A,...ja?{}:Ca});if(!Qe&&ja&&y.state.next({...s}),e.resolver){const{errors:so}=await M([A]);if(L(He),W){const rf=Qo(s.errors,r,A),ro=Qo(so,r,rf.name||A);Q=ro.error,A=ro.name,Ce=tt(so)}}else h([A],!0),Q=(await Jo($,c.disabled,a,f,e.shouldUseNativeValidation))[A],h([A]),L(He),W&&(Q?Ce=!1:(u.isValid||x.isValid)&&(Ce=await F(r,!0)));W&&($._f.deps&&E($._f.deps),P(A,Ce,Q,Ca))}},ke=(j,T)=>{if(z(s.errors,T)&&j.focus)return j.focus(),1},E=async(j,T={})=>{let A,W;const $=Fr(j);if(e.resolver){const L=await H(ze(j)?j:$);A=tt(L),W=j?!$.some(Q=>z(L,Q)):A}else j?(W=(await Promise.all($.map(async L=>{const Q=z(r,L);return await F(Q&&Q._f?{[L]:Q}:Q)}))).every(Boolean),!(!W&&!s.isValid)&&g()):W=A=await F(r);return y.state.next({...!Dt(j)||(u.isValid||x.isValid)&&A!==s.isValid?{}:{name:j},...e.resolver||!j?{isValid:A}:{},errors:s.errors}),T.shouldFocus&&!W&&Lr(r,ke,j?$:c.mount),W},G=j=>{const T={...o.mount?a:n};return ze(j)?T:Dt(j)?z(T,j):j.map(A=>z(T,A))},te=(j,T)=>({invalid:!!z((T||s).errors,j),isDirty:!!z((T||s).dirtyFields,j),error:z((T||s).errors,j),isValidating:!!z(s.validatingFields,j),isTouched:!!z((T||s).touchedFields,j)}),de=j=>{j&&Fr(j).forEach(T=>Ze(s.errors,T)),y.state.next({errors:j?s.errors:{}})},we=(j,T,A)=>{const W=(z(r,j,{_f:{}})._f||{}).ref,$=z(s.errors,j)||{},{ref:L,message:Q,type:Ce,...He}=$;Se(s.errors,j,{...He,...T,ref:W}),y.state.next({name:j,errors:s.errors,isValid:!1}),A&&A.shouldFocus&&W&&W.focus&&W.focus()},Te=(j,T)=>jt(j)?y.state.subscribe({next:A=>j(O(void 0,T),A)}):O(j,T,!0),q=j=>y.state.subscribe({next:T=>{Hx(j.name,T.name,j.exact)&&qx(T,j.formState||u,qs,j.reRenderRoot)&&j.callback({values:{...a},...s,...T})}}).unsubscribe,re=j=>(o.mount=!0,x={...x,...j.formState},q({...j,formState:x})),Pe=(j,T={})=>{for(const A of j?Fr(j):c.mount)c.mount.delete(A),c.array.delete(A),T.keepValue||(Ze(r,A),Ze(a,A)),!T.keepError&&Ze(s.errors,A),!T.keepDirty&&Ze(s.dirtyFields,A),!T.keepTouched&&Ze(s.touchedFields,A),!T.keepIsValidating&&Ze(s.validatingFields,A),!e.shouldUnregister&&!T.keepDefaultValue&&Ze(n,A);y.state.next({values:Ge(a)}),y.state.next({...s,...T.keepDirty?{isDirty:D()}:{}}),!T.keepIsValid&&g()},be=({disabled:j,name:T})=>{(dt(j)&&o.mount||j||c.disabled.has(T))&&(j?c.disabled.add(T):c.disabled.delete(T))},oe=(j,T={})=>{let A=z(r,j);const W=dt(T.disabled)||dt(e.disabled);return Se(r,j,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:j}},name:j,mount:!0,...T}}),c.mount.add(j),A?be({disabled:dt(T.disabled)?T.disabled:e.disabled,name:j}):N(j,!0,T.value),{...W?{disabled:T.disabled||e.disabled}:{},...e.progressive?{required:!!T.required,min:Pr(T.min),max:Pr(T.max),minLength:Pr(T.minLength),maxLength:Pr(T.maxLength),pattern:Pr(T.pattern)}:{},name:j,onChange:ce,onBlur:ce,ref:$=>{if($){oe(j,T),A=z(r,j);const L=ze($.value)&&$.querySelectorAll&&$.querySelectorAll("input,select,textarea")[0]||$,Q=Fx(L),Ce=A._f.refs||[];if(Q?Ce.find(He=>He===L):L===A._f.ref)return;Se(r,j,{_f:{...A._f,...Q?{refs:[...Ce.filter(Oa),L,...Array.isArray(z(n,j))?[{}]:[]],ref:{type:L.type,name:j}}:{ref:L}}}),N(j,!1,void 0,L)}else A=z(r,j,{}),A._f&&(A._f.mount=!1),(e.shouldUnregister||T.shouldUnregister)&&!(Cu(c.array,j)&&o.action)&&c.unMount.add(j)}}},ue=()=>e.shouldFocusError&&Lr(r,ke,c.mount),Ee=j=>{dt(j)&&(y.state.next({disabled:j}),Lr(r,(T,A)=>{const W=z(r,A);W&&(T.disabled=W._f.disabled||j,Array.isArray(W._f.refs)&&W._f.refs.forEach($=>{$.disabled=W._f.disabled||j}))},0,!1))},je=(j,T)=>async A=>{let W;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let $=Ge(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:L,values:Q}=await M();s.errors=L,$=Q}else await F(r);if(c.disabled.size)for(const L of c.disabled)Se($,L,void 0);if(Ze(s.errors,"root"),tt(s.errors)){y.state.next({errors:{}});try{await j($,A)}catch(L){W=L}}else T&&await T({...s.errors},A),ue(),setTimeout(ue);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tt(s.errors)&&!W,submitCount:s.submitCount+1,errors:s.errors}),W)throw W},qe=(j,T={})=>{z(r,j)&&(ze(T.defaultValue)?K(j,Ge(z(n,j))):(K(j,T.defaultValue),Se(n,j,Ge(T.defaultValue))),T.keepTouched||Ze(s.touchedFields,j),T.keepDirty||(Ze(s.dirtyFields,j),s.isDirty=T.defaultValue?D(j,Ge(z(n,j))):D()),T.keepError||(Ze(s.errors,j),u.isValid&&g()),y.state.next({...s}))},Re=(j,T={})=>{const A=j?Ge(j):n,W=Ge(A),$=tt(j),L=$?n:W;if(T.keepDefaultValues||(n=A),!T.keepValues){if(T.keepDirtyValues){const Q=new Set([...c.mount,...Object.keys(Ar(n,a))]);for(const Ce of Array.from(Q))z(s.dirtyFields,Ce)?Se(L,Ce,z(a,Ce)):K(Ce,z(L,Ce))}else{if(Qi&&ze(j))for(const Q of c.mount){const Ce=z(r,Q);if(Ce&&Ce._f){const He=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(Hn(He)){const Qe=He.closest("form");if(Qe){Qe.reset();break}}}}for(const Q of c.mount)K(Q,z(L,Q))}a=Ge(L),y.array.next({values:{...L}}),y.state.next({values:{...L}})}c={mount:T.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!T.keepIsValid||!!T.keepDirtyValues,o.watch=!!e.shouldUnregister,y.state.next({submitCount:T.keepSubmitCount?s.submitCount:0,isDirty:$?!1:T.keepDirty?s.isDirty:!!(T.keepDefaultValues&&!ss(j,n)),isSubmitted:T.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:$?{}:T.keepDirtyValues?T.keepDefaultValues&&a?Ar(n,a):s.dirtyFields:T.keepDefaultValues&&j?Ar(n,j):T.keepDirty?s.dirtyFields:{},touchedFields:T.keepTouched?s.touchedFields:{},errors:T.keepErrors?s.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},it=(j,T)=>Re(jt(j)?j(a):j,T),Ss=(j,T={})=>{const A=z(r,j),W=A&&A._f;if(W){const $=W.refs?W.refs[0]:W.ref;$.focus&&($.focus(),T.shouldSelect&&jt($.select)&&$.select())}},qs=j=>{s={...s,...j}},to={control:{register:oe,unregister:Pe,getFieldState:te,handleSubmit:je,setError:we,_subscribe:q,_runSchema:M,_getWatch:O,_getDirty:D,_setValid:g,_setFieldArray:b,_setDisabledField:be,_setErrors:_,_getFieldArray:J,_reset:Re,_resetDefaultValues:()=>jt(e.defaultValues)&&e.defaultValues().then(j=>{it(j,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Ee,_subjects:y,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(j){o=j},get _defaultValues(){return n},get _names(){return c},set _names(j){c=j},get _formState(){return s},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:re,trigger:E,register:oe,handleSubmit:je,watch:Te,setValue:K,getValues:G,reset:it,resetField:qe,clearErrors:de,unregister:Pe,setError:we,setFocus:Ss,getFieldState:te};return{...to,formControl:to}}function Iu(t={}){const e=xe.useRef(void 0),s=xe.useRef(void 0),[r,n]=xe.useState({isDirty:!1,isValidating:!1,isLoading:jt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:jt(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Kx(t),formState:r},t.formControl&&t.defaultValues&&!jt(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,xe.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0}),[a]),xe.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),xe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),xe.useEffect(()=>{t.values&&!ss(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,n(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),xe.useEffect(()=>{t.errors&&!tt(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),xe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),xe.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=Nu(r,a),e.current}const Du=Rx,Fu=m.createContext({}),Ue=({...t})=>i.jsx(Fu.Provider,{value:{name:t.name},children:i.jsx(Dx,{...t})}),ba=()=>{const t=m.useContext(Fu),e=m.useContext(Lu),{getFieldState:s,formState:r}=va(),n=s(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},Lu=m.createContext({}),Fe=m.forwardRef(({className:t,...e},s)=>{const r=m.useId();return i.jsx(Lu.Provider,{value:{id:r},children:i.jsx("div",{ref:s,className:ee("space-y-2",t),...e})})});Fe.displayName="FormItem";const Le=m.forwardRef(({className:t,...e},s)=>{const{error:r,formItemId:n}=ba();return i.jsx(qi,{ref:s,className:ee(r&&"text-destructive",t),htmlFor:n,...e})});Le.displayName="FormLabel";const Ve=m.forwardRef(({...t},e)=>{const{error:s,formItemId:r,formDescriptionId:n,formMessageId:a}=ba();return i.jsx(bc,{ref:e,id:r,"aria-describedby":s?`${n} ${a}`:`${n}`,"aria-invalid":!!s,...t})});Ve.displayName="FormControl";const Qx=m.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:r}=ba();return i.jsx("p",{ref:s,id:r,className:ee("text-sm text-muted-foreground",t),...e})});Qx.displayName="FormDescription";const $e=m.forwardRef(({className:t,children:e,...s},r)=>{const{error:n,formMessageId:a}=ba(),o=n?String((n==null?void 0:n.message)??""):e;return o?i.jsx("p",{ref:r,id:a,className:ee("text-sm font-medium text-destructive",t),...s,children:o}):null});$e.displayName="FormMessage";const Vu=m.forwardRef(({className:t,...e},s)=>i.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...e}));Vu.displayName="Textarea";const Xo=(t,e,s)=>{if(t&&"reportValidity"in t){const r=z(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},$u=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?Xo(r.ref,s,t):r.refs&&r.refs.forEach(n=>Xo(n,s,t))}},Yx=(t,e)=>{e.shouldUseNativeValidation&&$u(t,e);const s={};for(const r in t){const n=z(e.fields,r),a=Object.assign(t[r]||{},{ref:n&&n.ref});if(Jx(e.names||Object.keys(t),r)){const o=Object.assign({},z(s,r));Se(o,"root",a),Se(s,r,o)}else Se(s,r,a)}return s},Jx=(t,e)=>t.some(s=>s.startsWith(e+"."));var Xx=function(t,e){for(var s={};t.length;){var r=t[0],n=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];s[o]={message:c.message,type:c.code}}else s[o]={message:a,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(x){return t.push(x)})}),e){var l=s[o].types,d=l&&l[r.code];s[o]=Tu(o,e,s,n,d?[].concat(d,r.message):r.message)}t.shift()}return s},zu=function(t,e,s){return s===void 0&&(s={}),function(r,n,a){try{return Promise.resolve(function(o,c){try{var l=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&$u({},a),{errors:{},values:s.raw?r:d}})}catch(d){return c(d)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:Yx(Xx(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},ve;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function s(n){throw new Error}t.assertNever=s,t.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(c=>typeof n[n[c]]!="number"),o={};for(const c of a)o[c]=n[c];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(const o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function r(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(ve||(ve={}));var ui;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(ui||(ui={}));const Z=ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wt=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},I=ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ey=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ht extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},r={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let c=r,l=0;for(;l<o.path.length;){const d=o.path[l];l===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(s(o))):c[d]=c[d]||{_errors:[]},c=c[d],l++}}};return n(this),r}static assert(e){if(!(e instanceof ht))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const n of this.issues)n.path.length>0?(s[n.path[0]]=s[n.path[0]]||[],s[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}ht.create=t=>new ht(t);const vr=(t,e)=>{let s;switch(t.code){case I.invalid_type:t.received===Z.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,ve.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:s=`Unrecognized key(s) in object: ${ve.joinValues(t.keys,", ")}`;break;case I.invalid_union:s="Invalid input";break;case I.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ve.joinValues(t.options)}`;break;case I.invalid_enum_value:s=`Invalid enum value. Expected ${ve.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:s="Invalid function arguments";break;case I.invalid_return_type:s="Invalid function return type";break;case I.invalid_date:s="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:ve.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case I.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case I.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case I.custom:s="Invalid input";break;case I.invalid_intersection_types:s="Intersection results could not be merged";break;case I.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case I.not_finite:s="Number must be finite";break;default:s=e.defaultError,ve.assertNever(t)}return{message:s}};let Bu=vr;function ty(t){Bu=t}function Wn(){return Bu}const Gn=t=>{const{data:e,path:s,errorMaps:r,issueData:n}=t,a=[...s,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let c="";const l=r.filter(d=>!!d).slice().reverse();for(const d of l)c=d(o,{data:e,defaultError:c}).message;return{...n,path:a,message:c}},sy=[];function B(t,e){const s=Wn(),r=Gn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===vr?void 0:vr].filter(n=>!!n)});t.common.issues.push(r)}class Je{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const n of s){if(n.status==="aborted")return ie;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const n of s){const a=await n.key,o=await n.value;r.push({key:a,value:o})}return Je.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const n of s){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return ie;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const ie=Object.freeze({status:"aborted"}),Gs=t=>({status:"dirty",value:t}),at=t=>({status:"valid",value:t}),fi=t=>t.status==="aborted",hi=t=>t.status==="dirty",$s=t=>t.status==="valid",Ur=t=>typeof Promise<"u"&&t instanceof Promise;function Kn(t,e,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function qu(t,e,s,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}var Y;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Y||(Y={}));var Mr,Ir;class $t{constructor(e,s,r,n){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ec=(t,e)=>{if($s(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ht(t.common.issues);return this._error=s,this._error}}};function le(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:n}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,c)=>{var l,d;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(d=u??s)!==null&&d!==void 0?d:c.defaultError}},description:n}}class me{get description(){return this._def.description}_getType(e){return Wt(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:Wt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Je,ctx:{common:e.parent.common,data:e.data,parsedType:Wt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Ur(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){var r;const n={common:{issues:[],async:(r=s==null?void 0:s.async)!==null&&r!==void 0?r:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wt(e)},a=this._parseSync({data:e,path:n.path,parent:n});return ec(n,a)}"~validate"(e){var s,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wt(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return $s(a)?{value:a.value}:{issues:n.common.issues}}catch(a){!((r=(s=a==null?void 0:a.message)===null||s===void 0?void 0:s.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>$s(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wt(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await(Ur(n)?n:Promise.resolve(n));return ec(r,a)}refine(e,s){const r=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,a)=>{const o=e(n),c=()=>a.addIssue({code:I.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,s){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof s=="function"?s(r,n):s),!1))}_refinement(e){return new Et({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Lt.create(this,this._def)}nullable(){return ws.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Nt.create(this)}promise(){return wr.create(this,this._def)}or(e){return Kr.create([this,e],this._def)}and(e){return Qr.create(this,e,this._def)}transform(e){return new Et({...le(this._def),schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new tn({...le(this._def),innerType:this,defaultValue:s,typeName:ae.ZodDefault})}brand(){return new eo({typeName:ae.ZodBranded,type:this,...le(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new sn({...le(this._def),innerType:this,catchValue:s,typeName:ae.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return bn.create(this,e)}readonly(){return rn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ry=/^c[^\s-]{8,}$/i,ny=/^[0-9a-z]+$/,ay=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oy=/^[a-z0-9_-]{21}$/i,cy=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ly=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uy="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ma;const fy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,my=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,py=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gy=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yy=new RegExp(`^${Hu}$`);function Uu(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function vy(t){return new RegExp(`^${Uu(t)}$`)}function Zu(t){let e=`${Hu}T${Uu(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function by(t,e){return!!((e==="v4"||!e)&&fy.test(t)||(e==="v6"||!e)&&my.test(t))}function wy(t,e){if(!cy.test(t))return!1;try{const[s]=t.split("."),r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function jy(t,e){return!!((e==="v4"||!e)&&hy.test(t)||(e==="v6"||!e)&&py.test(t))}class Ct extends me{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const a=this._getOrReturnCtx(e);return B(a,{code:I.invalid_type,expected:Z.string,received:a.parsedType}),ie}const r=new Je;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:I.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:I.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,c=e.data.length<a.value;(o||c)&&(n=this._getOrReturnCtx(e,n),o?B(n,{code:I.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&B(n,{code:I.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")dy.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"email",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Ma||(Ma=new RegExp(uy,"u")),Ma.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"emoji",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")iy.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"uuid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")oy.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"nanoid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")ry.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")ny.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid2",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")ay.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ulid",code:I.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),B(n,{validation:"url",code:I.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"regex",code:I.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),B(n,{code:I.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:I.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:I.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Zu(a).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:I.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?yy.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:I.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?vy(a).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:I.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?ly.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"duration",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?by(e.data,a.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ip",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?wy(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"jwt",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?jy(e.data,a.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cidr",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?gy.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64",code:I.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?xy.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64url",code:I.invalid_string,message:a.message}),r.dirty()):ve.assertNever(a);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(n=>e.test(n),{validation:s,code:I.invalid_string,...Y.errToObj(r)})}_addCheck(e){return new Ct({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Y.errToObj(e)})}datetime(e){var s,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(s=e==null?void 0:e.offset)!==null&&s!==void 0?s:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Y.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Y.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Y.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...Y.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...Y.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...Y.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...Y.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...Y.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...Y.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...Y.errToObj(s)})}nonempty(e){return this.min(1,Y.errToObj(e))}trim(){return new Ct({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ct({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ct({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ct.create=t=>{var e;return new Ct({checks:[],typeName:ae.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...le(t)})};function Cy(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=s>r?s:r,a=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return a%o/Math.pow(10,n)}class ys extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const a=this._getOrReturnCtx(e);return B(a,{code:I.invalid_type,expected:Z.number,received:a.parsedType}),ie}let r;const n=new Je;for(const a of this._def.checks)a.kind==="int"?ve.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),B(r,{code:I.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),B(r,{code:I.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),B(r,{code:I.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?Cy(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),B(r,{code:I.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),B(r,{code:I.not_finite,message:a.message}),n.dirty()):ve.assertNever(a);return{status:n.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,Y.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Y.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Y.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Y.toString(s))}setLimit(e,s,r,n){return new ys({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:Y.toString(n)}]})}_addCheck(e){return new ys({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:Y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ve.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}ys.create=t=>new ys({checks:[],typeName:ae.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...le(t)});class vs extends me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Z.bigint)return this._getInvalidInput(e);let r;const n=new Je;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),B(r,{code:I.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),B(r,{code:I.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),B(r,{code:I.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):ve.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return B(s,{code:I.invalid_type,expected:Z.bigint,received:s.parsedType}),ie}gte(e,s){return this.setLimit("min",e,!0,Y.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Y.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Y.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Y.toString(s))}setLimit(e,s,r,n){return new vs({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:Y.toString(n)}]})}_addCheck(e){return new vs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}vs.create=t=>{var e;return new vs({checks:[],typeName:ae.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...le(t)})};class Zr extends me{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const r=this._getOrReturnCtx(e);return B(r,{code:I.invalid_type,expected:Z.boolean,received:r.parsedType}),ie}return at(e.data)}}Zr.create=t=>new Zr({typeName:ae.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...le(t)});class zs extends me{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const a=this._getOrReturnCtx(e);return B(a,{code:I.invalid_type,expected:Z.date,received:a.parsedType}),ie}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return B(a,{code:I.invalid_date}),ie}const r=new Je;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:I.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:I.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ve.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zs({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:Y.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:Y.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}zs.create=t=>new zs({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ae.ZodDate,...le(t)});class Qn extends me{_parse(e){if(this._getType(e)!==Z.symbol){const r=this._getOrReturnCtx(e);return B(r,{code:I.invalid_type,expected:Z.symbol,received:r.parsedType}),ie}return at(e.data)}}Qn.create=t=>new Qn({typeName:ae.ZodSymbol,...le(t)});class Wr extends me{_parse(e){if(this._getType(e)!==Z.undefined){const r=this._getOrReturnCtx(e);return B(r,{code:I.invalid_type,expected:Z.undefined,received:r.parsedType}),ie}return at(e.data)}}Wr.create=t=>new Wr({typeName:ae.ZodUndefined,...le(t)});class Gr extends me{_parse(e){if(this._getType(e)!==Z.null){const r=this._getOrReturnCtx(e);return B(r,{code:I.invalid_type,expected:Z.null,received:r.parsedType}),ie}return at(e.data)}}Gr.create=t=>new Gr({typeName:ae.ZodNull,...le(t)});class br extends me{constructor(){super(...arguments),this._any=!0}_parse(e){return at(e.data)}}br.create=t=>new br({typeName:ae.ZodAny,...le(t)});class Is extends me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return at(e.data)}}Is.create=t=>new Is({typeName:ae.ZodUnknown,...le(t)});class Jt extends me{_parse(e){const s=this._getOrReturnCtx(e);return B(s,{code:I.invalid_type,expected:Z.never,received:s.parsedType}),ie}}Jt.create=t=>new Jt({typeName:ae.ZodNever,...le(t)});class Yn extends me{_parse(e){if(this._getType(e)!==Z.undefined){const r=this._getOrReturnCtx(e);return B(r,{code:I.invalid_type,expected:Z.void,received:r.parsedType}),ie}return at(e.data)}}Yn.create=t=>new Yn({typeName:ae.ZodVoid,...le(t)});class Nt extends me{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),n=this._def;if(s.parsedType!==Z.array)return B(s,{code:I.invalid_type,expected:Z.array,received:s.parsedType}),ie;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,c=s.data.length<n.exactLength.value;(o||c)&&(B(s,{code:o?I.too_big:I.too_small,minimum:c?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(B(s,{code:I.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(B(s,{code:I.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,c)=>n.type._parseAsync(new $t(s,o,s.path,c)))).then(o=>Je.mergeArray(r,o));const a=[...s.data].map((o,c)=>n.type._parseSync(new $t(s,o,s.path,c)));return Je.mergeArray(r,a)}get element(){return this._def.type}min(e,s){return new Nt({...this._def,minLength:{value:e,message:Y.toString(s)}})}max(e,s){return new Nt({...this._def,maxLength:{value:e,message:Y.toString(s)}})}length(e,s){return new Nt({...this._def,exactLength:{value:e,message:Y.toString(s)}})}nonempty(e){return this.min(1,e)}}Nt.create=(t,e)=>new Nt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray,...le(e)});function Ws(t){if(t instanceof Oe){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=Lt.create(Ws(r))}return new Oe({...t._def,shape:()=>e})}else return t instanceof Nt?new Nt({...t._def,type:Ws(t.element)}):t instanceof Lt?Lt.create(Ws(t.unwrap())):t instanceof ws?ws.create(Ws(t.unwrap())):t instanceof zt?zt.create(t.items.map(e=>Ws(e))):t}class Oe extends me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=ve.objectKeys(e);return this._cached={shape:e,keys:s}}_parse(e){if(this._getType(e)!==Z.object){const d=this._getOrReturnCtx(e);return B(d,{code:I.invalid_type,expected:Z.object,received:d.parsedType}),ie}const{status:r,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Jt&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||c.push(d);const l=[];for(const d of o){const u=a[d],x=n.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new $t(n,x,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof Jt){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of c)l.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")c.length>0&&(B(n,{code:I.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of c){const x=n.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new $t(n,x,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of l){const x=await u.key,y=await u.value;d.push({key:x,value:y,alwaysSet:u.alwaysSet})}return d}).then(d=>Je.mergeObjectSync(r,d)):Je.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Y.errToObj,new Oe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{var n,a,o,c;const l=(o=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,s,r).message)!==null&&o!==void 0?o:r.defaultError;return s.code==="unrecognized_keys"?{message:(c=Y.errToObj(e).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new Oe({...this._def,unknownKeys:"strip"})}passthrough(){return new Oe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Oe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Oe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ae.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new Oe({...this._def,catchall:e})}pick(e){const s={};return ve.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(s[r]=this.shape[r])}),new Oe({...this._def,shape:()=>s})}omit(e){const s={};return ve.objectKeys(this.shape).forEach(r=>{e[r]||(s[r]=this.shape[r])}),new Oe({...this._def,shape:()=>s})}deepPartial(){return Ws(this)}partial(e){const s={};return ve.objectKeys(this.shape).forEach(r=>{const n=this.shape[r];e&&!e[r]?s[r]=n:s[r]=n.optional()}),new Oe({...this._def,shape:()=>s})}required(e){const s={};return ve.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Lt;)a=a._def.innerType;s[r]=a}}),new Oe({...this._def,shape:()=>s})}keyof(){return Wu(ve.objectKeys(this.shape))}}Oe.create=(t,e)=>new Oe({shape:()=>t,unknownKeys:"strip",catchall:Jt.create(),typeName:ae.ZodObject,...le(e)});Oe.strictCreate=(t,e)=>new Oe({shape:()=>t,unknownKeys:"strict",catchall:Jt.create(),typeName:ae.ZodObject,...le(e)});Oe.lazycreate=(t,e)=>new Oe({shape:t,unknownKeys:"strip",catchall:Jt.create(),typeName:ae.ZodObject,...le(e)});class Kr extends me{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function n(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return s.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new ht(c.ctx.common.issues));return B(s,{code:I.invalid_union,unionErrors:o}),ie}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const l of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=l._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(l=>new ht(l));return B(s,{code:I.invalid_union,unionErrors:c}),ie}}get options(){return this._def.options}}Kr.create=(t,e)=>new Kr({options:t,typeName:ae.ZodUnion,...le(e)});const Zt=t=>t instanceof Jr?Zt(t.schema):t instanceof Et?Zt(t.innerType()):t instanceof Xr?[t.value]:t instanceof bs?t.options:t instanceof en?ve.objectValues(t.enum):t instanceof tn?Zt(t._def.innerType):t instanceof Wr?[void 0]:t instanceof Gr?[null]:t instanceof Lt?[void 0,...Zt(t.unwrap())]:t instanceof ws?[null,...Zt(t.unwrap())]:t instanceof eo||t instanceof rn?Zt(t.unwrap()):t instanceof sn?Zt(t._def.innerType):[];class wa extends me{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.object)return B(s,{code:I.invalid_type,expected:Z.object,received:s.parsedType}),ie;const r=this.discriminator,n=s.data[r],a=this.optionsMap.get(n);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(B(s,{code:I.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,r){const n=new Map;for(const a of s){const o=Zt(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of o){if(n.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);n.set(c,a)}}return new wa({typeName:ae.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:n,...le(r)})}}function mi(t,e){const s=Wt(t),r=Wt(e);if(t===e)return{valid:!0,data:t};if(s===Z.object&&r===Z.object){const n=ve.objectKeys(e),a=ve.objectKeys(t).filter(c=>n.indexOf(c)!==-1),o={...t,...e};for(const c of a){const l=mi(t[c],e[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(s===Z.array&&r===Z.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const o=t[a],c=e[a],l=mi(o,c);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return s===Z.date&&r===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Qr extends me{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=(a,o)=>{if(fi(a)||fi(o))return ie;const c=mi(a.value,o.value);return c.valid?((hi(a)||hi(o))&&s.dirty(),{status:s.value,value:c.data}):(B(r,{code:I.invalid_intersection_types}),ie)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Qr.create=(t,e,s)=>new Qr({left:t,right:e,typeName:ae.ZodIntersection,...le(s)});class zt extends me{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.array)return B(r,{code:I.invalid_type,expected:Z.array,received:r.parsedType}),ie;if(r.data.length<this._def.items.length)return B(r,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&r.data.length>this._def.items.length&&(B(r,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new $t(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Je.mergeArray(s,o)):Je.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new zt({...this._def,rest:e})}}zt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zt({items:t,typeName:ae.ZodTuple,rest:null,...le(e)})};class Yr extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.object)return B(r,{code:I.invalid_type,expected:Z.object,received:r.parsedType}),ie;const n=[],a=this._def.keyType,o=this._def.valueType;for(const c in r.data)n.push({key:a._parse(new $t(r,c,r.path,c)),value:o._parse(new $t(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Je.mergeObjectAsync(s,n):Je.mergeObjectSync(s,n)}get element(){return this._def.valueType}static create(e,s,r){return s instanceof me?new Yr({keyType:e,valueType:s,typeName:ae.ZodRecord,...le(r)}):new Yr({keyType:Ct.create(),valueType:e,typeName:ae.ZodRecord,...le(s)})}}class Jn extends me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.map)return B(r,{code:I.invalid_type,expected:Z.map,received:r.parsedType}),ie;const n=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([c,l],d)=>({key:n._parse(new $t(r,c,r.path,[d,"key"])),value:a._parse(new $t(r,l,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of o){const d=await l.key,u=await l.value;if(d.status==="aborted"||u.status==="aborted")return ie;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),c.set(d.value,u.value)}return{status:s.value,value:c}})}else{const c=new Map;for(const l of o){const d=l.key,u=l.value;if(d.status==="aborted"||u.status==="aborted")return ie;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),c.set(d.value,u.value)}return{status:s.value,value:c}}}}Jn.create=(t,e,s)=>new Jn({valueType:e,keyType:t,typeName:ae.ZodMap,...le(s)});class Bs extends me{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.set)return B(r,{code:I.invalid_type,expected:Z.set,received:r.parsedType}),ie;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(B(r,{code:I.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(B(r,{code:I.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const a=this._def.valueType;function o(l){const d=new Set;for(const u of l){if(u.status==="aborted")return ie;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const c=[...r.data.values()].map((l,d)=>a._parse(new $t(r,l,r.path,d)));return r.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(e,s){return new Bs({...this._def,minSize:{value:e,message:Y.toString(s)}})}max(e,s){return new Bs({...this._def,maxSize:{value:e,message:Y.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Bs.create=(t,e)=>new Bs({valueType:t,minSize:null,maxSize:null,typeName:ae.ZodSet,...le(e)});class Xs extends me{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.function)return B(s,{code:I.invalid_type,expected:Z.function,received:s.parsedType}),ie;function r(c,l){return Gn({data:c,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Wn(),vr].filter(d=>!!d),issueData:{code:I.invalid_arguments,argumentsError:l}})}function n(c,l){return Gn({data:c,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Wn(),vr].filter(d=>!!d),issueData:{code:I.invalid_return_type,returnTypeError:l}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof wr){const c=this;return at(async function(...l){const d=new ht([]),u=await c._def.args.parseAsync(l,a).catch(v=>{throw d.addIssue(r(l,v)),d}),x=await Reflect.apply(o,this,u);return await c._def.returns._def.type.parseAsync(x,a).catch(v=>{throw d.addIssue(n(x,v)),d})})}else{const c=this;return at(function(...l){const d=c._def.args.safeParse(l,a);if(!d.success)throw new ht([r(l,d.error)]);const u=Reflect.apply(o,this,d.data),x=c._def.returns.safeParse(u,a);if(!x.success)throw new ht([n(u,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xs({...this._def,args:zt.create(e).rest(Is.create())})}returns(e){return new Xs({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,r){return new Xs({args:e||zt.create([]).rest(Is.create()),returns:s||Is.create(),typeName:ae.ZodFunction,...le(r)})}}class Jr extends me{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Jr.create=(t,e)=>new Jr({getter:t,typeName:ae.ZodLazy,...le(e)});class Xr extends me{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return B(s,{received:s.data,code:I.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xr.create=(t,e)=>new Xr({value:t,typeName:ae.ZodLiteral,...le(e)});function Wu(t,e){return new bs({values:t,typeName:ae.ZodEnum,...le(e)})}class bs extends me{constructor(){super(...arguments),Mr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return B(s,{expected:ve.joinValues(r),received:s.parsedType,code:I.invalid_type}),ie}if(Kn(this,Mr)||qu(this,Mr,new Set(this._def.values)),!Kn(this,Mr).has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return B(s,{received:s.data,code:I.invalid_enum_value,options:r}),ie}return at(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return bs.create(e,{...this._def,...s})}exclude(e,s=this._def){return bs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}Mr=new WeakMap;bs.create=Wu;class en extends me{constructor(){super(...arguments),Ir.set(this,void 0)}_parse(e){const s=ve.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Z.string&&r.parsedType!==Z.number){const n=ve.objectValues(s);return B(r,{expected:ve.joinValues(n),received:r.parsedType,code:I.invalid_type}),ie}if(Kn(this,Ir)||qu(this,Ir,new Set(ve.getValidEnumValues(this._def.values))),!Kn(this,Ir).has(e.data)){const n=ve.objectValues(s);return B(r,{received:r.data,code:I.invalid_enum_value,options:n}),ie}return at(e.data)}get enum(){return this._def.values}}Ir=new WeakMap;en.create=(t,e)=>new en({values:t,typeName:ae.ZodNativeEnum,...le(e)});class wr extends me{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.promise&&s.common.async===!1)return B(s,{code:I.invalid_type,expected:Z.promise,received:s.parsedType}),ie;const r=s.parsedType===Z.promise?s.data:Promise.resolve(s.data);return at(r.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}wr.create=(t,e)=>new wr({type:t,typeName:ae.ZodPromise,...le(e)});class Et extends me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{B(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async c=>{if(s.value==="aborted")return ie;const l=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return l.status==="aborted"?ie:l.status==="dirty"||s.value==="dirty"?Gs(l.value):l});{if(s.value==="aborted")return ie;const c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?ie:c.status==="dirty"||s.value==="dirty"?Gs(c.value):c}}if(n.type==="refinement"){const o=c=>{const l=n.refinement(c,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?ie:(c.status==="dirty"&&s.dirty(),o(c.value),{status:s.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?ie:(c.status==="dirty"&&s.dirty(),o(c.value).then(()=>({status:s.value,value:c.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$s(o))return o;const c=n.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>$s(o)?Promise.resolve(n.transform(o.value,a)).then(c=>({status:s.value,value:c})):o);ve.assertNever(n)}}Et.create=(t,e,s)=>new Et({schema:t,typeName:ae.ZodEffects,effect:e,...le(s)});Et.createWithPreprocess=(t,e,s)=>new Et({schema:e,effect:{type:"preprocess",transform:t},typeName:ae.ZodEffects,...le(s)});class Lt extends me{_parse(e){return this._getType(e)===Z.undefined?at(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lt.create=(t,e)=>new Lt({innerType:t,typeName:ae.ZodOptional,...le(e)});class ws extends me{_parse(e){return this._getType(e)===Z.null?at(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ws.create=(t,e)=>new ws({innerType:t,typeName:ae.ZodNullable,...le(e)});class tn extends me{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===Z.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}tn.create=(t,e)=>new tn({innerType:t,typeName:ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...le(e)});class sn extends me{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ur(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ht(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ht(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}sn.create=(t,e)=>new sn({innerType:t,typeName:ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...le(e)});class Xn extends me{_parse(e){if(this._getType(e)!==Z.nan){const r=this._getOrReturnCtx(e);return B(r,{code:I.invalid_type,expected:Z.nan,received:r.parsedType}),ie}return{status:"valid",value:e.data}}}Xn.create=t=>new Xn({typeName:ae.ZodNaN,...le(t)});const Sy=Symbol("zod_brand");class eo extends me{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class bn extends me{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ie:a.status==="dirty"?(s.dirty(),Gs(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?ie:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,s){return new bn({in:e,out:s,typeName:ae.ZodPipeline})}}class rn extends me{_parse(e){const s=this._def.innerType._parse(e),r=n=>($s(n)&&(n.value=Object.freeze(n.value)),n);return Ur(s)?s.then(n=>r(n)):r(s)}unwrap(){return this._def.innerType}}rn.create=(t,e)=>new rn({innerType:t,typeName:ae.ZodReadonly,...le(e)});function tc(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function Gu(t,e={},s){return t?br.create().superRefine((r,n)=>{var a,o;const c=t(r);if(c instanceof Promise)return c.then(l=>{var d,u;if(!l){const x=tc(e,r),y=(u=(d=x.fatal)!==null&&d!==void 0?d:s)!==null&&u!==void 0?u:!0;n.addIssue({code:"custom",...x,fatal:y})}});if(!c){const l=tc(e,r),d=(o=(a=l.fatal)!==null&&a!==void 0?a:s)!==null&&o!==void 0?o:!0;n.addIssue({code:"custom",...l,fatal:d})}}):br.create()}const _y={object:Oe.lazycreate};var ae;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ae||(ae={}));const Ny=(t,e={message:`Input not instance of ${t.name}`})=>Gu(s=>s instanceof t,e),Ku=Ct.create,Qu=ys.create,ky=Xn.create,Ty=vs.create,Yu=Zr.create,Ey=zs.create,Ay=Qn.create,Py=Wr.create,Ry=Gr.create,Oy=br.create,My=Is.create,Iy=Jt.create,Dy=Yn.create,Fy=Nt.create,Ly=Oe.create,Vy=Oe.strictCreate,$y=Kr.create,zy=wa.create,By=Qr.create,qy=zt.create,Hy=Yr.create,Uy=Jn.create,Zy=Bs.create,Wy=Xs.create,Gy=Jr.create,Ky=Xr.create,Qy=bs.create,Yy=en.create,Jy=wr.create,sc=Et.create,Xy=Lt.create,ev=ws.create,tv=Et.createWithPreprocess,sv=bn.create,rv=()=>Ku().optional(),nv=()=>Qu().optional(),av=()=>Yu().optional(),iv={string:t=>Ct.create({...t,coerce:!0}),number:t=>ys.create({...t,coerce:!0}),boolean:t=>Zr.create({...t,coerce:!0}),bigint:t=>vs.create({...t,coerce:!0}),date:t=>zs.create({...t,coerce:!0})},ov=ie;var Ie=Object.freeze({__proto__:null,defaultErrorMap:vr,setErrorMap:ty,getErrorMap:Wn,makeIssue:Gn,EMPTY_PATH:sy,addIssueToContext:B,ParseStatus:Je,INVALID:ie,DIRTY:Gs,OK:at,isAborted:fi,isDirty:hi,isValid:$s,isAsync:Ur,get util(){return ve},get objectUtil(){return ui},ZodParsedType:Z,getParsedType:Wt,ZodType:me,datetimeRegex:Zu,ZodString:Ct,ZodNumber:ys,ZodBigInt:vs,ZodBoolean:Zr,ZodDate:zs,ZodSymbol:Qn,ZodUndefined:Wr,ZodNull:Gr,ZodAny:br,ZodUnknown:Is,ZodNever:Jt,ZodVoid:Yn,ZodArray:Nt,ZodObject:Oe,ZodUnion:Kr,ZodDiscriminatedUnion:wa,ZodIntersection:Qr,ZodTuple:zt,ZodRecord:Yr,ZodMap:Jn,ZodSet:Bs,ZodFunction:Xs,ZodLazy:Jr,ZodLiteral:Xr,ZodEnum:bs,ZodNativeEnum:en,ZodPromise:wr,ZodEffects:Et,ZodTransformer:Et,ZodOptional:Lt,ZodNullable:ws,ZodDefault:tn,ZodCatch:sn,ZodNaN:Xn,BRAND:Sy,ZodBranded:eo,ZodPipeline:bn,ZodReadonly:rn,custom:Gu,Schema:me,ZodSchema:me,late:_y,get ZodFirstPartyTypeKind(){return ae},coerce:iv,any:Oy,array:Fy,bigint:Ty,boolean:Yu,date:Ey,discriminatedUnion:zy,effect:sc,enum:Qy,function:Wy,instanceof:Ny,intersection:By,lazy:Gy,literal:Ky,map:Uy,nan:ky,nativeEnum:Yy,never:Iy,null:Ry,nullable:ev,number:Qu,object:Ly,oboolean:av,onumber:nv,optional:Xy,ostring:rv,pipeline:sv,preprocess:tv,promise:Jy,record:Hy,set:Zy,strictObject:Vy,string:Ku,symbol:Ay,transformer:sc,tuple:qy,undefined:Py,union:$y,unknown:My,void:Dy,NEVER:ov,ZodIssueCode:I,quotelessJson:ey,ZodError:ht});const cv=Ie.object({id:Ie.string().min(1,"Course ID is required"),name:Ie.string().min(1,"Course name is required"),credits:Ie.coerce.number().min(0,"Credits must be positive"),theoreticalHours:Ie.coerce.number().min(0,"Hours must be positive"),practicalHours:Ie.coerce.number().min(0,"Hours must be positive"),term:Ie.coerce.number().min(1,"Term must be at least 1"),block:Ie.string().min(1,"Block is required"),prerequisites:Ie.string(),corequisites:Ie.string(),isElective:Ie.boolean(),electiveType:Ie.string().optional(),description:Ie.string().optional()});function lv(){const[t,e]=m.useState(!1),[s,r]=m.useState(null),{toast:n}=sa(),{data:a=[],isLoading:o}=Ka({queryKey:["/api/courses"]}),c=Qs({mutationFn:f=>Os("/api/admin/courses","POST",f),onSuccess:()=>{Ms.invalidateQueries({queryKey:["/api/courses"]}),e(!1),n({title:"Course created successfully"})},onError:()=>{n({title:"Failed to create course",variant:"destructive"})}}),l=Qs({mutationFn:({id:f,data:p})=>Os(`/api/admin/courses/${f}`,"PUT",p),onSuccess:()=>{Ms.invalidateQueries({queryKey:["/api/courses"]}),e(!1),r(null),n({title:"Course updated successfully"})},onError:()=>{n({title:"Failed to update course",variant:"destructive"})}}),d=Qs({mutationFn:f=>Os(`/api/admin/courses/${f}`,"DELETE"),onSuccess:()=>{Ms.invalidateQueries({queryKey:["/api/courses"]}),n({title:"Course deleted successfully"})},onError:()=>{n({title:"Failed to delete course",variant:"destructive"})}}),u=Iu({resolver:zu(cv),defaultValues:{id:"",name:"",credits:0,theoreticalHours:0,practicalHours:0,term:1,block:"",prerequisites:"",corequisites:"",isElective:!1,electiveType:"",description:""}}),x=f=>{const p={...f,prerequisites:f.prerequisites?f.prerequisites.split(",").map(g=>g.trim()).filter(Boolean):[],corequisites:f.corequisites?f.corequisites.split(",").map(g=>g.trim()).filter(Boolean):[]};s?l.mutate({id:s.id,data:p}):c.mutate(p)},y=f=>{r(f),u.reset({id:f.id,name:f.name,credits:f.credits,theoreticalHours:f.theoreticalHours,practicalHours:f.practicalHours,term:f.term,block:f.block,prerequisites:f.prerequisites.join(", "),corequisites:f.corequisites.join(", "),isElective:f.isElective,electiveType:f.electiveType||"",description:f.description||""}),e(!0)},v=f=>{confirm("Are you sure you want to delete this course?")&&d.mutate(f)},w=()=>{e(!1),r(null),u.reset()};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(pr,{href:"/",children:i.jsx(ne,{variant:"ghost",size:"icon","data-testid":"button-back",children:i.jsx(Cl,{className:"h-5 w-5"})})}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Course Management"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pr,{href:"/admin/sections",children:i.jsx(ne,{variant:"outline","data-testid":"button-sections",children:"Manage Sections"})}),i.jsxs(xa,{open:t,onOpenChange:e,children:[i.jsx(cu,{asChild:!0,children:i.jsxs(ne,{onClick:()=>{r(null),u.reset()},"data-testid":"button-add-course",children:[i.jsx(El,{className:"h-4 w-4 mr-2"}),"Add Course"]})}),i.jsxs(gn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(xn,{children:i.jsx(yn,{children:s?"Edit Course":"Add New Course"})}),i.jsx(Du,{...u,children:i.jsxs("form",{onSubmit:u.handleSubmit(x),className:"space-y-4",children:[i.jsx(Ue,{control:u.control,name:"id",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Course ID"}),i.jsx(Ve,{children:i.jsx(ge,{...f,disabled:!!s,"data-testid":"input-course-id"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:u.control,name:"name",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Course Name"}),i.jsx(Ve,{children:i.jsx(ge,{...f,"data-testid":"input-course-name"})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(Ue,{control:u.control,name:"credits",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Credits"}),i.jsx(Ve,{children:i.jsx(ge,{type:"number",...f,"data-testid":"input-credits"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:u.control,name:"theoreticalHours",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Theory Hours"}),i.jsx(Ve,{children:i.jsx(ge,{type:"number",...f,"data-testid":"input-theory-hours"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:u.control,name:"practicalHours",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Practical Hours"}),i.jsx(Ve,{children:i.jsx(ge,{type:"number",...f,"data-testid":"input-practical-hours"})}),i.jsx($e,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ue,{control:u.control,name:"term",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Term"}),i.jsx(Ve,{children:i.jsx(ge,{type:"number",...f,"data-testid":"input-term"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:u.control,name:"block",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Block"}),i.jsx(Ve,{children:i.jsx(ge,{...f,"data-testid":"input-block"})}),i.jsx($e,{})]})})]}),i.jsx(Ue,{control:u.control,name:"prerequisites",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Prerequisites (comma-separated)"}),i.jsx(Ve,{children:i.jsx(ge,{...f,placeholder:"e.g., MED-100, MED-200","data-testid":"input-prerequisites"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:u.control,name:"corequisites",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Corequisites (comma-separated)"}),i.jsx(Ve,{children:i.jsx(ge,{...f,placeholder:"e.g., MED-010","data-testid":"input-corequisites"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:u.control,name:"isElective",render:({field:f})=>i.jsxs(Fe,{className:"flex items-center space-x-2",children:[i.jsx(Ve,{children:i.jsx(zn,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-is-elective"})}),i.jsx(Le,{className:"!mt-0",children:"Is Elective"}),i.jsx($e,{})]})}),i.jsx(Ue,{control:u.control,name:"electiveType",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Elective Type"}),i.jsx(Ve,{children:i.jsx(ge,{...f,placeholder:"e.g., GEN, BASICAS, CLINICAS","data-testid":"input-elective-type"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:u.control,name:"description",render:({field:f})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Description"}),i.jsx(Ve,{children:i.jsx(Vu,{...f,"data-testid":"input-description"})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ne,{type:"button",variant:"outline",onClick:w,"data-testid":"button-cancel",children:"Cancel"}),i.jsx(ne,{type:"submit",disabled:c.isPending||l.isPending,"data-testid":"button-submit",children:s?"Update":"Create"})]})]})})]})]})]})]}),o?i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading courses..."}):i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:i.jsxs(Wi,{children:[i.jsx(Gi,{children:i.jsxs(Hr,{children:[i.jsx(rt,{children:"ID"}),i.jsx(rt,{children:"Name"}),i.jsx(rt,{children:"Credits"}),i.jsx(rt,{children:"Term"}),i.jsx(rt,{children:"Block"}),i.jsx(rt,{children:"Elective"}),i.jsx(rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Ki,{children:a.map(f=>i.jsxs(Hr,{"data-testid":`row-course-${f.id}`,children:[i.jsx(nt,{className:"font-mono text-gray-900 dark:text-gray-100","data-testid":`text-course-id-${f.id}`,children:f.id}),i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-name-${f.id}`,children:f.name}),i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-credits-${f.id}`,children:f.credits}),i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-term-${f.id}`,children:f.term}),i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-block-${f.id}`,children:f.block}),i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-elective-${f.id}`,children:f.isElective?"Yes":"No"}),i.jsx(nt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>y(f),"data-testid":`button-edit-${f.id}`,children:i.jsx(Tl,{className:"h-4 w-4"})}),i.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>v(f.id),disabled:d.isPending,"data-testid":`button-delete-${f.id}`,children:i.jsx(Ti,{className:"h-4 w-4"})})]})})]},f.id))})]})})]})})}const dv=Ie.object({courseId:Ie.string().min(1,"Course ID is required"),sectionNumber:Ie.string().min(1,"Section number is required"),instructor:Ie.string().min(1,"Instructor is required"),room:Ie.string().min(1,"Room is required"),crn:Ie.string().min(1,"CRN is required"),schedule:Ie.string().min(1,"Schedule is required"),maxCapacity:Ie.coerce.number().min(1,"Max capacity must be at least 1"),currentEnrollment:Ie.coerce.number().min(0,"Enrollment must be non-negative")});function uv(){const[t,e]=m.useState(!1),[s,r]=m.useState(null),{toast:n}=sa(),{data:a=[],isLoading:o}=Ka({queryKey:["/api/sections"]}),{data:c=[]}=Ka({queryKey:["/api/courses"]}),l=Qs({mutationFn:g=>Os("/api/admin/sections","POST",g),onSuccess:()=>{Ms.invalidateQueries({queryKey:["/api/sections"]}),e(!1),n({title:"Section created successfully"})},onError:()=>{n({title:"Failed to create section",variant:"destructive"})}}),d=Qs({mutationFn:({id:g,data:h})=>Os(`/api/admin/sections/${g}`,"PUT",h),onSuccess:()=>{Ms.invalidateQueries({queryKey:["/api/sections"]}),e(!1),r(null),n({title:"Section updated successfully"})},onError:()=>{n({title:"Failed to update section",variant:"destructive"})}}),u=Qs({mutationFn:g=>Os(`/api/admin/sections/${g}`,"DELETE"),onSuccess:()=>{Ms.invalidateQueries({queryKey:["/api/sections"]}),n({title:"Section deleted successfully"})},onError:()=>{n({title:"Failed to delete section",variant:"destructive"})}}),x=Iu({resolver:zu(dv),defaultValues:{courseId:"",sectionNumber:"",instructor:"",room:"",crn:"",schedule:"",maxCapacity:30,currentEnrollment:0}}),y=g=>{try{const h=JSON.parse(g.schedule);if(!Array.isArray(h)){n({title:"Schedule must be a JSON array",variant:"destructive"});return}const b={...g,schedule:h};s?d.mutate({id:s.id,data:b}):l.mutate(b)}catch{n({title:"Invalid JSON format for schedule",variant:"destructive"})}},v=g=>{r(g),x.reset({courseId:g.courseId,sectionNumber:g.sectionNumber,instructor:g.instructor,room:g.room,crn:g.crn,schedule:JSON.stringify(g.schedule),maxCapacity:g.maxCapacity,currentEnrollment:g.currentEnrollment}),e(!0)},w=g=>{confirm("Are you sure you want to delete this section?")&&u.mutate(g)},f=()=>{e(!1),r(null),x.reset()},p=g=>{const h=c.find(b=>b.id===g);return h?`${h.id} - ${h.name}`:g};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(pr,{href:"/",children:i.jsx(ne,{variant:"ghost",size:"icon","data-testid":"button-back",children:i.jsx(Cl,{className:"h-5 w-5"})})}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Section Management"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pr,{href:"/admin/courses",children:i.jsx(ne,{variant:"outline","data-testid":"button-courses",children:"Manage Courses"})}),i.jsxs(xa,{open:t,onOpenChange:e,children:[i.jsx(cu,{asChild:!0,children:i.jsxs(ne,{onClick:()=>{r(null),x.reset()},"data-testid":"button-add-section",children:[i.jsx(El,{className:"h-4 w-4 mr-2"}),"Add Section"]})}),i.jsxs(gn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx(xn,{children:i.jsx(yn,{children:s?"Edit Section":"Add New Section"})}),i.jsx(Du,{...x,children:i.jsxs("form",{onSubmit:x.handleSubmit(y),className:"space-y-4",children:[i.jsx(Ue,{control:x.control,name:"courseId",render:({field:g})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Course"}),i.jsxs(pa,{onValueChange:g.onChange,defaultValue:g.value,children:[i.jsx(Ve,{children:i.jsx(mn,{"data-testid":"select-course",children:i.jsx(ga,{placeholder:"Select a course"})})}),i.jsx(pn,{children:c.map(h=>i.jsxs(yr,{value:h.id,children:[h.id," - ",h.name]},h.id))})]}),i.jsx($e,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ue,{control:x.control,name:"sectionNumber",render:({field:g})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Section Number"}),i.jsx(Ve,{children:i.jsx(ge,{...g,"data-testid":"input-section-number"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:x.control,name:"crn",render:({field:g})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"CRN"}),i.jsx(Ve,{children:i.jsx(ge,{...g,"data-testid":"input-crn"})}),i.jsx($e,{})]})})]}),i.jsx(Ue,{control:x.control,name:"instructor",render:({field:g})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Instructor"}),i.jsx(Ve,{children:i.jsx(ge,{...g,"data-testid":"input-instructor"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:x.control,name:"room",render:({field:g})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Room"}),i.jsx(Ve,{children:i.jsx(ge,{...g,"data-testid":"input-room"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:x.control,name:"schedule",render:({field:g})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Schedule (JSON format)"}),i.jsx(Ve,{children:i.jsx(ge,{...g,placeholder:'[{"day":"Monday","startTime":"08:00","endTime":"10:00"}]',"data-testid":"input-schedule"})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ue,{control:x.control,name:"maxCapacity",render:({field:g})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Max Capacity"}),i.jsx(Ve,{children:i.jsx(ge,{type:"number",...g,"data-testid":"input-max-capacity"})}),i.jsx($e,{})]})}),i.jsx(Ue,{control:x.control,name:"currentEnrollment",render:({field:g})=>i.jsxs(Fe,{children:[i.jsx(Le,{children:"Current Enrollment"}),i.jsx(Ve,{children:i.jsx(ge,{type:"number",...g,"data-testid":"input-current-enrollment"})}),i.jsx($e,{})]})})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ne,{type:"button",variant:"outline",onClick:f,"data-testid":"button-cancel",children:"Cancel"}),i.jsx(ne,{type:"submit",disabled:l.isPending||d.isPending,"data-testid":"button-submit",children:s?"Update":"Create"})]})]})})]})]})]})]}),o?i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading sections..."}):i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:i.jsxs(Wi,{children:[i.jsx(Gi,{children:i.jsxs(Hr,{children:[i.jsx(rt,{children:"Course"}),i.jsx(rt,{children:"Section"}),i.jsx(rt,{children:"CRN"}),i.jsx(rt,{children:"Instructor"}),i.jsx(rt,{children:"Room"}),i.jsx(rt,{children:"Capacity"}),i.jsx(rt,{className:"text-right",children:"Actions"})]})}),i.jsx(Ki,{children:a.map(g=>i.jsxs(Hr,{"data-testid":`row-section-${g.id}`,children:[i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-${g.id}`,children:p(g.courseId)}),i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-section-number-${g.id}`,children:g.sectionNumber}),i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-crn-${g.id}`,children:g.crn}),i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-instructor-${g.id}`,children:g.instructor}),i.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-room-${g.id}`,children:g.room}),i.jsxs(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-capacity-${g.id}`,children:[g.currentEnrollment,"/",g.maxCapacity]}),i.jsx(nt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>v(g),"data-testid":`button-edit-${g.id}`,children:i.jsx(Tl,{className:"h-4 w-4"})}),i.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>w(g.id),disabled:u.isPending,"data-testid":`button-delete-${g.id}`,children:i.jsx(Ti,{className:"h-4 w-4"})})]})})]},g.id))})]})})]})})}function fv(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(St,{className:"w-full max-w-md mx-4",children:i.jsxs(_t,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(Nl,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const hv=()=>{const t=()=>window.location.hash.replace(/^#/,"")||"/",[e,s]=m.useState(t());return m.useEffect(()=>{const n=()=>s(t());return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),[e,n=>{window.location.hash=n}]};function mv(){return i.jsx(ph,{client:Ms,children:i.jsx(jg,{children:i.jsxs(bg,{children:[i.jsx(Qm,{}),i.jsx(Lc,{hook:hv,children:i.jsxs(Kf,{children:[i.jsx(jn,{path:"/",component:kx}),i.jsx(jn,{path:"/admin/courses",component:lv}),i.jsx(jn,{path:"/admin/sections",component:uv}),i.jsx(jn,{component:fv})]})})]})})})}var pi={},rc=ln;pi.createRoot=rc.createRoot,pi.hydrateRoot=rc.hydrateRoot;var pv="Separator",nc="horizontal",gv=["horizontal","vertical"],Ju=m.forwardRef((t,e)=>{const{decorative:s,orientation:r=nc,...n}=t,a=xv(r)?r:nc,c=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Ne.div,{"data-orientation":a,...c,...n,ref:e})});Ju.displayName=pv;function xv(t){return gv.includes(t)}var Xu=Ju;const ea=m.forwardRef(({className:t,orientation:e="horizontal",decorative:s=!0,...r},n)=>i.jsx(Xu,{ref:n,decorative:s,orientation:e,className:ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));ea.displayName=Xu.displayName;function yv({search:t,onSearchChange:e,onAdd:s,onImportCourses:r,onImportSections:n,onExportCourses:a,onExportSections:o}){return i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx(ge,{placeholder:"Buscar curso por ID o nombre",value:t,onChange:c=>e(c.target.value),className:"h-9"})}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(ne,{onClick:s,children:"Agregar curso"}),i.jsx(ne,{variant:"outline",onClick:r,children:"Importar courses.json"}),i.jsx(ne,{variant:"outline",onClick:n,children:"Importar sections.json"}),i.jsx(ne,{variant:"outline",onClick:a,children:"Exportar courses.json"}),i.jsx(ne,{variant:"outline",onClick:o,children:"Exportar sections.json"})]})]})}function vv({courses:t,onEdit:e,onDelete:s}){return t?t.length===0?i.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay cursos"}):i.jsx("div",{className:"space-y-2",children:t.map(r=>i.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"font-medium",children:[r.id,"  ",r.name]}),i.jsxs("div",{className:"text-muted-foreground",children:[r.credits," crditos  HT ",r.theoreticalHours,"  HP ",r.practicalHours,"  Term ",r.term]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ne,{size:"sm",variant:"outline",onClick:()=>e(r),children:"Editar"}),i.jsx(ne,{size:"sm",variant:"destructive",onClick:()=>s(r.id),children:"Eliminar"})]})]},r.id))}):i.jsx("div",{className:"text-sm text-muted-foreground",children:"Cargando cursos"})}function ac(t,e){for(const s of t.slots)for(const r of e.slots)if(s.day===r.day&&!(s.end<=r.start||r.end<=s.start))return!0;return!1}function bv(t){return t.map(e=>({...e,schedule:(e.schedule||[]).map(s=>({day:s.day,start:s.start??s.startTime,end:s.end??s.endTime}))}))}function wv(t){return t.map(e=>({...e,schedule:(e.schedule||[]).map(s=>({day:s.day,startTime:s.start,endTime:s.end}))}))}function Us(t){if(!t)return{time:"07:00",ap:"AM"};const[e,s]=t.split(":");let r=parseInt(e,10);const n=s??"00",a=r>=12?"PM":"AM";return r=r%12,r===0&&(r=12),{time:`${String(r).padStart(2,"0")}:${n}`,ap:a}}function Zs(t,e){const[s,r]=t.split(":");let n=Math.max(1,Math.min(12,parseInt(s||"12",10)||12));const a=r??"00";return e==="AM"?n===12&&(n=0):n!==12&&(n+=12),`${String(n).padStart(2,"0")}:${a.padStart(2,"0")}`}const ic=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function jv({open:t,onClose:e,course:s,allCourses:r,onSave:n,getSectionsForCourse:a,setSectionsForCourse:o}){const[c,l]=m.useState(s),[d,u]=m.useState("");m.useEffect(()=>l(s),[s]);const x=m.useMemo(()=>new Set(r.map(E=>E.id)),[r]),y=m.useMemo(()=>{const E=d.trim().toLowerCase();return r.filter(G=>G.id!==c.id).filter(G=>G.id.toLowerCase().includes(E)||G.name.toLowerCase().includes(E))},[r,d,c.id]),v=(E,G)=>{const te=new Set(c[E]??[]);te.has(G)?te.delete(G):te.add(G),l({...c,[E]:Array.from(te)})},w=E=>G=>{const te=Number(G.target.value||0);l({...c,[E]:isNaN(te)?0:te})},f=E=>G=>{l({...c,[E]:G.target.value})},p=()=>{if(!c.id||!/^[A-Za-z]{3}-?\d{3}$/.test(c.id))return"ID invlido (ej: MED101 o MED-101)";if(!c.name)return"Nombre requerido";if(c.credits<0)return"Crditos no pueden ser negativos";if(!Number.isInteger(c.term)||c.term<=0)return"Term debe ser un entero positivo";for(const E of c.prerequisites??[])if(!x.has(E))return`Prereq no existe: ${E}`;for(const E of c.corequisites??[])if(!x.has(E))return`Coreq no existe: ${E}`;return(c.prerequisites??[]).includes(c.id)?"Un curso no puede ser prerequisito de s mismo":(c.corequisites??[]).includes(c.id)?"Un curso no puede ser correquisito de s mismo":null},[g,h]=m.useState(null),b=()=>{const E=p();if(E){h({type:"error",text:E});return}n({...c,prerequisites:Array.from(new Set(c.prerequisites??[])),corequisites:Array.from(new Set(c.corequisites??[]))}),h({type:"success",text:"Datos del curso guardados."})},[S,_]=m.useState([]),[N,k]=m.useState(""),[P,M]=m.useState({crn:"",room:""}),[H,F]=m.useState({});m.useEffect(()=>{const E=a(s.id)||[],G=Array.isArray(E)?bv(E):[];_(G);const te={};for(const de of G){const we=(de.schedule||[])[0];if(we){const Te=Us(we.start),q=Us(we.end);te[de.crn]={day:we.day??"Monday",timeStart12:Te.time,apStart:Te.ap,timeEnd12:q.time,apEnd:q.ap}}else te[de.crn]={day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"}}F(te),h(null)},[s.id,a]);const R=m.useMemo(()=>{const E=N.trim().toLowerCase();return E?S.filter(G=>{var te,de,we,Te;return(((de=(te=G.crn)==null?void 0:te.toLowerCase)==null?void 0:de.call(te))||"").includes(E)||(((Te=(we=G.room)==null?void 0:we.toLowerCase)==null?void 0:Te.call(we))||"").includes(E)}):S},[S,N]),D=()=>{const E=P.crn.trim();if(!E)return h({type:"error",text:"CRN requerido."});if(S.some(de=>de.crn===E))return h({type:"error",text:"CRN ya existe."});const G=P.room.trim(),te={crn:E,room:G,closed:!1,schedule:[]};_(de=>[...de,te]),F(de=>({...de,[E]:{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"}})),M({crn:"",room:""}),h({type:"success",text:`Seccin ${E} agregada.`})},O=(E,G,te)=>{_(de=>de.map(we=>we.crn===E?{...we,[G]:te}:we))},J=E=>{_(G=>G.filter(te=>te.crn!==E)),h({type:"success",text:`Seccin ${E} eliminada.`})},V=E=>{const G=H[E]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"};if(!G.day||!G.timeStart12||!G.timeEnd12)return h({type:"error",text:"Completa da, hora de inicio y fin."});const te=Zs(G.timeStart12,G.apStart),de=Zs(G.timeEnd12,G.apEnd);_(we=>we.map(Te=>Te.crn===E?{...Te,schedule:[...Te.schedule||[],{day:G.day,start:te,end:de}]}:Te)),h({type:"success",text:`Bloque agregado a ${E}.`})},X=(E,G)=>{_(te=>te.map(de=>de.crn===E?{...de,schedule:(de.schedule||[]).filter((we,Te)=>Te!==G)}:de))},K=()=>{const E=[];for(let G=0;G<S.length;G++)for(let te=G+1;te<S.length;te++){const de=S[G],we=S[te];ac(de,we)&&E.push(`Conflicto entre ${de.crn} y ${we.crn}`)}return E},ce=async()=>{const E=K();if(E.length>0){h({type:"error",text:`Conflictos:
${E.join(`
`)}`});return}const G=wv(S);await o(c.id,G),h({type:"success",text:`Secciones guardadas para ${c.id}.`})},ke=E=>{const G=S.find(te=>te.crn===E);return G?S.some(te=>te.crn!==E&&ac(G,te)):!1};return i.jsx(xa,{open:t,onOpenChange:E=>!E&&e(),children:i.jsxs(gn,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[i.jsxs(xn,{children:[i.jsxs(yn,{children:["Editar curso ",s.id]}),i.jsx(uu,{className:"sr-only",children:"Edita datos bsicos, prerrequisitos, correquisitos y secciones."})]}),g&&i.jsx("div",{className:`mb-3 rounded border p-2 text-sm ${g.type==="error"?"border-destructive text-destructive":"border-green-600 text-green-700"}`,children:g.text.split(`
`).map((E,G)=>i.jsx("div",{children:E},G))}),i.jsxs(bu,{defaultValue:"data",className:"mt-2",children:[i.jsxs(Zi,{children:[i.jsx(Br,{value:"data",children:"Datos bsicos"}),i.jsx(Br,{value:"sections",children:"Secciones"})]}),i.jsxs(qr,{value:"data",className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"ID"}),i.jsx(ge,{className:"h-8 text-sm",value:c.id,onChange:f("id")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Nombre"}),i.jsx(ge,{className:"h-8 text-sm",value:c.name,onChange:f("name")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Crditos"}),i.jsx(ge,{className:"h-8 text-sm",type:"number",value:c.credits,onChange:w("credits")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Horas tericas"}),i.jsx(ge,{className:"h-8 text-sm",type:"number",value:c.theoreticalHours,onChange:w("theoreticalHours")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Horas prcticas"}),i.jsx(ge,{className:"h-8 text-sm",type:"number",value:c.practicalHours,onChange:w("practicalHours")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Term"}),i.jsx(ge,{className:"h-8 text-sm",type:"number",value:c.term,onChange:w("term")})]})]}),i.jsx(ea,{className:"my-2"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"font-medium text-sm",children:"Prerequisitos"}),i.jsx(ge,{placeholder:"Buscar curso",value:d,onChange:E=>u(E.target.value),className:"max-w-xs h-8 text-xs"})]}),i.jsx("div",{className:"max-h-48 overflow-auto border rounded p-2 space-y-1",children:y.map(E=>{const G=(c.prerequisites??[]).includes(E.id);return i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:G,onChange:()=>v("prerequisites",E.id)}),i.jsx("span",{className:"font-medium",children:E.id}),i.jsxs("span",{className:"text-muted-foreground",children:["  ",E.name]})]},`pre-${E.id}`)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"font-medium text-sm mt-3",children:"Correquisitos"}),i.jsx("div",{className:"max-h-48 overflow-auto border rounded p-2 space-y-1",children:y.map(E=>{const G=(c.corequisites??[]).includes(E.id);return i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:G,onChange:()=>v("corequisites",E.id)}),i.jsx("span",{className:"font-medium",children:E.id}),i.jsxs("span",{className:"text-muted-foreground",children:["  ",E.name]})]},`co-${E.id}`)})})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[i.jsx(ne,{variant:"outline",onClick:e,children:"Cancelar"}),i.jsx(ne,{onClick:b,children:"Guardar datos"})]})]}),i.jsxs(qr,{value:"sections",className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"font-medium text-sm",children:["Secciones del curso ",c.id]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ge,{placeholder:"Buscar por CRN/Aula",value:N,onChange:E=>k(E.target.value),className:"h-8 text-xs max-w-xs"}),i.jsx(ne,{size:"sm",variant:"outline",onClick:ce,children:"Guardar secciones"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 border rounded p-2",children:[i.jsx(ge,{placeholder:"CRN (ej. MED100001)",value:P.crn,onChange:E=>M({...P,crn:E.target.value}),className:"h-8 text-xs max-w-[200px]"}),i.jsx(ge,{placeholder:"Aula (ej. A-101)",value:P.room,onChange:E=>M({...P,room:E.target.value}),className:"h-8 text-xs max-w-[160px]"}),i.jsx(ne,{size:"sm",onClick:D,children:"Agregar seccin"})]}),i.jsxs("div",{className:"space-y-2",children:[R.map(E=>{var G,te,de,we,Te;return i.jsxs("div",{className:"border rounded p-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-sm font-medium",children:E.crn}),ke(E.crn)&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-destructive text-destructive",children:"Conflicto"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("label",{className:"text-xs flex items-center gap-1",children:[i.jsx("span",{children:"Aula"}),i.jsx(ge,{value:E.room||"",onChange:q=>O(E.crn,"room",q.target.value),className:"h-8 text-xs w-[140px]"})]}),i.jsxs("label",{className:"text-xs flex items-center gap-1",children:[i.jsx("input",{type:"checkbox",checked:!!E.closed,onChange:q=>O(E.crn,"closed",q.target.checked)}),i.jsx("span",{children:"Cerrada"})]}),i.jsx(ne,{size:"sm",variant:"destructive",onClick:()=>J(E.crn),children:"Eliminar"})]})]}),i.jsx(ea,{className:"my-2"}),i.jsxs("div",{className:"space-y-1",children:[(E.schedule||[]).map((q,re)=>{const Pe=Us(q.start),be=Us(q.end);return i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[i.jsx("select",{value:q.day??"Monday",onChange:oe=>{const ue=oe.target.value;_(Ee=>Ee.map(je=>je.crn===E.crn?{...je,schedule:je.schedule.map((qe,Re)=>Re===re?{...qe,day:ue}:qe)}:je))},className:"h-8 px-2 border rounded bg-background text-foreground",children:ic.map(oe=>i.jsx("option",{value:oe,children:oe},oe))}),i.jsx(ge,{value:Pe.time,onChange:oe=>{const ue=Zs(oe.target.value,Pe.ap);_(Ee=>Ee.map(je=>je.crn===E.crn?{...je,schedule:je.schedule.map((qe,Re)=>Re===re?{...qe,start:ue}:qe)}:je))},className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),i.jsxs("select",{value:Pe.ap,onChange:oe=>{const ue=oe.target.value,Ee=Us(q.start).time,je=Zs(Ee,ue);_(qe=>qe.map(Re=>Re.crn===E.crn?{...Re,schedule:Re.schedule.map((it,Ss)=>Ss===re?{...it,start:je}:it)}:Re))},className:"h-8 px-2 border rounded bg-background text-foreground",children:[i.jsx("option",{children:"AM"}),i.jsx("option",{children:"PM"})]}),i.jsx("span",{className:"opacity-60",children:""}),i.jsx(ge,{value:be.time,onChange:oe=>{const ue=Zs(oe.target.value,be.ap);_(Ee=>Ee.map(je=>je.crn===E.crn?{...je,schedule:je.schedule.map((qe,Re)=>Re===re?{...qe,end:ue}:qe)}:je))},className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),i.jsxs("select",{value:be.ap,onChange:oe=>{const ue=oe.target.value,Ee=Us(q.end).time,je=Zs(Ee,ue);_(qe=>qe.map(Re=>Re.crn===E.crn?{...Re,schedule:Re.schedule.map((it,Ss)=>Ss===re?{...it,end:je}:it)}:Re))},className:"h-8 px-2 border rounded bg-background text-foreground",children:[i.jsx("option",{children:"AM"}),i.jsx("option",{children:"PM"})]}),i.jsx(ne,{size:"sm",variant:"ghost",onClick:()=>X(E.crn,re),children:"Quitar"})]},re)}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[i.jsx("select",{value:((G=H[E.crn])==null?void 0:G.day)??"Monday",onChange:q=>F(re=>({...re,[E.crn]:{...re[E.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},day:q.target.value}})),className:"h-8 px-2 border rounded bg-background text-foreground",children:ic.map(q=>i.jsx("option",{value:q,children:q},q))}),i.jsx(ge,{value:((te=H[E.crn])==null?void 0:te.timeStart12)??"07:00",onChange:q=>F(re=>({...re,[E.crn]:{...re[E.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},timeStart12:q.target.value}})),className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),i.jsxs("select",{value:((de=H[E.crn])==null?void 0:de.apStart)??"AM",onChange:q=>F(re=>({...re,[E.crn]:{...re[E.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},apStart:q.target.value}})),className:"h-8 px-2 border rounded bg-background text-foreground",children:[i.jsx("option",{children:"AM"}),i.jsx("option",{children:"PM"})]}),i.jsx("span",{className:"opacity-60",children:""}),i.jsx(ge,{value:((we=H[E.crn])==null?void 0:we.timeEnd12)??"09:00",onChange:q=>F(re=>({...re,[E.crn]:{...re[E.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},timeEnd12:q.target.value}})),className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),i.jsxs("select",{value:((Te=H[E.crn])==null?void 0:Te.apEnd)??"AM",onChange:q=>F(re=>({...re,[E.crn]:{...re[E.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},apEnd:q.target.value}})),className:"h-8 px-2 border rounded bg-background text-foreground",children:[i.jsx("option",{children:"AM"}),i.jsx("option",{children:"PM"})]}),i.jsx(ne,{size:"sm",variant:"outline",onClick:()=>V(E.crn),children:"Agregar bloque"})]})]})]},E.crn)}),R.length===0&&i.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay secciones"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ne,{variant:"outline",onClick:e,children:"Cerrar"}),i.jsx(ne,{onClick:ce,children:"Guardar secciones"})]})]})]})]})})}function Cv(t){const e={};for(let l=0;l<t.length;l++){const d=t[l][0],u=t[l][1];e[d]||(e[d]=[]),e[d].push(u),e[u]||(e[u]=[])}const s=0,r=1,n=2,a={},o=Object.keys(e);for(let l=0;l<o.length;l++)a[o[l]]=s;const c=l=>{a[l]=r;const d=e[l]||[];for(let u=0;u<d.length;u++){const x=d[u],y=a[x];if(y===r||y===s&&c(x))return!0}return a[l]=n,!1};for(let l=0;l<o.length;l++){const d=o[l];if(a[d]===s&&c(d))return!0}return!1}function Sv(t){const e=[];for(let s=0;s<t.length;s++){const r=t[s],n=r.prerequisites||[];for(let a=0;a<n.length;a++)e.push([r.id,n[a]])}return e}function _v(){const[t,e]=m.useState(null),[s,r]=m.useState(null),[n,a]=m.useState(""),[o,c]=m.useState({open:!1,target:null});m.useEffect(()=>{let p=!1;return(async()=>{try{const[g,h]=await Promise.all([At.getCourses(),At.getSections()]);p||(e(g),r(h))}catch(g){console.error("Error loading datasets",g),p||(e([]),r([]))}})(),()=>{p=!0}},[]);const l=m.useMemo(()=>{const p=(t==null?void 0:t.length)??0,g=Array.isArray(s)?s.length:s&&s.courses?s.courses.reduce((h,b)=>{var S;return h+(((S=b.sections)==null?void 0:S.length)||0)},0):0;return{totalCourses:p,totalSections:g}},[t,s]),d=m.useMemo(()=>{const p=n.trim().toLowerCase();return!p||!t?t??[]:t.filter(g=>g.id.toLowerCase().includes(p)||g.name.toLowerCase().includes(p))},[n,t]),u=p=>{if(!s)return[];if(s.courses&&Array.isArray(s.courses)){const g=s.courses.find(h=>h.id===p);return g!=null&&g.sections?[...g.sections]:[]}return Array.isArray(s)?s.filter(g=>g.courseId===p):[]},x=async(p,g)=>{if(!s)return;let h=Array.isArray(s)?[...s]:{...s};if(h.courses&&Array.isArray(h.courses)){const b=h.courses.findIndex(S=>S.id===p);b>=0?h.courses[b]={...h.courses[b],sections:g}:h.courses.push({id:p,sections:g})}else Array.isArray(h)&&(h=h.filter(b=>b.courseId!==p),h.push(...g.map(b=>({...b,courseId:p}))));r(h),await At.saveSections(h)},y=async()=>{if(!t)return;const p=prompt("ID de la materia (ej. MED101):");if(!p)return;if(t.some(k=>k.id===p))return alert("ID ya existe");const g=prompt("Nombre de la materia:")||"Nueva materia",h=Number(prompt("Crditos:","4")||0),b=Number(prompt("Horas tericas:","2")||0),S=Number(prompt("Horas prcticas:","2")||0),_=Number(prompt("Trimestre/Semestre (nmero):","1")||1),N=[...t,{id:p,name:g,credits:h,theoreticalHours:b,practicalHours:S,term:_}];e(N),await At.saveCourses(N),alert(" Curso agregado (recuerda Exportar JSON para persistir en el repo)")},v=async p=>{if(!t||!confirm(`Eliminar curso ${p}?`))return;const g=t.filter(h=>h.id!==p);e(g),await At.saveCourses(g),alert(" Curso eliminado (recuerda Exportar JSON para persistir en el repo)")},w=p=>{const g=document.createElement("input");g.type="file",g.accept="application/json",g.onchange=async()=>{var b;const h=(b=g.files)==null?void 0:b[0];if(h)try{const S=await h.text(),_=JSON.parse(S);p==="courses"?(e(_),await At.saveCourses(_)):(r(_),await At.saveSections(_)),alert(` Importado ${p}. Recuerda Exportar para guardar una copia.`)}catch(S){alert(` Error importando ${p}: ${String(S)}`)}},g.click()},f=p=>{const g=p==="courses"?t:s;if(!g){alert(`No hay datos de ${p} para exportar.`);return}const h=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),b=URL.createObjectURL(h),S=document.createElement("a");S.download=`${p}.json`,S.href=b,S.click(),URL.revokeObjectURL(b)};return i.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Admin  Medicina PWA"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Editor local de datasets (courses.json / sections.json). Usa Importar/Exportar para trabajar sin backend."}),i.jsxs(St,{className:"mb-6",children:[i.jsx(hs,{className:"pb-3",children:i.jsx(ms,{className:"text-lg",children:"Estado de datasets"})}),i.jsxs(_t,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"border rounded p-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de cursos"}),i.jsx("div",{className:"text-xl font-bold",children:l.totalCourses})]}),i.jsxs("div",{className:"border rounded p-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de secciones"}),i.jsx("div",{className:"text-xl font-bold",children:l.totalSections})]}),i.jsxs("div",{className:"border rounded p-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Modo"}),i.jsx("div",{className:"text-xl font-bold",children:"Front-only"})]})]})]}),i.jsxs(St,{children:[i.jsx(hs,{className:"pb-3",children:i.jsx(ms,{className:"text-lg",children:"Herramientas"})}),i.jsxs(_t,{children:[i.jsx(yv,{search:n,onSearchChange:a,onAdd:y,onImportCourses:()=>w("courses"),onImportSections:()=>w("sections"),onExportCourses:()=>f("courses"),onExportSections:()=>f("sections")}),i.jsx(ea,{className:"my-4"}),i.jsx(vv,{courses:(d||[]).slice(0,200),onEdit:p=>c({open:!0,target:p}),onDelete:v}),d&&d.length>200&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Mostrando 200 de ",d.length," cursos (paginacin vendr luego)"]})]})]}),o.target&&i.jsx(jv,{open:o.open,onClose:()=>c({open:!1,target:null}),course:o.target,allCourses:t??[],onSave:p=>{if(!t)return;const g=t.map(b=>b.id===o.target.id?p:b),h=Sv(g);if(Cv(h)){alert(" La edicin introduce un ciclo de prerequisitos. Revsalos.");return}e(g),At.saveCourses(g),c({open:!1,target:null}),alert(" Curso actualizado (recuerda Exportar JSON para persistir en el repo)")},getSectionsForCourse:u,setSectionsForCourse:x}),i.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:"Prximo: CRUD de secciones + edicin integrada (tab Secciones) y verificador de choques de horario."})]})}const Nv=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/medicina-pwa-final/sw.js");e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),e.onupdatefound=()=>{const s=e.installing;s&&(s.onstatechange=()=>{s.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nueva versin disponible. Se aplicar en la prxima visita.")})}}catch(t){console.error("SW registration failed:",t)}};Nv();const ef=new URLSearchParams(window.location.search).get("admin")==="1"||localStorage.getItem("admin")==="1";document.title=ef?"Pensum Medicina  Admin":"Pensum Medicina";pi.createRoot(document.getElementById("root")).render(i.jsx(xe.StrictMode,{children:ef?i.jsx(_v,{}):i.jsx(mv,{})}));
