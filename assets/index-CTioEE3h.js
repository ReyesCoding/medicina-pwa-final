var xi=t=>{throw TypeError(t)};var Po=(t,e,r)=>e.has(t)||xi("Cannot "+r);var _=(t,e,r)=>(Po(t,e,"read from private field"),r?r.call(t):e.get(t)),re=(t,e,r)=>e.has(t)?xi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),q=(t,e,r,s)=>(Po(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),me=(t,e,r)=>(Po(t,e,"access private method"),r);var Sn=(t,e,r,s)=>({set _(n){q(t,e,n,r)},get _(){return _(t,e,s)}});import{j as a,P as be,c as kc,a as Zr,u as Me,B as Df,b as On,d as Wr,e as ft,f as le,R as Ff,g as Ac,h as pt,i as Lf,D as Pc,k as Vf,S as Rc,l as Oc,O as Mc,C as Ic,m as $f,T as Dc,n as Fc,o as zf,p as Hf,q as Bf,r as Uf,s as qf,t as Zf,F as Wf,v as ja,w as Kf,L as Lc,x as Vc,y as $c,z as Gf}from"./ui-C5ngvk7i.js";import{r as f,c as Qf,a as hn,R as ve}from"./react-CX2mysxk.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();function Yf(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,s,n,o,i=[],c="",l=t.split("/");for(l[0]||l.shift();n=l.shift();)r=n[0],r==="*"?(i.push(r),c+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=n.indexOf("?",1),o=n.indexOf(".",1),i.push(n.substring(1,~s?s:~o?o:n.length)),c+=~s&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(c+=(~s?"?":"")+"\\"+n.substring(o))):c+="/"+n;return{keys:i,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var zc={exports:{}},Hc={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=f;function Xf(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jf=typeof Object.is=="function"?Object.is:Xf,eh=vs.useState,th=vs.useEffect,rh=vs.useLayoutEffect,sh=vs.useDebugValue;function nh(t,e){var r=e(),s=eh({inst:{value:r,getSnapshot:e}}),n=s[0].inst,o=s[1];return rh(function(){n.value=r,n.getSnapshot=e,Ro(n)&&o({inst:n})},[t,r,e]),th(function(){return Ro(n)&&o({inst:n}),t(function(){Ro(n)&&o({inst:n})})},[t]),sh(r),r}function Ro(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Jf(t,r)}catch{return!0}}function oh(t,e){return e()}var ah=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oh:nh;Hc.useSyncExternalStore=vs.useSyncExternalStore!==void 0?vs.useSyncExternalStore:ah;zc.exports=Hc;var ih=zc.exports;const ch=Qf.useInsertionEffect,lh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dh=lh?f.useLayoutEffect:f.useEffect,uh=ch||dh,Bc=t=>{const e=f.useRef([t,(...r)=>e[0](...r)]).current;return uh(()=>{e[0]=t}),e[1]},fh="popstate",_a="pushState",Na="replaceState",hh="hashchange",vi=[fh,_a,Na,hh],mh=t=>{for(const e of vi)addEventListener(e,t);return()=>{for(const e of vi)removeEventListener(e,t)}},Uc=(t,e)=>ih.useSyncExternalStore(mh,t,e),ph=()=>location.search,gh=({ssrSearch:t=""}={})=>Uc(ph,()=>t),yi=()=>location.pathname,xh=({ssrPath:t}={})=>Uc(yi,t?()=>t:yi),vh=(t,{replace:e=!1,state:r=null}={})=>history[e?Na:_a](r,"",t),yh=(t={})=>[xh(t),vh],bi=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[bi]>"u"){for(const t of[_a,Na]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,bi,{value:!0})}const bh=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",qc=(t="")=>t==="/"?"":t,wh=(t,e)=>t[0]==="~"?t.slice(1):qc(e)+t,Sh=(t="",e)=>bh(wi(qc(t)),wi(e)),wi=t=>{try{return decodeURI(t)}catch{return t}},Zc={hook:yh,searchHook:gh,parser:Yf,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Wc=f.createContext(Zc),so=()=>f.useContext(Wc),Kc={},Gc=f.createContext(Kc),Ch=()=>f.useContext(Gc),Ta=t=>{const[e,r]=t.hook(t);return[Sh(t.base,e),Bc((s,n)=>r(wh(s,t.base),n))]},Qc=(t,e,r,s)=>{const{pattern:n,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),i=n.exec(r)||[],[c,...l]=i;return c!==void 0?[!0,(()=>{const d=o!==!1?Object.fromEntries(o.map((m,g)=>[m,l[g]])):i.groups;let u={...l};return d&&Object.assign(u,d),u})(),...s?[c]:[]]:[!1,null]},Yc=({children:t,...e})=>{var u,m;const r=so(),s=e.hook?Zc:r;let n=s;const[o,i]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];i&&(e.ssrSearch=i,e.ssrPath=o),e.hrefs=e.hrefs??((m=e.hook)==null?void 0:m.hrefs);let c=f.useRef({}),l=c.current,d=l;for(let g in s){const b=g==="base"?s[g]+(e[g]||""):e[g]||s[g];l===d&&b!==d[g]&&(c.current=d={...d}),d[g]=b,b!==s[g]&&(n=d)}return f.createElement(Wc.Provider,{value:n,children:t})},Si=({children:t,component:e},r)=>e?f.createElement(e,{params:r}):typeof t=="function"?t(r):t,jh=t=>{let e=f.useRef(Kc),r=e.current;for(const s in t)t[s]!==r[s]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},Cn=({path:t,nest:e,match:r,...s})=>{const n=so(),[o]=Ta(n),[i,c,l]=r??Qc(n.parser,t,o,e),d=jh({...Ch(),...c});if(!i)return null;const u=l?f.createElement(Yc,{base:l},Si(s,d)):Si(s,d);return f.createElement(Gc.Provider,{value:d,children:u})},ys=f.forwardRef((t,e)=>{const r=so(),[s,n]=Ta(r),{to:o="",href:i=o,onClick:c,asChild:l,children:d,className:u,replace:m,state:g,...b}=t,y=Bc(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(c==null||c(v),v.defaultPrevented||(v.preventDefault(),n(i,t)))}),h=r.hrefs(i[0]==="~"?i.slice(1):r.base+i,r);return l&&f.isValidElement(d)?f.cloneElement(d,{onClick:y,href:h}):f.createElement("a",{...b,onClick:y,href:h,className:u!=null&&u.call?u(s===i):u,children:d,ref:e})}),Xc=t=>Array.isArray(t)?t.flatMap(e=>Xc(e&&e.type===f.Fragment?e.props.children:e)):[t],_h=({children:t,location:e})=>{const r=so(),[s]=Ta(r);for(const n of Xc(t)){let o=0;if(f.isValidElement(n)&&(o=Qc(r.parser,n.props.path,e||s,n.props.nest))[0])return f.cloneElement(n,{match:o})}return null};var Ns=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vr=typeof window>"u"||"Deno"in globalThis;function xt(){}function Nh(t,e){return typeof t=="function"?t(e):t}function Ho(t){return typeof t=="number"&&t>=0&&t!==1/0}function Jc(t,e){return Math.max(t+(e||0)-Date.now(),0)}function es(t,e){return typeof t=="function"?t(e):t}function St(t,e){return typeof t=="function"?t(e):t}function Ci(t,e){const{type:r="all",exact:s,fetchStatus:n,predicate:o,queryKey:i,stale:c}=t;if(i){if(s){if(e.queryHash!==Ea(i,e.options))return!1}else if(!Hs(e.queryKey,i))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||n&&n!==e.state.fetchStatus||o&&!o(e))}function ji(t,e){const{exact:r,status:s,predicate:n,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if($r(e.options.mutationKey)!==$r(o))return!1}else if(!Hs(e.options.mutationKey,o))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function Ea(t,e){return((e==null?void 0:e.queryKeyHashFn)||$r)(t)}function $r(t){return JSON.stringify(t,(e,r)=>Bo(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function Hs(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Hs(t[r],e[r])):!1}function el(t,e){if(t===e)return t;const r=_i(t)&&_i(e);if(r||Bo(t)&&Bo(e)){const s=r?t:Object.keys(t),n=s.length,o=r?e:Object.keys(e),i=o.length,c=r?[]:{};let l=0;for(let d=0;d<i;d++){const u=r?d:o[d];(!r&&s.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(c[u]=void 0,l++):(c[u]=el(t[u],e[u]),c[u]===t[u]&&t[u]!==void 0&&l++)}return n===i&&l===n?t:c}return e}function Mn(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function _i(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Bo(t){if(!Ni(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Ni(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ni(t){return Object.prototype.toString.call(t)==="[object Object]"}function Th(t){return new Promise(e=>{setTimeout(e,t)})}function Uo(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?el(t,e):e}function Eh(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function kh(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var ka=Symbol();function tl(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ka?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var kr,ar,os,yc,Ah=(yc=class extends Ns{constructor(){super();re(this,kr);re(this,ar);re(this,os);q(this,os,e=>{if(!Vr&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,ar)||this.setEventListener(_(this,os))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,ar))==null||e.call(this),q(this,ar,void 0))}setEventListener(e){var r;q(this,os,e),(r=_(this,ar))==null||r.call(this),q(this,ar,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){_(this,kr)!==e&&(q(this,kr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof _(this,kr)=="boolean"?_(this,kr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},kr=new WeakMap,ar=new WeakMap,os=new WeakMap,yc),Aa=new Ah,as,ir,is,bc,Ph=(bc=class extends Ns{constructor(){super();re(this,as,!0);re(this,ir);re(this,is);q(this,is,e=>{if(!Vr&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){_(this,ir)||this.setEventListener(_(this,is))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,ir))==null||e.call(this),q(this,ir,void 0))}setEventListener(e){var r;q(this,is,e),(r=_(this,ir))==null||r.call(this),q(this,ir,e(this.setOnline.bind(this)))}setOnline(e){_(this,as)!==e&&(q(this,as,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return _(this,as)}},as=new WeakMap,ir=new WeakMap,is=new WeakMap,bc),In=new Ph;function qo(){let t,e;const r=new Promise((n,o)=>{t=n,e=o});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),t(n)},r.reject=n=>{s({status:"rejected",reason:n}),e(n)},r}function Rh(t){return Math.min(1e3*2**t,3e4)}function rl(t){return(t??"online")==="online"?In.isOnline():!0}var sl=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Oo(t){return t instanceof sl}function nl(t){let e=!1,r=0,s=!1,n;const o=qo(),i=h=>{var v;s||(g(new sl(h)),(v=t.abort)==null||v.call(t))},c=()=>{e=!0},l=()=>{e=!1},d=()=>Aa.isFocused()&&(t.networkMode==="always"||In.isOnline())&&t.canRun(),u=()=>rl(t.networkMode)&&t.canRun(),m=h=>{var v;s||(s=!0,(v=t.onSuccess)==null||v.call(t,h),n==null||n(),o.resolve(h))},g=h=>{var v;s||(s=!0,(v=t.onError)==null||v.call(t,h),n==null||n(),o.reject(h))},b=()=>new Promise(h=>{var v;n=x=>{(s||d())&&h(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var h;n=void 0,s||(h=t.onContinue)==null||h.call(t)}),y=()=>{if(s)return;let h;const v=r===0?t.initialPromise:void 0;try{h=v??t.fn()}catch(x){h=Promise.reject(x)}Promise.resolve(h).then(m).catch(x=>{var N;if(s)return;const p=t.retry??(Vr?0:3),w=t.retryDelay??Rh,S=typeof w=="function"?w(r,x):w,C=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,x);if(e||!C){g(x);return}r++,(N=t.onFail)==null||N.call(t,r,x),Th(S).then(()=>d()?void 0:b()).then(()=>{e?g(x):y()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:c,continueRetry:l,canStart:u,start:()=>(u()?y():b().then(y),o)}}function Oh(){let t=[],e=0,r=c=>{c()},s=c=>{c()},n=c=>setTimeout(c,0);const o=c=>{e?t.push(c):n(()=>{r(c)})},i=()=>{const c=t;t=[],c.length&&n(()=>{s(()=>{c.forEach(l=>{r(l)})})})};return{batch:c=>{let l;e++;try{l=c()}finally{e--,e||i()}return l},batchCalls:c=>(...l)=>{o(()=>{c(...l)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{n=c}}}var Ke=Oh(),Ar,wc,ol=(wc=class{constructor(){re(this,Ar)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ho(this.gcTime)&&q(this,Ar,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vr?1/0:5*60*1e3))}clearGcTimeout(){_(this,Ar)&&(clearTimeout(_(this,Ar)),q(this,Ar,void 0))}},Ar=new WeakMap,wc),cs,ls,gt,Ye,ln,Pr,wt,Kt,Sc,Mh=(Sc=class extends ol{constructor(e){super();re(this,wt);re(this,cs);re(this,ls);re(this,gt);re(this,Ye);re(this,ln);re(this,Pr);q(this,Pr,!1),q(this,ln,e.defaultOptions),this.setOptions(e.options),this.observers=[],q(this,gt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,q(this,cs,Ih(this.options)),this.state=e.state??_(this,cs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,Ye))==null?void 0:e.promise}setOptions(e){this.options={..._(this,ln),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,gt).remove(this)}setData(e,r){const s=Uo(this.state.data,e,this.options);return me(this,wt,Kt).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){me(this,wt,Kt).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,n;const r=(s=_(this,Ye))==null?void 0:s.promise;return(n=_(this,Ye))==null||n.cancel(e),r?r.then(xt).catch(xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,cs))}isActive(){return this.observers.some(e=>St(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ka||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Jc(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,Ye))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,Ye))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,gt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(_(this,Ye)&&(_(this,Pr)?_(this,Ye).cancel({revert:!0}):_(this,Ye).cancelRetry()),this.scheduleGc()),_(this,gt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,wt,Kt).call(this,{type:"invalidate"})}fetch(e,r){var l,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,Ye))return _(this,Ye).continueRetry(),_(this,Ye).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,n=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(q(this,Pr,!0),s.signal)})},o=()=>{const m=tl(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return n(g),q(this,Pr,!1),this.options.persister?this.options.persister(m,g,this):m(g)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(i),(l=this.options.behavior)==null||l.onFetch(i,this),q(this,ls,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&me(this,wt,Kt).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const c=m=>{var g,b,y,h;Oo(m)&&m.silent||me(this,wt,Kt).call(this,{type:"error",error:m}),Oo(m)||((b=(g=_(this,gt).config).onError)==null||b.call(g,m,this),(h=(y=_(this,gt).config).onSettled)==null||h.call(y,this.state.data,m,this)),this.scheduleGc()};return q(this,Ye,nl({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var g,b,y,h;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){c(v);return}(b=(g=_(this,gt).config).onSuccess)==null||b.call(g,m,this),(h=(y=_(this,gt).config).onSettled)==null||h.call(y,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,g)=>{me(this,wt,Kt).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{me(this,wt,Kt).call(this,{type:"pause"})},onContinue:()=>{me(this,wt,Kt).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),_(this,Ye).start()}},cs=new WeakMap,ls=new WeakMap,gt=new WeakMap,Ye=new WeakMap,ln=new WeakMap,Pr=new WeakMap,wt=new WeakSet,Kt=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...al(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Oo(n)&&n.revert&&_(this,ls)?{..._(this,ls),fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),Ke.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),_(this,gt).notify({query:this,type:"updated",action:e})})},Sc);function al(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rl(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ih(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Mt,Cc,Dh=(Cc=class extends Ns{constructor(e={}){super();re(this,Mt);this.config=e,q(this,Mt,new Map)}build(e,r,s){const n=r.queryKey,o=r.queryHash??Ea(n,r);let i=this.get(o);return i||(i=new Mh({cache:this,queryKey:n,queryHash:o,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){_(this,Mt).has(e.queryHash)||(_(this,Mt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=_(this,Mt).get(e.queryHash);r&&(e.destroy(),r===e&&_(this,Mt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ke.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,Mt).get(e)}getAll(){return[..._(this,Mt).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>Ci(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>Ci(e,s)):r}notify(e){Ke.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ke.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ke.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mt=new WeakMap,Cc),It,Je,Rr,Dt,nr,jc,Fh=(jc=class extends ol{constructor(e){super();re(this,Dt);re(this,It);re(this,Je);re(this,Rr);this.mutationId=e.mutationId,q(this,Je,e.mutationCache),q(this,It,[]),this.state=e.state||il(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,It).includes(e)||(_(this,It).push(e),this.clearGcTimeout(),_(this,Je).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){q(this,It,_(this,It).filter(r=>r!==e)),this.scheduleGc(),_(this,Je).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,It).length||(this.state.status==="pending"?this.scheduleGc():_(this,Je).remove(this))}continue(){var e;return((e=_(this,Rr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,o,i,c,l,d,u,m,g,b,y,h,v,x,p,w,S,C,N,T;q(this,Rr,nl({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,P)=>{me(this,Dt,nr).call(this,{type:"failed",failureCount:k,error:P})},onPause:()=>{me(this,Dt,nr).call(this,{type:"pause"})},onContinue:()=>{me(this,Dt,nr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Je).canRun(this)}));const r=this.state.status==="pending",s=!_(this,Rr).canStart();try{if(!r){me(this,Dt,nr).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(n=_(this,Je).config).onMutate)==null?void 0:o.call(n,e,this));const P=await((c=(i=this.options).onMutate)==null?void 0:c.call(i,e));P!==this.state.context&&me(this,Dt,nr).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const k=await _(this,Rr).start();return await((d=(l=_(this,Je).config).onSuccess)==null?void 0:d.call(l,k,e,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,k,e,this.state.context)),await((b=(g=_(this,Je).config).onSettled)==null?void 0:b.call(g,k,null,this.state.variables,this.state.context,this)),await((h=(y=this.options).onSettled)==null?void 0:h.call(y,k,null,e,this.state.context)),me(this,Dt,nr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(v=_(this,Je).config).onError)==null?void 0:x.call(v,k,e,this.state.context,this)),await((w=(p=this.options).onError)==null?void 0:w.call(p,k,e,this.state.context)),await((C=(S=_(this,Je).config).onSettled)==null?void 0:C.call(S,void 0,k,this.state.variables,this.state.context,this)),await((T=(N=this.options).onSettled)==null?void 0:T.call(N,void 0,k,e,this.state.context)),k}finally{me(this,Dt,nr).call(this,{type:"error",error:k})}}finally{_(this,Je).runNext(this)}}},It=new WeakMap,Je=new WeakMap,Rr=new WeakMap,Dt=new WeakSet,nr=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ke.batch(()=>{_(this,It).forEach(s=>{s.onMutationUpdate(e)}),_(this,Je).notify({mutation:this,type:"updated",action:e})})},jc);function il(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lt,dn,_c,Lh=(_c=class extends Ns{constructor(e={}){super();re(this,lt);re(this,dn);this.config=e,q(this,lt,new Map),q(this,dn,Date.now())}build(e,r,s){const n=new Fh({mutationCache:this,mutationId:++Sn(this,dn)._,options:e.defaultMutationOptions(r),state:s});return this.add(n),n}add(e){const r=jn(e),s=_(this,lt).get(r)??[];s.push(e),_(this,lt).set(r,s),this.notify({type:"added",mutation:e})}remove(e){var s;const r=jn(e);if(_(this,lt).has(r)){const n=(s=_(this,lt).get(r))==null?void 0:s.filter(o=>o!==e);n&&(n.length===0?_(this,lt).delete(r):_(this,lt).set(r,n))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const r=(s=_(this,lt).get(jn(e)))==null?void 0:s.find(n=>n.state.status==="pending");return!r||r===e}runNext(e){var s;const r=(s=_(this,lt).get(jn(e)))==null?void 0:s.find(n=>n!==e&&n.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Ke.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[..._(this,lt).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ji(r,s))}findAll(e={}){return this.getAll().filter(r=>ji(e,r))}notify(e){Ke.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Ke.batch(()=>Promise.all(e.map(r=>r.continue().catch(xt))))}},lt=new WeakMap,dn=new WeakMap,_c);function jn(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Ti(t){return{onFetch:(e,r)=>{var u,m,g,b,y;const s=e.options,n=(g=(m=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,o=((b=e.state.data)==null?void 0:b.pages)||[],i=((y=e.state.data)==null?void 0:y.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const d=async()=>{let h=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},x=tl(e.options,e.fetchOptions),p=async(w,S,C)=>{if(h)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const N={queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};v(N);const T=await x(N),{maxPages:k}=e.options,P=C?kh:Eh;return{pages:P(w.pages,T,k),pageParams:P(w.pageParams,S,k)}};if(n&&o.length){const w=n==="backward",S=w?Vh:Ei,C={pages:o,pageParams:i},N=S(s,C);c=await p(C,N,w)}else{const w=t??o.length;do{const S=l===0?i[0]??s.initialPageParam:Ei(s,c);if(l>0&&S==null)break;c=await p(c,S),l++}while(l<w)}return c};e.options.persister?e.fetchFn=()=>{var h,v;return(v=(h=e.options).persister)==null?void 0:v.call(h,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function Ei(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function Vh(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var Ie,cr,lr,ds,us,dr,fs,hs,Nc,$h=(Nc=class{constructor(t={}){re(this,Ie);re(this,cr);re(this,lr);re(this,ds);re(this,us);re(this,dr);re(this,fs);re(this,hs);q(this,Ie,t.queryCache||new Dh),q(this,cr,t.mutationCache||new Lh),q(this,lr,t.defaultOptions||{}),q(this,ds,new Map),q(this,us,new Map),q(this,dr,0)}mount(){Sn(this,dr)._++,_(this,dr)===1&&(q(this,fs,Aa.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,Ie).onFocus())})),q(this,hs,In.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,Ie).onOnline())})))}unmount(){var t,e;Sn(this,dr)._--,_(this,dr)===0&&((t=_(this,fs))==null||t.call(this),q(this,fs,void 0),(e=_(this,hs))==null||e.call(this),q(this,hs,void 0))}isFetching(t){return _(this,Ie).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,cr).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,Ie).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),s=_(this,Ie).build(this,r);return t.revalidateIfStale&&s.isStaleByTime(es(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return _(this,Ie).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),n=_(this,Ie).get(s.queryHash),o=n==null?void 0:n.state.data,i=Nh(e,o);if(i!==void 0)return _(this,Ie).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(t,e,r){return Ke.batch(()=>_(this,Ie).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,Ie).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=_(this,Ie);Ke.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=_(this,Ie),s={type:"active",...t};return Ke.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=Ke.batch(()=>_(this,Ie).findAll(t).map(n=>n.cancel(r)));return Promise.all(s).then(xt).catch(xt)}invalidateQueries(t={},e={}){return Ke.batch(()=>{if(_(this,Ie).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=Ke.batch(()=>_(this,Ie).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let o=n.fetch(void 0,r);return r.throwOnError||(o=o.catch(xt)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(xt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=_(this,Ie).build(this,e);return r.isStaleByTime(es(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xt).catch(xt)}fetchInfiniteQuery(t){return t.behavior=Ti(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xt).catch(xt)}ensureInfiniteQueryData(t){return t.behavior=Ti(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return In.isOnline()?_(this,cr).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,Ie)}getMutationCache(){return _(this,cr)}getDefaultOptions(){return _(this,lr)}setDefaultOptions(t){q(this,lr,t)}setQueryDefaults(t,e){_(this,ds).set($r(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._(this,ds).values()];let r={};return e.forEach(s=>{Hs(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){_(this,us).set($r(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._(this,us).values()];let r={};return e.forEach(s=>{Hs(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._(this,lr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ea(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ka&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,lr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,Ie).clear(),_(this,cr).clear()}},Ie=new WeakMap,cr=new WeakMap,lr=new WeakMap,ds=new WeakMap,us=new WeakMap,dr=new WeakMap,fs=new WeakMap,hs=new WeakMap,Nc),it,ge,un,et,Or,ms,ur,Ft,fn,ps,gs,Mr,Ir,fr,xs,Ne,Is,Zo,Wo,Ko,Go,Qo,Yo,Xo,cl,Tc,zh=(Tc=class extends Ns{constructor(e,r){super();re(this,Ne);re(this,it);re(this,ge);re(this,un);re(this,et);re(this,Or);re(this,ms);re(this,ur);re(this,Ft);re(this,fn);re(this,ps);re(this,gs);re(this,Mr);re(this,Ir);re(this,fr);re(this,xs,new Set);this.options=r,q(this,it,e),q(this,Ft,null),q(this,ur,qo()),this.options.experimental_prefetchInRender||_(this,ur).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,ge).addObserver(this),ki(_(this,ge),this.options)?me(this,Ne,Is).call(this):this.updateResult(),me(this,Ne,Go).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jo(_(this,ge),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jo(_(this,ge),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,me(this,Ne,Qo).call(this),me(this,Ne,Yo).call(this),_(this,ge).removeObserver(this)}setOptions(e,r){const s=this.options,n=_(this,ge);if(this.options=_(this,it).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof St(this.options.enabled,_(this,ge))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");me(this,Ne,Xo).call(this),_(this,ge).setOptions(this.options),s._defaulted&&!Mn(this.options,s)&&_(this,it).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,ge),observer:this});const o=this.hasListeners();o&&Ai(_(this,ge),n,this.options,s)&&me(this,Ne,Is).call(this),this.updateResult(r),o&&(_(this,ge)!==n||St(this.options.enabled,_(this,ge))!==St(s.enabled,_(this,ge))||es(this.options.staleTime,_(this,ge))!==es(s.staleTime,_(this,ge)))&&me(this,Ne,Zo).call(this);const i=me(this,Ne,Wo).call(this);o&&(_(this,ge)!==n||St(this.options.enabled,_(this,ge))!==St(s.enabled,_(this,ge))||i!==_(this,fr))&&me(this,Ne,Ko).call(this,i)}getOptimisticResult(e){const r=_(this,it).getQueryCache().build(_(this,it),e),s=this.createResult(r,e);return Bh(this,s)&&(q(this,et,s),q(this,ms,this.options),q(this,Or,_(this,ge).state)),s}getCurrentResult(){return _(this,et)}trackResult(e,r){const s={};return Object.keys(e).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),r==null||r(n),e[n])})}),s}trackProp(e){_(this,xs).add(e)}getCurrentQuery(){return _(this,ge)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=_(this,it).defaultQueryOptions(e),s=_(this,it).getQueryCache().build(_(this,it),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return me(this,Ne,Is).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,et)))}createResult(e,r){var k;const s=_(this,ge),n=this.options,o=_(this,et),i=_(this,Or),c=_(this,ms),d=e!==s?e.state:_(this,un),{state:u}=e;let m={...u},g=!1,b;if(r._optimisticResults){const P=this.hasListeners(),L=!P&&ki(e,r),M=P&&Ai(e,s,r,n);(L||M)&&(m={...m,...al(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:h,status:v}=m;if(r.select&&m.data!==void 0)if(o&&m.data===(i==null?void 0:i.data)&&r.select===_(this,fn))b=_(this,ps);else try{q(this,fn,r.select),b=r.select(m.data),b=Uo(o==null?void 0:o.data,b,r),q(this,ps,b),q(this,Ft,null)}catch(P){q(this,Ft,P)}else b=m.data;if(r.placeholderData!==void 0&&b===void 0&&v==="pending"){let P;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData))P=o.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((k=_(this,gs))==null?void 0:k.state.data,_(this,gs)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),q(this,Ft,null)}catch(L){q(this,Ft,L)}P!==void 0&&(v="success",b=Uo(o==null?void 0:o.data,P,r),g=!0)}_(this,Ft)&&(y=_(this,Ft),b=_(this,ps),h=Date.now(),v="error");const x=m.fetchStatus==="fetching",p=v==="pending",w=v==="error",S=p&&x,C=b!==void 0,T={status:v,fetchStatus:m.fetchStatus,isPending:p,isSuccess:v==="success",isError:w,isInitialLoading:S,isLoading:S,data:b,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:h,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!p,isLoadingError:w&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:w&&C,isStale:Pa(e,r),refetch:this.refetch,promise:_(this,ur)};if(this.options.experimental_prefetchInRender){const P=O=>{T.status==="error"?O.reject(T.error):T.data!==void 0&&O.resolve(T.data)},L=()=>{const O=q(this,ur,T.promise=qo());P(O)},M=_(this,ur);switch(M.status){case"pending":e.queryHash===s.queryHash&&P(M);break;case"fulfilled":(T.status==="error"||T.data!==M.value)&&L();break;case"rejected":(T.status!=="error"||T.error!==M.reason)&&L();break}}return T}updateResult(e){const r=_(this,et),s=this.createResult(_(this,ge),this.options);if(q(this,Or,_(this,ge).state),q(this,ms,this.options),_(this,Or).data!==void 0&&q(this,gs,_(this,ge)),Mn(s,r))return;q(this,et,s);const n={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!_(this,xs).size)return!0;const l=new Set(c??_(this,xs));return this.options.throwOnError&&l.add("error"),Object.keys(_(this,et)).some(d=>{const u=d;return _(this,et)[u]!==r[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&o()&&(n.listeners=!0),me(this,Ne,cl).call(this,{...n,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&me(this,Ne,Go).call(this)}},it=new WeakMap,ge=new WeakMap,un=new WeakMap,et=new WeakMap,Or=new WeakMap,ms=new WeakMap,ur=new WeakMap,Ft=new WeakMap,fn=new WeakMap,ps=new WeakMap,gs=new WeakMap,Mr=new WeakMap,Ir=new WeakMap,fr=new WeakMap,xs=new WeakMap,Ne=new WeakSet,Is=function(e){me(this,Ne,Xo).call(this);let r=_(this,ge).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(xt)),r},Zo=function(){me(this,Ne,Qo).call(this);const e=es(this.options.staleTime,_(this,ge));if(Vr||_(this,et).isStale||!Ho(e))return;const s=Jc(_(this,et).dataUpdatedAt,e)+1;q(this,Mr,setTimeout(()=>{_(this,et).isStale||this.updateResult()},s))},Wo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,ge)):this.options.refetchInterval)??!1},Ko=function(e){me(this,Ne,Yo).call(this),q(this,fr,e),!(Vr||St(this.options.enabled,_(this,ge))===!1||!Ho(_(this,fr))||_(this,fr)===0)&&q(this,Ir,setInterval(()=>{(this.options.refetchIntervalInBackground||Aa.isFocused())&&me(this,Ne,Is).call(this)},_(this,fr)))},Go=function(){me(this,Ne,Zo).call(this),me(this,Ne,Ko).call(this,me(this,Ne,Wo).call(this))},Qo=function(){_(this,Mr)&&(clearTimeout(_(this,Mr)),q(this,Mr,void 0))},Yo=function(){_(this,Ir)&&(clearInterval(_(this,Ir)),q(this,Ir,void 0))},Xo=function(){const e=_(this,it).getQueryCache().build(_(this,it),this.options);if(e===_(this,ge))return;const r=_(this,ge);q(this,ge,e),q(this,un,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},cl=function(e){Ke.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(_(this,et))}),_(this,it).getQueryCache().notify({query:_(this,ge),type:"observerResultsUpdated"})})},Tc);function Hh(t,e){return St(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ki(t,e){return Hh(t,e)||t.state.data!==void 0&&Jo(t,e,e.refetchOnMount)}function Jo(t,e,r){if(St(e.enabled,t)!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&Pa(t,e)}return!1}function Ai(t,e,r,s){return(t!==e||St(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Pa(t,r)}function Pa(t,e){return St(e.enabled,t)!==!1&&t.isStaleByTime(es(e.staleTime,t))}function Bh(t,e){return!Mn(t.getCurrentResult(),e)}var hr,mr,ct,Yt,Xt,En,ea,Ec,Uh=(Ec=class extends Ns{constructor(r,s){super();re(this,Xt);re(this,hr);re(this,mr);re(this,ct);re(this,Yt);q(this,hr,r),this.setOptions(s),this.bindMethods(),me(this,Xt,En).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const s=this.options;this.options=_(this,hr).defaultMutationOptions(r),Mn(this.options,s)||_(this,hr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,ct),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&$r(s.mutationKey)!==$r(this.options.mutationKey)?this.reset():((n=_(this,ct))==null?void 0:n.state.status)==="pending"&&_(this,ct).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_(this,ct))==null||r.removeObserver(this)}onMutationUpdate(r){me(this,Xt,En).call(this),me(this,Xt,ea).call(this,r)}getCurrentResult(){return _(this,mr)}reset(){var r;(r=_(this,ct))==null||r.removeObserver(this),q(this,ct,void 0),me(this,Xt,En).call(this),me(this,Xt,ea).call(this)}mutate(r,s){var n;return q(this,Yt,s),(n=_(this,ct))==null||n.removeObserver(this),q(this,ct,_(this,hr).getMutationCache().build(_(this,hr),this.options)),_(this,ct).addObserver(this),_(this,ct).execute(r)}},hr=new WeakMap,mr=new WeakMap,ct=new WeakMap,Yt=new WeakMap,Xt=new WeakSet,En=function(){var s;const r=((s=_(this,ct))==null?void 0:s.state)??il();q(this,mr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ea=function(r){Ke.batch(()=>{var s,n,o,i,c,l,d,u;if(_(this,Yt)&&this.hasListeners()){const m=_(this,mr).variables,g=_(this,mr).context;(r==null?void 0:r.type)==="success"?((n=(s=_(this,Yt)).onSuccess)==null||n.call(s,r.data,m,g),(i=(o=_(this,Yt)).onSettled)==null||i.call(o,r.data,null,m,g)):(r==null?void 0:r.type)==="error"&&((l=(c=_(this,Yt)).onError)==null||l.call(c,r.error,m,g),(u=(d=_(this,Yt)).onSettled)==null||u.call(d,void 0,r.error,m,g))}this.listeners.forEach(m=>{m(_(this,mr))})})},Ec),ll=f.createContext(void 0),dl=t=>{const e=f.useContext(ll);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},qh=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(ll.Provider,{value:t,children:e})),ul=f.createContext(!1),Zh=()=>f.useContext(ul);ul.Provider;function Wh(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Kh=f.createContext(Wh()),Gh=()=>f.useContext(Kh);function fl(t,e){return typeof t=="function"?t(...e):!!t}function ta(){}var Qh=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Yh=t=>{f.useEffect(()=>{t.clearReset()},[t])},Xh=({result:t,errorResetBoundary:e,throwOnError:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&fl(r,[t.error,s]),Jh=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},em=(t,e)=>t.isLoading&&t.isFetching&&!e,tm=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Pi=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function rm(t,e,r){var u,m,g,b,y;const s=dl(),n=Zh(),o=Gh(),i=s.defaultQueryOptions(t);(m=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||m.call(u,i),i._optimisticResults=n?"isRestoring":"optimistic",Jh(i),Qh(i,o),Yh(o);const c=!s.getQueryCache().get(i.queryHash),[l]=f.useState(()=>new e(s,i)),d=l.getOptimisticResult(i);if(f.useSyncExternalStore(f.useCallback(h=>{const v=n?ta:l.subscribe(Ke.batchCalls(h));return l.updateResult(),v},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),f.useEffect(()=>{l.setOptions(i,{listeners:!1})},[i,l]),tm(i,d))throw Pi(i,l,o);if(Xh({result:d,errorResetBoundary:o,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash)}))throw d.error;if((b=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||b.call(g,i,d),i.experimental_prefetchInRender&&!Vr&&em(d,n)){const h=c?Pi(i,l,o):(y=s.getQueryCache().get(i.queryHash))==null?void 0:y.promise;h==null||h.catch(ta).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?d:l.trackResult(d)}function ra(t,e){return rm(t,zh)}function ts(t,e){const r=dl(),[s]=f.useState(()=>new Uh(r,t));f.useEffect(()=>{s.setOptions(t)},[s,t]);const n=f.useSyncExternalStore(f.useCallback(i=>s.subscribe(Ke.batchCalls(i)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=f.useCallback((i,c)=>{s.mutate(i,c).catch(ta)},[s]);if(n.error&&fl(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}async function hl(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Dr(t,e,r){const s=await fetch(e,{method:t,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await hl(s),s}const sm=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(await hl(r),await r.json())},Fr=new $h({defaultOptions:{queries:{queryFn:sm({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),nm=1,om=1e6;let Mo=0;function am(){return Mo=(Mo+1)%Number.MAX_SAFE_INTEGER,Mo.toString()}const Io=new Map,Ri=t=>{if(Io.has(t))return;const e=setTimeout(()=>{Io.delete(t),Vs({type:"REMOVE_TOAST",toastId:t})},om);Io.set(t,e)},im=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,nm)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Ri(r):t.toasts.forEach(s=>{Ri(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},kn=[];let An={toasts:[]};function Vs(t){An=im(An,t),kn.forEach(e=>{e(An)})}function cm({...t}){const e=am(),r=n=>Vs({type:"UPDATE_TOAST",toast:{...n,id:e}}),s=()=>Vs({type:"DISMISS_TOAST",toastId:e});return Vs({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:r}}function no(){const[t,e]=f.useState(An);return f.useEffect(()=>(kn.push(e),()=>{const r=kn.indexOf(e);r>-1&&kn.splice(r,1)}),[t]),{...t,toast:cm,dismiss:r=>Vs({type:"DISMISS_TOAST",toastId:r})}}var lm="VisuallyHidden",mn=f.forwardRef((t,e)=>a.jsx(be.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));mn.displayName=lm;var dm=mn,Ra="ToastProvider",[Oa,um,fm]=kc("Toast"),[ml,vb]=Zr("Toast",[fm]),[hm,oo]=ml(Ra),pl=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:i}=t,[c,l]=f.useState(null),[d,u]=f.useState(0),m=f.useRef(!1),g=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ra}\`. Expected non-empty \`string\`.`),a.jsx(Oa.Provider,{scope:e,children:a.jsx(hm,{scope:e,label:r,duration:s,swipeDirection:n,swipeThreshold:o,toastCount:d,viewport:c,onViewportChange:l,onToastAdd:f.useCallback(()=>u(b=>b+1),[]),onToastRemove:f.useCallback(()=>u(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:i})})};pl.displayName=Ra;var gl="ToastViewport",mm=["F8"],sa="toast.viewportPause",na="toast.viewportResume",xl=f.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=mm,label:n="Notifications ({hotkey})",...o}=t,i=oo(gl,r),c=um(r),l=f.useRef(null),d=f.useRef(null),u=f.useRef(null),m=f.useRef(null),g=Me(e,m,i.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;f.useEffect(()=>{const v=x=>{var w;s.length!==0&&s.every(S=>x[S]||x.code===S)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),f.useEffect(()=>{const v=l.current,x=m.current;if(y&&v&&x){const p=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(sa);x.dispatchEvent(N),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(na);x.dispatchEvent(N),i.isClosePausedRef.current=!1}},S=N=>{!v.contains(N.relatedTarget)&&w()},C=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",p),v.addEventListener("focusout",S),v.addEventListener("pointermove",p),v.addEventListener("pointerleave",C),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",p),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",p),v.removeEventListener("pointerleave",C),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[y,i.isClosePausedRef]);const h=f.useCallback(({tabbingDirection:v})=>{const p=c().map(w=>{const S=w.ref.current,C=[S,...Tm(S)];return v==="forwards"?C:C.reverse()});return(v==="forwards"?p.reverse():p).flat()},[c]);return f.useEffect(()=>{const v=m.current;if(v){const x=p=>{var C,N,T;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const k=document.activeElement,P=p.shiftKey;if(p.target===v&&P){(C=d.current)==null||C.focus();return}const O=h({tabbingDirection:P?"backwards":"forwards"}),F=O.findIndex(I=>I===k);Do(O.slice(F+1))?p.preventDefault():P?(N=d.current)==null||N.focus():(T=u.current)==null||T.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[c,h]),a.jsxs(Df,{ref:l,role:"region","aria-label":n.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(oa,{ref:d,onFocusFromOutsideViewport:()=>{const v=h({tabbingDirection:"forwards"});Do(v)}}),a.jsx(Oa.Slot,{scope:r,children:a.jsx(be.ol,{tabIndex:-1,...o,ref:g})}),y&&a.jsx(oa,{ref:u,onFocusFromOutsideViewport:()=>{const v=h({tabbingDirection:"backwards"});Do(v)}})]})});xl.displayName=gl;var vl="ToastFocusProxy",oa=f.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...n}=t,o=oo(vl,r);return a.jsx(mn,{"aria-hidden":!0,tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:i=>{var d;const c=i.relatedTarget;!((d=o.viewport)!=null&&d.contains(c))&&s()}})});oa.displayName=vl;var ao="Toast",pm="toast.swipeStart",gm="toast.swipeMove",xm="toast.swipeCancel",vm="toast.swipeEnd",yl=f.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:n,onOpenChange:o,...i}=t,[c=!0,l]=On({prop:s,defaultProp:n,onChange:o});return a.jsx(Wr,{present:r||c,children:a.jsx(wm,{open:c,...i,ref:e,onClose:()=>l(!1),onPause:ft(t.onPause),onResume:ft(t.onResume),onSwipeStart:le(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(t.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:le(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(t.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),l(!1)})})})});yl.displayName=ao;var[ym,bm]=ml(ao,{onClose(){}}),wm=f.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:n,open:o,onClose:i,onEscapeKeyDown:c,onPause:l,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:b,...y}=t,h=oo(ao,r),[v,x]=f.useState(null),p=Me(e,I=>x(I)),w=f.useRef(null),S=f.useRef(null),C=n||h.duration,N=f.useRef(0),T=f.useRef(C),k=f.useRef(0),{onToastAdd:P,onToastRemove:L}=h,M=ft(()=>{var X;(v==null?void 0:v.contains(document.activeElement))&&((X=h.viewport)==null||X.focus()),i()}),O=f.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(M,I))},[M]);f.useEffect(()=>{const I=h.viewport;if(I){const X=()=>{O(T.current),d==null||d()},$=()=>{const J=new Date().getTime()-N.current;T.current=T.current-J,window.clearTimeout(k.current),l==null||l()};return I.addEventListener(sa,$),I.addEventListener(na,X),()=>{I.removeEventListener(sa,$),I.removeEventListener(na,X)}}},[h.viewport,C,l,d,O]),f.useEffect(()=>{o&&!h.isClosePausedRef.current&&O(C)},[o,C,h.isClosePausedRef,O]),f.useEffect(()=>(P(),()=>L()),[P,L]);const F=f.useMemo(()=>v?Nl(v):null,[v]);return h.viewport?a.jsxs(a.Fragment,{children:[F&&a.jsx(Sm,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),a.jsx(ym,{scope:r,onClose:M,children:hn.createPortal(a.jsx(Oa.ItemSlot,{scope:r,children:a.jsx(Ff,{asChild:!0,onEscapeKeyDown:le(c,()=>{h.isFocusedToastEscapeKeyDownRef.current||M(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":h.swipeDirection,...y,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:le(t.onKeyDown,I=>{I.key==="Escape"&&(c==null||c(I.nativeEvent),I.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:le(t.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:le(t.onPointerMove,I=>{if(!w.current)return;const X=I.clientX-w.current.x,$=I.clientY-w.current.y,J=!!S.current,G=["left","right"].includes(h.swipeDirection),ie=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,Te=G?ie(0,X):0,A=G?0:ie(0,$),K=I.pointerType==="touch"?10:2,te={x:Te,y:A},ue={originalEvent:I,delta:te};J?(S.current=te,_n(gm,m,ue,{discrete:!1})):Oi(te,h.swipeDirection,K)?(S.current=te,_n(pm,u,ue,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(X)>K||Math.abs($)>K)&&(w.current=null)}),onPointerUp:le(t.onPointerUp,I=>{const X=S.current,$=I.target;if($.hasPointerCapture(I.pointerId)&&$.releasePointerCapture(I.pointerId),S.current=null,w.current=null,X){const J=I.currentTarget,G={originalEvent:I,delta:X};Oi(X,h.swipeDirection,h.swipeThreshold)?_n(vm,b,G,{discrete:!0}):_n(xm,g,G,{discrete:!0}),J.addEventListener("click",ie=>ie.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),Sm=t=>{const{__scopeToast:e,children:r,...s}=t,n=oo(ao,e),[o,i]=f.useState(!1),[c,l]=f.useState(!1);return _m(()=>i(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:a.jsx(Ac,{asChild:!0,children:a.jsx(mn,{...s,children:o&&a.jsxs(a.Fragment,{children:[n.label," ",r]})})})},Cm="ToastTitle",bl=f.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return a.jsx(be.div,{...s,ref:e})});bl.displayName=Cm;var jm="ToastDescription",wl=f.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return a.jsx(be.div,{...s,ref:e})});wl.displayName=jm;var Sl="ToastAction",Cl=f.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?a.jsx(_l,{altText:r,asChild:!0,children:a.jsx(Ma,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Sl}\`. Expected non-empty \`string\`.`),null)});Cl.displayName=Sl;var jl="ToastClose",Ma=f.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,n=bm(jl,r);return a.jsx(_l,{asChild:!0,children:a.jsx(be.button,{type:"button",...s,ref:e,onClick:le(t.onClick,n.onClose)})})});Ma.displayName=jl;var _l=f.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...n}=t;return a.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:e})});function Nl(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),Nm(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const i=s.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...Nl(s))}}),e}function _n(t,e,r,{discrete:s}){const n=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&n.addEventListener(t,e,{once:!0}),s?Lf(n,o):n.dispatchEvent(o)}var Oi=(t,e,r=0)=>{const s=Math.abs(t.x),n=Math.abs(t.y),o=s>n;return e==="left"||e==="right"?o&&s>r:!o&&n>r};function _m(t=()=>{}){const e=ft(t);pt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function Nm(t){return t.nodeType===t.ELEMENT_NODE}function Tm(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Do(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Em=pl,Tl=xl,El=yl,kl=bl,Al=wl,Pl=Cl,Rl=Ma;function Ol(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=Ol(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Ml(){for(var t,e,r=0,s="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=Ol(t))&&(s&&(s+=" "),s+=e);return s}const Mi=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ii=Ml,io=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return Ii(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:o}=e,i=Object.keys(n).map(d=>{const u=r==null?void 0:r[d],m=o==null?void 0:o[d];if(u===null)return null;const g=Mi(u)||Mi(m);return n[d][g]}),c=r&&Object.entries(r).reduce((d,u)=>{let[m,g]=u;return g===void 0||(d[m]=g),d},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:m,className:g,...b}=u;return Object.entries(b).every(y=>{let[h,v]=y;return Array.isArray(v)?v.includes({...o,...c}[h]):{...o,...c}[h]===v})?[...d,m,g]:d},[]);return Ii(t,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Il=(...t)=>t.filter((e,r,s)=>!!e&&s.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Am={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:o,iconNode:i,...c},l)=>f.createElement("svg",{ref:l,...Am,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:Il("lucide",n),...c},[...i.map(([d,u])=>f.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const r=f.forwardRef(({className:s,...n},o)=>f.createElement(Pm,{ref:o,iconNode:e,className:Il(`lucide-${km(t)}`,s),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Be("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Be("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Be("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Be("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fa="-",Hm=t=>{const e=Um(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:i=>{const c=i.split(Fa);return c[0]===""&&c.length!==1&&c.shift(),Ul(c,e)||Bm(i)},getConflictingClassGroupIds:(i,c)=>{const l=r[i]||[];return c&&s[i]?[...l,...s[i]]:l}}},Ul=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),n=s?Ul(t.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const o=t.join(Fa);return(i=e.validators.find(({validator:c})=>c(o)))==null?void 0:i.classGroupId},Di=/^\[(.+)\]$/,Bm=t=>{if(Di.test(t)){const e=Di.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Um=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return Zm(Object.entries(t.classGroups),r).forEach(([o,i])=>{aa(i,s,o,e)}),s},aa=(t,e,r,s)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?e:Fi(e,n);o.classGroupId=r;return}if(typeof n=="function"){if(qm(n)){aa(n(s),e,r,s);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,i])=>{aa(i,Fi(e,o),r,s)})})},Fi=(t,e)=>{let r=t;return e.split(Fa).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},qm=t=>t.isThemeGetter,Zm=(t,e)=>e?t.map(([r,s])=>{const n=s.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,c])=>[e+i,c])):o);return[r,n]}):t,Wm=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const n=(o,i)=>{r.set(o,i),e++,e>t&&(e=0,s=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=s.get(o))!==void 0)return n(o,i),i},set(o,i){r.has(o)?r.set(o,i):n(o,i)}}},ql="!",Km=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,n=e[0],o=e.length,i=c=>{const l=[];let d=0,u=0,m;for(let v=0;v<c.length;v++){let x=c[v];if(d===0){if(x===n&&(s||c.slice(v,v+o)===e)){l.push(c.slice(u,v)),u=v+o;continue}if(x==="/"){m=v;continue}}x==="["?d++:x==="]"&&d--}const g=l.length===0?c:c.substring(u),b=g.startsWith(ql),y=b?g.substring(1):g,h=m&&m>u?m-u:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:h}};return r?c=>r({className:c,parseClassName:i}):i},Gm=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},Qm=t=>({cache:Wm(t.cacheSize),parseClassName:Km(t),...Hm(t)}),Ym=/\s+/,Xm=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=e,o=[],i=t.trim().split(Ym);let c="";for(let l=i.length-1;l>=0;l-=1){const d=i[l],{modifiers:u,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:b}=r(d);let y=!!b,h=s(y?g.substring(0,b):g);if(!h){if(!y){c=d+(c.length>0?" "+c:c);continue}if(h=s(g),!h){c=d+(c.length>0?" "+c:c);continue}y=!1}const v=Gm(u).join(":"),x=m?v+ql:v,p=x+h;if(o.includes(p))continue;o.push(p);const w=n(h,y);for(let S=0;S<w.length;++S){const C=w[S];o.push(x+C)}c=d+(c.length>0?" "+c:c)}return c};function Jm(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Zl(e))&&(s&&(s+=" "),s+=r);return s}const Zl=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=Zl(t[s]))&&(r&&(r+=" "),r+=e);return r};function ep(t,...e){let r,s,n,o=i;function i(l){const d=e.reduce((u,m)=>m(u),t());return r=Qm(d),s=r.cache.get,n=r.cache.set,o=c,c(l)}function c(l){const d=s(l);if(d)return d;const u=Xm(l,r);return n(l,u),u}return function(){return o(Jm.apply(null,arguments))}}const Ae=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Wl=/^\[(?:([a-z-]+):)?(.+)\]$/i,tp=/^\d+\/\d+$/,rp=new Set(["px","full","screen"]),sp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,np=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,op=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ap=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ip=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zt=t=>rs(t)||rp.has(t)||tp.test(t),rr=t=>Ts(t,"length",pp),rs=t=>!!t&&!Number.isNaN(Number(t)),Fo=t=>Ts(t,"number",rs),Ps=t=>!!t&&Number.isInteger(Number(t)),cp=t=>t.endsWith("%")&&rs(t.slice(0,-1)),he=t=>Wl.test(t),sr=t=>sp.test(t),lp=new Set(["length","size","percentage"]),dp=t=>Ts(t,lp,Kl),up=t=>Ts(t,"position",Kl),fp=new Set(["image","url"]),hp=t=>Ts(t,fp,xp),mp=t=>Ts(t,"",gp),Rs=()=>!0,Ts=(t,e,r)=>{const s=Wl.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},pp=t=>np.test(t)&&!op.test(t),Kl=()=>!1,gp=t=>ap.test(t),xp=t=>ip.test(t),vp=()=>{const t=Ae("colors"),e=Ae("spacing"),r=Ae("blur"),s=Ae("brightness"),n=Ae("borderColor"),o=Ae("borderRadius"),i=Ae("borderSpacing"),c=Ae("borderWidth"),l=Ae("contrast"),d=Ae("grayscale"),u=Ae("hueRotate"),m=Ae("invert"),g=Ae("gap"),b=Ae("gradientColorStops"),y=Ae("gradientColorStopPositions"),h=Ae("inset"),v=Ae("margin"),x=Ae("opacity"),p=Ae("padding"),w=Ae("saturate"),S=Ae("scale"),C=Ae("sepia"),N=Ae("skew"),T=Ae("space"),k=Ae("translate"),P=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",he,e],O=()=>[he,e],F=()=>["",Zt,rr],I=()=>["auto",rs,he],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],ie=()=>["","0",he],Te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[rs,he];return{cacheSize:500,separator:":",theme:{colors:[Rs],spacing:[Zt,rr],blur:["none","",sr,he],brightness:A(),borderColor:[t],borderRadius:["none","","full",sr,he],borderSpacing:O(),borderWidth:F(),contrast:A(),grayscale:ie(),hueRotate:A(),invert:ie(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[cp,rr],inset:M(),margin:M(),opacity:A(),padding:O(),saturate:A(),scale:A(),sepia:ie(),skew:A(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[sr]}],"break-after":[{"break-after":Te()}],"break-before":[{"break-before":Te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),he]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ps,he]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",Ps,he]}],"grid-cols":[{"grid-cols":[Rs]}],"col-start-end":[{col:["auto",{span:["full",Ps,he]},he]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Rs]}],"row-start-end":[{row:["auto",{span:[Ps,he]},he]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[sr]},sr]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",sr,rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fo]}],"font-family":[{font:[Rs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",rs,Fo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zt,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zt,rr]}],"underline-offset":[{"underline-offset":["auto",Zt,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),up]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hp]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Zt,he]}],"outline-w":[{outline:[Zt,rr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Zt,rr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",sr,mp]}],"shadow-color":[{shadow:[Rs]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",sr,he]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Ps,he]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zt,rr,Fo]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yp=ep(vp);function ee(...t){return yp(Ml(t))}const bp=Em,Gl=f.forwardRef(({className:t,...e},r)=>a.jsx(Tl,{ref:r,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Gl.displayName=Tl.displayName;const wp=io("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ql=f.forwardRef(({className:t,variant:e,...r},s)=>a.jsx(El,{ref:s,className:ee(wp({variant:e}),t),...r}));Ql.displayName=El.displayName;const Sp=f.forwardRef(({className:t,...e},r)=>a.jsx(Pl,{ref:r,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Sp.displayName=Pl.displayName;const Yl=f.forwardRef(({className:t,...e},r)=>a.jsx(Rl,{ref:r,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Dn,{className:"h-4 w-4"})}));Yl.displayName=Rl.displayName;const Xl=f.forwardRef(({className:t,...e},r)=>a.jsx(kl,{ref:r,className:ee("text-sm font-semibold",t),...e}));Xl.displayName=kl.displayName;const Jl=f.forwardRef(({className:t,...e},r)=>a.jsx(Al,{ref:r,className:ee("text-sm opacity-90",t),...e}));Jl.displayName=Al.displayName;function Cp(){const{toasts:t}=no();return a.jsxs(bp,{children:[t.map(function({id:e,title:r,description:s,action:n,...o}){return a.jsxs(Ql,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Xl,{children:r}),s&&a.jsx(Jl,{children:s})]}),n,a.jsx(Yl,{})]},e)}),a.jsx(Gl,{})]})}const jp=["top","right","bottom","left"],vr=Math.min,ut=Math.max,Fn=Math.round,Nn=Math.floor,Vt=t=>({x:t,y:t}),_p={left:"right",right:"left",bottom:"top",top:"bottom"},Np={start:"end",end:"start"};function ia(t,e,r){return ut(t,vr(e,r))}function Jt(t,e){return typeof t=="function"?t(e):t}function er(t){return t.split("-")[0]}function Es(t){return t.split("-")[1]}function La(t){return t==="x"?"y":"x"}function Va(t){return t==="y"?"height":"width"}function yr(t){return["top","bottom"].includes(er(t))?"y":"x"}function $a(t){return La(yr(t))}function Tp(t,e,r){r===void 0&&(r=!1);const s=Es(t),n=$a(t),o=Va(n);let i=n==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Ln(i)),[i,Ln(i)]}function Ep(t){const e=Ln(t);return[ca(t),e,ca(e)]}function ca(t){return t.replace(/start|end/g,e=>Np[e])}function kp(t,e,r){const s=["left","right"],n=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return r?e?n:s:e?s:n;case"left":case"right":return e?o:i;default:return[]}}function Ap(t,e,r,s){const n=Es(t);let o=kp(er(t),r==="start",s);return n&&(o=o.map(i=>i+"-"+n),e&&(o=o.concat(o.map(ca)))),o}function Ln(t){return t.replace(/left|right|bottom|top/g,e=>_p[e])}function Pp(t){return{top:0,right:0,bottom:0,left:0,...t}}function ed(t){return typeof t!="number"?Pp(t):{top:t,right:t,bottom:t,left:t}}function Vn(t){const{x:e,y:r,width:s,height:n}=t;return{width:s,height:n,top:r,left:e,right:e+s,bottom:r+n,x:e,y:r}}function Li(t,e,r){let{reference:s,floating:n}=t;const o=yr(e),i=$a(e),c=Va(i),l=er(e),d=o==="y",u=s.x+s.width/2-n.width/2,m=s.y+s.height/2-n.height/2,g=s[c]/2-n[c]/2;let b;switch(l){case"top":b={x:u,y:s.y-n.height};break;case"bottom":b={x:u,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:m};break;case"left":b={x:s.x-n.width,y:m};break;default:b={x:s.x,y:s.y}}switch(Es(e)){case"start":b[i]-=g*(r&&d?-1:1);break;case"end":b[i]+=g*(r&&d?-1:1);break}return b}const Rp=async(t,e,r)=>{const{placement:s="bottom",strategy:n="absolute",middleware:o=[],platform:i}=r,c=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let d=await i.getElementRects({reference:t,floating:e,strategy:n}),{x:u,y:m}=Li(d,s,l),g=s,b={},y=0;for(let h=0;h<c.length;h++){const{name:v,fn:x}=c[h],{x:p,y:w,data:S,reset:C}=await x({x:u,y:m,initialPlacement:s,placement:g,strategy:n,middlewareData:b,rects:d,platform:i,elements:{reference:t,floating:e}});u=p??u,m=w??m,b={...b,[v]:{...b[v],...S}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(d=C.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:n}):C.rects),{x:u,y:m}=Li(d,g,l)),h=-1)}return{x:u,y:m,placement:g,strategy:n,middlewareData:b}};async function Bs(t,e){var r;e===void 0&&(e={});const{x:s,y:n,platform:o,rects:i,elements:c,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:g=!1,padding:b=0}=Jt(e,t),y=ed(b),v=c[g?m==="floating"?"reference":"floating":m],x=Vn(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:u,strategy:l})),p=m==="floating"?{x:s,y:n,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Vn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:p,offsetParent:w,strategy:l}):p);return{top:(x.top-C.top+y.top)/S.y,bottom:(C.bottom-x.bottom+y.bottom)/S.y,left:(x.left-C.left+y.left)/S.x,right:(C.right-x.right+y.right)/S.x}}const Op=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:n,rects:o,platform:i,elements:c,middlewareData:l}=e,{element:d,padding:u=0}=Jt(t,e)||{};if(d==null)return{};const m=ed(u),g={x:r,y:s},b=$a(n),y=Va(b),h=await i.getDimensions(d),v=b==="y",x=v?"top":"left",p=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=o.reference[y]+o.reference[b]-g[b]-o.floating[y],C=g[b]-o.reference[b],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let T=N?N[w]:0;(!T||!await(i.isElement==null?void 0:i.isElement(N)))&&(T=c.floating[w]||o.floating[y]);const k=S/2-C/2,P=T/2-h[y]/2-1,L=vr(m[x],P),M=vr(m[p],P),O=L,F=T-h[y]-M,I=T/2-h[y]/2+k,X=ia(O,I,F),$=!l.arrow&&Es(n)!=null&&I!==X&&o.reference[y]/2-(I<O?L:M)-h[y]/2<0,J=$?I<O?I-O:I-F:0;return{[b]:g[b]+J,data:{[b]:X,centerOffset:I-X-J,...$&&{alignmentOffset:J}},reset:$}}}),Mp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:n,middlewareData:o,rects:i,initialPlacement:c,platform:l,elements:d}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:h=!0,...v}=Jt(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const x=er(n),p=yr(c),w=er(c)===c,S=await(l.isRTL==null?void 0:l.isRTL(d.floating)),C=g||(w||!h?[Ln(c)]:Ep(c)),N=y!=="none";!g&&N&&C.push(...Ap(c,h,y,S));const T=[c,...C],k=await Bs(e,v),P=[];let L=((s=o.flip)==null?void 0:s.overflows)||[];if(u&&P.push(k[x]),m){const I=Tp(n,i,S);P.push(k[I[0]],k[I[1]])}if(L=[...L,{placement:n,overflows:P}],!P.every(I=>I<=0)){var M,O;const I=(((M=o.flip)==null?void 0:M.index)||0)+1,X=T[I];if(X)return{data:{index:I,overflows:L},reset:{placement:X}};let $=(O=L.filter(J=>J.overflows[0]<=0).sort((J,G)=>J.overflows[1]-G.overflows[1])[0])==null?void 0:O.placement;if(!$)switch(b){case"bestFit":{var F;const J=(F=L.filter(G=>{if(N){const ie=yr(G.placement);return ie===p||ie==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ie=>ie>0).reduce((ie,Te)=>ie+Te,0)]).sort((G,ie)=>G[1]-ie[1])[0])==null?void 0:F[0];J&&($=J);break}case"initialPlacement":$=c;break}if(n!==$)return{reset:{placement:$}}}return{}}}};function Vi(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $i(t){return jp.some(e=>t[e]>=0)}const Ip=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...n}=Jt(t,e);switch(s){case"referenceHidden":{const o=await Bs(e,{...n,elementContext:"reference"}),i=Vi(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:$i(i)}}}case"escaped":{const o=await Bs(e,{...n,altBoundary:!0}),i=Vi(o,r.floating);return{data:{escapedOffsets:i,escaped:$i(i)}}}default:return{}}}}};async function Dp(t,e){const{placement:r,platform:s,elements:n}=t,o=await(s.isRTL==null?void 0:s.isRTL(n.floating)),i=er(r),c=Es(r),l=yr(r)==="y",d=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,m=Jt(e,t);let{mainAxis:g,crossAxis:b,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof y=="number"&&(b=c==="end"?y*-1:y),l?{x:b*u,y:g*d}:{x:g*d,y:b*u}}const Fp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:n,y:o,placement:i,middlewareData:c}=e,l=await Dp(e,t);return i===((r=c.offset)==null?void 0:r.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:n+l.x,y:o+l.y,data:{...l,placement:i}}}}},Lp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:n}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:c={fn:v=>{let{x,y:p}=v;return{x,y:p}}},...l}=Jt(t,e),d={x:r,y:s},u=await Bs(e,l),m=yr(er(n)),g=La(m);let b=d[g],y=d[m];if(o){const v=g==="y"?"top":"left",x=g==="y"?"bottom":"right",p=b+u[v],w=b-u[x];b=ia(p,b,w)}if(i){const v=m==="y"?"top":"left",x=m==="y"?"bottom":"right",p=y+u[v],w=y-u[x];y=ia(p,y,w)}const h=c.fn({...e,[g]:b,[m]:y});return{...h,data:{x:h.x-r,y:h.y-s,enabled:{[g]:o,[m]:i}}}}}},Vp=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:n,rects:o,middlewareData:i}=e,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=Jt(t,e),u={x:r,y:s},m=yr(n),g=La(m);let b=u[g],y=u[m];const h=Jt(c,e),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(l){const w=g==="y"?"height":"width",S=o.reference[g]-o.floating[w]+v.mainAxis,C=o.reference[g]+o.reference[w]-v.mainAxis;b<S?b=S:b>C&&(b=C)}if(d){var x,p;const w=g==="y"?"width":"height",S=["top","left"].includes(er(n)),C=o.reference[m]-o.floating[w]+(S&&((x=i.offset)==null?void 0:x[m])||0)+(S?0:v.crossAxis),N=o.reference[m]+o.reference[w]+(S?0:((p=i.offset)==null?void 0:p[m])||0)-(S?v.crossAxis:0);y<C?y=C:y>N&&(y=N)}return{[g]:b,[m]:y}}}},$p=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:n,rects:o,platform:i,elements:c}=e,{apply:l=()=>{},...d}=Jt(t,e),u=await Bs(e,d),m=er(n),g=Es(n),b=yr(n)==="y",{width:y,height:h}=o.floating;let v,x;m==="top"||m==="bottom"?(v=m,x=g===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(x=m,v=g==="end"?"top":"bottom");const p=h-u.top-u.bottom,w=y-u.left-u.right,S=vr(h-u[v],p),C=vr(y-u[x],w),N=!e.middlewareData.shift;let T=S,k=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(T=p),N&&!g){const L=ut(u.left,0),M=ut(u.right,0),O=ut(u.top,0),F=ut(u.bottom,0);b?k=y-2*(L!==0||M!==0?L+M:ut(u.left,u.right)):T=h-2*(O!==0||F!==0?O+F:ut(u.top,u.bottom))}await l({...e,availableWidth:k,availableHeight:T});const P=await i.getDimensions(c.floating);return y!==P.width||h!==P.height?{reset:{rects:!0}}:{}}}};function co(){return typeof window<"u"}function ks(t){return td(t)?(t.nodeName||"").toLowerCase():"#document"}function ht(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ut(t){var e;return(e=(td(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function td(t){return co()?t instanceof Node||t instanceof ht(t).Node:!1}function At(t){return co()?t instanceof Element||t instanceof ht(t).Element:!1}function zt(t){return co()?t instanceof HTMLElement||t instanceof ht(t).HTMLElement:!1}function zi(t){return!co()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ht(t).ShadowRoot}function pn(t){const{overflow:e,overflowX:r,overflowY:s,display:n}=Pt(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!["inline","contents"].includes(n)}function zp(t){return["table","td","th"].includes(ks(t))}function lo(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function za(t){const e=Ha(),r=At(t)?Pt(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function Hp(t){let e=br(t);for(;zt(e)&&!bs(e);){if(za(e))return e;if(lo(e))return null;e=br(e)}return null}function Ha(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bs(t){return["html","body","#document"].includes(ks(t))}function Pt(t){return ht(t).getComputedStyle(t)}function uo(t){return At(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function br(t){if(ks(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zi(t)&&t.host||Ut(t);return zi(e)?e.host:e}function rd(t){const e=br(t);return bs(e)?t.ownerDocument?t.ownerDocument.body:t.body:zt(e)&&pn(e)?e:rd(e)}function Us(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const n=rd(t),o=n===((s=t.ownerDocument)==null?void 0:s.body),i=ht(n);if(o){const c=la(i);return e.concat(i,i.visualViewport||[],pn(n)?n:[],c&&r?Us(c):[])}return e.concat(n,Us(n,[],r))}function la(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sd(t){const e=Pt(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=zt(t),o=n?t.offsetWidth:r,i=n?t.offsetHeight:s,c=Fn(r)!==o||Fn(s)!==i;return c&&(r=o,s=i),{width:r,height:s,$:c}}function Ba(t){return At(t)?t:t.contextElement}function ss(t){const e=Ba(t);if(!zt(e))return Vt(1);const r=e.getBoundingClientRect(),{width:s,height:n,$:o}=sd(e);let i=(o?Fn(r.width):r.width)/s,c=(o?Fn(r.height):r.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Bp=Vt(0);function nd(t){const e=ht(t);return!Ha()||!e.visualViewport?Bp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Up(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ht(t)?!1:e}function zr(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=Ba(t);let i=Vt(1);e&&(s?At(s)&&(i=ss(s)):i=ss(t));const c=Up(o,r,s)?nd(o):Vt(0);let l=(n.left+c.x)/i.x,d=(n.top+c.y)/i.y,u=n.width/i.x,m=n.height/i.y;if(o){const g=ht(o),b=s&&At(s)?ht(s):s;let y=g,h=la(y);for(;h&&s&&b!==y;){const v=ss(h),x=h.getBoundingClientRect(),p=Pt(h),w=x.left+(h.clientLeft+parseFloat(p.paddingLeft))*v.x,S=x.top+(h.clientTop+parseFloat(p.paddingTop))*v.y;l*=v.x,d*=v.y,u*=v.x,m*=v.y,l+=w,d+=S,y=ht(h),h=la(y)}}return Vn({width:u,height:m,x:l,y:d})}function Ua(t,e){const r=uo(t).scrollLeft;return e?e.left+r:zr(Ut(t)).left+r}function od(t,e,r){r===void 0&&(r=!1);const s=t.getBoundingClientRect(),n=s.left+e.scrollLeft-(r?0:Ua(t,s)),o=s.top+e.scrollTop;return{x:n,y:o}}function qp(t){let{elements:e,rect:r,offsetParent:s,strategy:n}=t;const o=n==="fixed",i=Ut(s),c=e?lo(e.floating):!1;if(s===i||c&&o)return r;let l={scrollLeft:0,scrollTop:0},d=Vt(1);const u=Vt(0),m=zt(s);if((m||!m&&!o)&&((ks(s)!=="body"||pn(i))&&(l=uo(s)),zt(s))){const b=zr(s);d=ss(s),u.x=b.x+s.clientLeft,u.y=b.y+s.clientTop}const g=i&&!m&&!o?od(i,l,!0):Vt(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-l.scrollLeft*d.x+u.x+g.x,y:r.y*d.y-l.scrollTop*d.y+u.y+g.y}}function Zp(t){return Array.from(t.getClientRects())}function Wp(t){const e=Ut(t),r=uo(t),s=t.ownerDocument.body,n=ut(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=ut(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let i=-r.scrollLeft+Ua(t);const c=-r.scrollTop;return Pt(s).direction==="rtl"&&(i+=ut(e.clientWidth,s.clientWidth)-n),{width:n,height:o,x:i,y:c}}function Kp(t,e){const r=ht(t),s=Ut(t),n=r.visualViewport;let o=s.clientWidth,i=s.clientHeight,c=0,l=0;if(n){o=n.width,i=n.height;const d=Ha();(!d||d&&e==="fixed")&&(c=n.offsetLeft,l=n.offsetTop)}return{width:o,height:i,x:c,y:l}}function Gp(t,e){const r=zr(t,!0,e==="fixed"),s=r.top+t.clientTop,n=r.left+t.clientLeft,o=zt(t)?ss(t):Vt(1),i=t.clientWidth*o.x,c=t.clientHeight*o.y,l=n*o.x,d=s*o.y;return{width:i,height:c,x:l,y:d}}function Hi(t,e,r){let s;if(e==="viewport")s=Kp(t,r);else if(e==="document")s=Wp(Ut(t));else if(At(e))s=Gp(e,r);else{const n=nd(t);s={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return Vn(s)}function ad(t,e){const r=br(t);return r===e||!At(r)||bs(r)?!1:Pt(r).position==="fixed"||ad(r,e)}function Qp(t,e){const r=e.get(t);if(r)return r;let s=Us(t,[],!1).filter(c=>At(c)&&ks(c)!=="body"),n=null;const o=Pt(t).position==="fixed";let i=o?br(t):t;for(;At(i)&&!bs(i);){const c=Pt(i),l=za(i);!l&&c.position==="fixed"&&(n=null),(o?!l&&!n:!l&&c.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||pn(i)&&!l&&ad(t,i))?s=s.filter(u=>u!==i):n=c,i=br(i)}return e.set(t,s),s}function Yp(t){let{element:e,boundary:r,rootBoundary:s,strategy:n}=t;const i=[...r==="clippingAncestors"?lo(e)?[]:Qp(e,this._c):[].concat(r),s],c=i[0],l=i.reduce((d,u)=>{const m=Hi(e,u,n);return d.top=ut(m.top,d.top),d.right=vr(m.right,d.right),d.bottom=vr(m.bottom,d.bottom),d.left=ut(m.left,d.left),d},Hi(e,c,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Xp(t){const{width:e,height:r}=sd(t);return{width:e,height:r}}function Jp(t,e,r){const s=zt(e),n=Ut(e),o=r==="fixed",i=zr(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const l=Vt(0);if(s||!s&&!o)if((ks(e)!=="body"||pn(n))&&(c=uo(e)),s){const g=zr(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else n&&(l.x=Ua(n));const d=n&&!s&&!o?od(n,c):Vt(0),u=i.left+c.scrollLeft-l.x-d.x,m=i.top+c.scrollTop-l.y-d.y;return{x:u,y:m,width:i.width,height:i.height}}function Lo(t){return Pt(t).position==="static"}function Bi(t,e){if(!zt(t)||Pt(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ut(t)===r&&(r=r.ownerDocument.body),r}function id(t,e){const r=ht(t);if(lo(t))return r;if(!zt(t)){let n=br(t);for(;n&&!bs(n);){if(At(n)&&!Lo(n))return n;n=br(n)}return r}let s=Bi(t,e);for(;s&&zp(s)&&Lo(s);)s=Bi(s,e);return s&&bs(s)&&Lo(s)&&!za(s)?r:s||Hp(t)||r}const eg=async function(t){const e=this.getOffsetParent||id,r=this.getDimensions,s=await r(t.floating);return{reference:Jp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function tg(t){return Pt(t).direction==="rtl"}const rg={convertOffsetParentRelativeRectToViewportRelativeRect:qp,getDocumentElement:Ut,getClippingRect:Yp,getOffsetParent:id,getElementRects:eg,getClientRects:Zp,getDimensions:Xp,getScale:ss,isElement:At,isRTL:tg};function cd(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sg(t,e){let r=null,s;const n=Ut(t);function o(){var c;clearTimeout(s),(c=r)==null||c.disconnect(),r=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),o();const d=t.getBoundingClientRect(),{left:u,top:m,width:g,height:b}=d;if(c||e(),!g||!b)return;const y=Nn(m),h=Nn(n.clientWidth-(u+g)),v=Nn(n.clientHeight-(m+b)),x=Nn(u),w={rootMargin:-y+"px "+-h+"px "+-v+"px "+-x+"px",threshold:ut(0,vr(1,l))||1};let S=!0;function C(N){const T=N[0].intersectionRatio;if(T!==l){if(!S)return i();T?i(!1,T):s=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!cd(d,t.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(C,{...w,root:n.ownerDocument})}catch{r=new IntersectionObserver(C,w)}r.observe(t)}return i(!0),o}function ng(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,d=Ba(t),u=n||o?[...d?Us(d):[],...Us(e)]:[];u.forEach(x=>{n&&x.addEventListener("scroll",r,{passive:!0}),o&&x.addEventListener("resize",r)});const m=d&&c?sg(d,r):null;let g=-1,b=null;i&&(b=new ResizeObserver(x=>{let[p]=x;p&&p.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=b)==null||w.observe(e)})),r()}),d&&!l&&b.observe(d),b.observe(e));let y,h=l?zr(t):null;l&&v();function v(){const x=zr(t);h&&!cd(h,x)&&r(),h=x,y=requestAnimationFrame(v)}return r(),()=>{var x;u.forEach(p=>{n&&p.removeEventListener("scroll",r),o&&p.removeEventListener("resize",r)}),m==null||m(),(x=b)==null||x.disconnect(),b=null,l&&cancelAnimationFrame(y)}}const og=Fp,ag=Lp,ig=Mp,cg=$p,lg=Ip,Ui=Op,dg=Vp,ug=(t,e,r)=>{const s=new Map,n={platform:rg,...r},o={...n.platform,_c:s};return Rp(t,e,{...n,platform:o})};var Pn=typeof document<"u"?f.useLayoutEffect:f.useEffect;function $n(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,n;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!$n(t[s],e[s]))return!1;return!0}if(n=Object.keys(t),r=n.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,n[s]))return!1;for(s=r;s--!==0;){const o=n[s];if(!(o==="_owner"&&t.$$typeof)&&!$n(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function ld(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qi(t,e){const r=ld(t);return Math.round(e*r)/r}function Vo(t){const e=f.useRef(t);return Pn(()=>{e.current=t}),e}function fg(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:n,elements:{reference:o,floating:i}={},transform:c=!0,whileElementsMounted:l,open:d}=t,[u,m]=f.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,b]=f.useState(s);$n(g,s)||b(s);const[y,h]=f.useState(null),[v,x]=f.useState(null),p=f.useCallback(G=>{G!==N.current&&(N.current=G,h(G))},[]),w=f.useCallback(G=>{G!==T.current&&(T.current=G,x(G))},[]),S=o||y,C=i||v,N=f.useRef(null),T=f.useRef(null),k=f.useRef(u),P=l!=null,L=Vo(l),M=Vo(n),O=Vo(d),F=f.useCallback(()=>{if(!N.current||!T.current)return;const G={placement:e,strategy:r,middleware:g};M.current&&(G.platform=M.current),ug(N.current,T.current,G).then(ie=>{const Te={...ie,isPositioned:O.current!==!1};I.current&&!$n(k.current,Te)&&(k.current=Te,hn.flushSync(()=>{m(Te)}))})},[g,e,r,M,O]);Pn(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(G=>({...G,isPositioned:!1})))},[d]);const I=f.useRef(!1);Pn(()=>(I.current=!0,()=>{I.current=!1}),[]),Pn(()=>{if(S&&(N.current=S),C&&(T.current=C),S&&C){if(L.current)return L.current(S,C,F);F()}},[S,C,F,L,P]);const X=f.useMemo(()=>({reference:N,floating:T,setReference:p,setFloating:w}),[p,w]),$=f.useMemo(()=>({reference:S,floating:C}),[S,C]),J=f.useMemo(()=>{const G={position:r,left:0,top:0};if(!$.floating)return G;const ie=qi($.floating,u.x),Te=qi($.floating,u.y);return c?{...G,transform:"translate("+ie+"px, "+Te+"px)",...ld($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ie,top:Te}},[r,c,$.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:F,refs:X,elements:$,floatingStyles:J}),[u,F,X,$,J])}const hg=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:n}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?Ui({element:s.current,padding:n}).fn(r):{}:s?Ui({element:s,padding:n}).fn(r):{}}}},mg=(t,e)=>({...og(t),options:[t,e]}),pg=(t,e)=>({...ag(t),options:[t,e]}),gg=(t,e)=>({...dg(t),options:[t,e]}),xg=(t,e)=>({...ig(t),options:[t,e]}),vg=(t,e)=>({...cg(t),options:[t,e]}),yg=(t,e)=>({...lg(t),options:[t,e]}),bg=(t,e)=>({...hg(t),options:[t,e]});var wg="Arrow",dd=f.forwardRef((t,e)=>{const{children:r,width:s=10,height:n=5,...o}=t;return a.jsx(be.svg,{...o,ref:e,width:s,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});dd.displayName=wg;var Sg=dd;function ud(t){const[e,r]=f.useState(void 0);return pt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const o=n[0];let i,c;if("borderBoxSize"in o){const l=o.borderBoxSize,d=Array.isArray(l)?l[0]:l;i=d.inlineSize,c=d.blockSize}else i=t.offsetWidth,c=t.offsetHeight;r({width:i,height:c})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var qa="Popper",[fd,fo]=Zr(qa),[Cg,hd]=fd(qa),md=t=>{const{__scopePopper:e,children:r}=t,[s,n]=f.useState(null);return a.jsx(Cg,{scope:e,anchor:s,onAnchorChange:n,children:r})};md.displayName=qa;var pd="PopperAnchor",gd=f.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...n}=t,o=hd(pd,r),i=f.useRef(null),c=Me(e,i);return f.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||i.current)}),s?null:a.jsx(be.div,{...n,ref:c})});gd.displayName=pd;var Za="PopperContent",[jg,_g]=fd(Za),xd=f.forwardRef((t,e)=>{var U,se,Pe,we,ae,fe;const{__scopePopper:r,side:s="bottom",sideOffset:n=0,align:o="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:b="optimized",onPlaced:y,...h}=t,v=hd(Za,r),[x,p]=f.useState(null),w=Me(e,ke=>p(ke)),[S,C]=f.useState(null),N=ud(S),T=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,P=s+(o!=="center"?"-"+o:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(d)?d:[d],O=M.length>0,F={padding:L,boundary:M.filter(Tg),altBoundary:O},{refs:I,floatingStyles:X,placement:$,isPositioned:J,middlewareData:G}=fg({strategy:"fixed",placement:P,whileElementsMounted:(...ke)=>ng(...ke,{animationFrame:b==="always"}),elements:{reference:v.anchor},middleware:[mg({mainAxis:n+k,alignmentAxis:i}),l&&pg({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?gg():void 0,...F}),l&&xg({...F}),vg({...F,apply:({elements:ke,rects:Ce,availableWidth:Ue,availableHeight:Re})=>{const{width:at,height:Tr}=Ce.reference,Kr=ke.floating.style;Kr.setProperty("--radix-popper-available-width",`${Ue}px`),Kr.setProperty("--radix-popper-available-height",`${Re}px`),Kr.setProperty("--radix-popper-anchor-width",`${at}px`),Kr.setProperty("--radix-popper-anchor-height",`${Tr}px`)}}),S&&bg({element:S,padding:c}),Eg({arrowWidth:T,arrowHeight:k}),g&&yg({strategy:"referenceHidden",...F})]}),[ie,Te]=bd($),A=ft(y);pt(()=>{J&&(A==null||A())},[J,A]);const K=(U=G.arrow)==null?void 0:U.x,te=(se=G.arrow)==null?void 0:se.y,ue=((Pe=G.arrow)==null?void 0:Pe.centerOffset)!==0,[Se,Ee]=f.useState();return pt(()=>{x&&Ee(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:J?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(we=G.transformOrigin)==null?void 0:we.x,(ae=G.transformOrigin)==null?void 0:ae.y].join(" "),...((fe=G.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(jg,{scope:r,placedSide:ie,onArrowChange:C,arrowX:K,arrowY:te,shouldHideArrow:ue,children:a.jsx(be.div,{"data-side":ie,"data-align":Te,...h,ref:w,style:{...h.style,animation:J?void 0:"none"}})})})});xd.displayName=Za;var vd="PopperArrow",Ng={top:"bottom",right:"left",bottom:"top",left:"right"},yd=f.forwardRef(function(e,r){const{__scopePopper:s,...n}=e,o=_g(vd,s),i=Ng[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(Sg,{...n,ref:r,style:{...n.style,display:"block"}})})});yd.displayName=vd;function Tg(t){return t!==null}var Eg=t=>({name:"transformOrigin",options:t,fn(e){var v,x,p;const{placement:r,rects:s,middlewareData:n}=e,i=((v=n.arrow)==null?void 0:v.centerOffset)!==0,c=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[d,u]=bd(r),m={start:"0%",center:"50%",end:"100%"}[u],g=(((x=n.arrow)==null?void 0:x.x)??0)+c/2,b=(((p=n.arrow)==null?void 0:p.y)??0)+l/2;let y="",h="";return d==="bottom"?(y=i?m:`${g}px`,h=`${-l}px`):d==="top"?(y=i?m:`${g}px`,h=`${s.floating.height+l}px`):d==="right"?(y=`${-l}px`,h=i?m:`${b}px`):d==="left"&&(y=`${s.floating.width+l}px`,h=i?m:`${b}px`),{data:{x:y,y:h}}}});function bd(t){const[e,r="center"]=t.split("-");return[e,r]}var kg=md,wd=gd,Sd=xd,Cd=yd,[ho,yb]=Zr("Tooltip",[fo]),Wa=fo(),jd="TooltipProvider",Ag=700,Zi="tooltip.open",[Pg,_d]=ho(jd),Nd=t=>{const{__scopeTooltip:e,delayDuration:r=Ag,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:o}=t,i=f.useRef(!0),c=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),a.jsx(Pg,{scope:e,isOpenDelayedRef:i,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(d=>{c.current=d},[]),disableHoverableContent:n,children:o})};Nd.displayName=jd;var Td="Tooltip",[bb,mo]=ho(Td),da="TooltipTrigger",Rg=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,n=mo(da,r),o=_d(da,r),i=Wa(r),c=f.useRef(null),l=Me(e,c,n.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),m=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(wd,{asChild:!0,...i,children:a.jsx(be.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:l,onPointerMove:le(t.onPointerMove,g=>{g.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:le(t.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:le(t.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:le(t.onFocus,()=>{d.current||n.onOpen()}),onBlur:le(t.onBlur,n.onClose),onClick:le(t.onClick,n.onClose)})})});Rg.displayName=da;var Og="TooltipPortal",[wb,Mg]=ho(Og,{forceMount:void 0}),ws="TooltipContent",Ed=f.forwardRef((t,e)=>{const r=Mg(ws,t.__scopeTooltip),{forceMount:s=r.forceMount,side:n="top",...o}=t,i=mo(ws,t.__scopeTooltip);return a.jsx(Wr,{present:s||i.open,children:i.disableHoverableContent?a.jsx(kd,{side:n,...o,ref:e}):a.jsx(Ig,{side:n,...o,ref:e})})}),Ig=f.forwardRef((t,e)=>{const r=mo(ws,t.__scopeTooltip),s=_d(ws,t.__scopeTooltip),n=f.useRef(null),o=Me(e,n),[i,c]=f.useState(null),{trigger:l,onClose:d}=r,u=n.current,{onPointerInTransitChange:m}=s,g=f.useCallback(()=>{c(null),m(!1)},[m]),b=f.useCallback((y,h)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},p=$g(x,v.getBoundingClientRect()),w=zg(x,p),S=Hg(h.getBoundingClientRect()),C=Ug([...w,...S]);c(C),m(!0)},[m]);return f.useEffect(()=>()=>g(),[g]),f.useEffect(()=>{if(l&&u){const y=v=>b(v,u),h=v=>b(v,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",h),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",h)}}},[l,u,b,g]),f.useEffect(()=>{if(i){const y=h=>{const v=h.target,x={x:h.clientX,y:h.clientY},p=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),w=!Bg(x,i);p?g():w&&(g(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,i,d,g]),a.jsx(kd,{...t,ref:o})}),[Dg,Fg]=ho(Td,{isInside:!1}),Lg=Vf("TooltipContent"),kd=f.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:i,...c}=t,l=mo(ws,r),d=Wa(r),{onClose:u}=l;return f.useEffect(()=>(document.addEventListener(Zi,u),()=>document.removeEventListener(Zi,u)),[u]),f.useEffect(()=>{if(l.trigger){const m=g=>{const b=g.target;b!=null&&b.contains(l.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,u]),a.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:a.jsxs(Sd,{"data-state":l.stateAttribute,...d,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Lg,{children:s}),a.jsx(Dg,{scope:r,isInside:!0,children:a.jsx(dm,{id:l.contentId,role:"tooltip",children:n||s})})]})})});Ed.displayName=ws;var Ad="TooltipArrow",Vg=f.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,n=Wa(r);return Fg(Ad,r).isInside?null:a.jsx(Cd,{...n,...s,ref:e})});Vg.displayName=Ad;function $g(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),n=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,s,n,o)){case o:return"left";case n:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function zg(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function Hg(t){const{top:e,right:r,bottom:s,left:n}=t;return[{x:n,y:e},{x:r,y:e},{x:r,y:s},{x:n,y:s}]}function Bg(t,e){const{x:r,y:s}=t;let n=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const c=e[o].x,l=e[o].y,d=e[i].x,u=e[i].y;l>s!=u>s&&r<(d-c)*(s-l)/(u-l)+c&&(n=!n)}return n}function Ug(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),qg(e)}function qg(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const n=t[s];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))e.pop();else break}e.push(n)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const n=t[s];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(n.y-i.y)>=(o.y-i.y)*(n.x-i.x))r.pop();else break}r.push(n)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Zg=Nd,Pd=Ed;const Wg=Zg,Kg=f.forwardRef(({className:t,sideOffset:e=4,...r},s)=>a.jsx(Pd,{ref:s,sideOffset:e,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));Kg.displayName=Pd.displayName;const Wi="medicina-student-progress",Rd=f.createContext(void 0);function po(){const t=f.useContext(Rd);if(t===void 0)throw new Error("useStudentProgress must be used within a StudentProgressProvider");return t}function Gg({children:t}){const[e,r]=f.useState(new Map),[s,n]=f.useState([]);f.useEffect(()=>{const N=localStorage.getItem(Wi);if(N)try{const T=JSON.parse(N),k=new Map(Object.entries(T));r(k)}catch(T){console.error("Error loading progress:",T)}},[]);const o=N=>{console.log("[saveProgress] Updating progress state, size:",N.size),r(N);const T=Object.fromEntries(N);localStorage.setItem(Wi,JSON.stringify(T)),console.log("[saveProgress] localStorage updated:",Object.keys(T))},i=(N,T)=>{if(console.log("[markCoursePassed] Called for:",N),T&&!["A","B","C"].includes(T)){console.warn("[markCoursePassed] Grade must be C or above to pass. Received:",T);return}const k=new Map(e);k.set(N,{courseId:N,status:"passed",grade:T,completedAt:new Date().toISOString()}),console.log("[markCoursePassed] New progress size:",k.size),o(k)},c=(N,T)=>{const k=new Map(e);k.set(N,{courseId:N,status:"in_progress",sectionId:T}),o(k)},l=(N,T)=>{const k=new Map(e);k.set(N,{courseId:N,status:"planned",sectionId:T}),o(k)},d=N=>{const T=new Map(e);T.delete(N),o(T)},u=(N,T,k)=>{if(T.has(N.id))return"passed";if(N.prerequisites.length>0){for(const P of N.prerequisites)if(!T.has(P))return"blocked"}if(N.corequisites.length>0){const P=N.corequisites.some(O=>T.has(O)),L=N.corequisites.some(O=>{const F=e.get(O);return(F==null?void 0:F.status)==="planned"||(F==null?void 0:F.status)==="in_progress"}),M=k?N.corequisites.some(O=>k.has(O)):!1;if(!P&&!L&&!M&&N.prerequisites.length>0)return"blocked"}if(N.isElective){const P=m(T,k||new Set);if(N.electiveType==="general"&&P<6||N.electiveType==="professional"&&N.term<=11&&P<11||N.electiveType==="professional"&&N.term>11&&P<15)return"blocked"}return"available"},m=(N,T)=>{if(s.length===0)return 0;const k=new Set([...Array.from(N),...Array.from(T)]);let P=0;for(let L=1;L<=18;L++){const M=s.filter(F=>F.term===L&&!F.isElective),O=M.filter(F=>k.has(F.id));M.length>0&&O.length/M.length>=.5&&(P=L)}return P},g=()=>{const N=new Set;return e.forEach((T,k)=>{T.status==="passed"&&N.add(k)}),N},b=()=>{const N=new Set;return e.forEach((T,k)=>{(T.status==="planned"||T.status==="in_progress")&&N.add(k)}),N},y=N=>{let T=0,k=0,P=0;return N.forEach(L=>{P+=L.credits;const M=e.get(L.id);(M==null?void 0:M.status)==="passed"?T+=L.credits:((M==null?void 0:M.status)==="planned"||(M==null?void 0:M.status)==="in_progress")&&(k+=L.credits)}),{passed:T,planned:k,total:P}},h=()=>{let N=0,T=0;return e.forEach(k=>{if(k.status==="passed"&&k.grade){const P=p(k.grade);P!==null&&(N+=P*x(k.courseId),T+=x(k.courseId))}}),T>0?N/T:0},v=N=>{n(N)},x=N=>{const T=s.find(k=>k.id===N);return(T==null?void 0:T.credits)||3},p=N=>({A:4,B:3,C:2,D:1,F:0})[N]??null,w=f.useMemo(()=>{console.log("[passedCourses useMemo] Recalculating with progress size:",e.size);const N=new Set;return e.forEach((T,k)=>{T.status==="passed"&&N.add(k)}),console.log("[passedCourses useMemo] Passed courses:",Array.from(N)),N},[e]),S=f.useMemo(()=>{const N=new Set;return e.forEach((T,k)=>{(T.status==="planned"||T.status==="in_progress")&&N.add(k)}),N},[e]),C={progress:e,passedCourses:w,plannedCourses:S,markCoursePassed:i,markCourseInProgress:c,markCoursePlanned:l,removeCourseProgress:d,getCourseStatus:u,getPassedCourses:g,getPlannedCourses:b,getTotalCredits:y,calculateGPA:h,updateCourses:v};return a.jsx(Rd.Provider,{value:C,children:t})}function Qg({onMenuClick:t,onHomeClick:e}){return a.jsx("header",{className:"border-b bg-card text-card-foreground px-4 py-3 md:px-6 md:py-4 sticky top-0 z-30 shadow-sm transition-all duration-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:t,className:"md:hidden p-2 -ml-2 text-muted-foreground hover:bg-muted rounded-md transition-colors","aria-label":"Abrir men",children:a.jsx(Dm,{className:"h-6 w-6"})}),a.jsxs("div",{onClick:e,className:"flex items-center gap-3 cursor-pointer group select-none transition-opacity hover:opacity-80",title:"Ir al Inicio",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg shrink-0 group-hover:bg-primary/20 transition-colors",children:a.jsx(Ia,{className:"h-6 w-6 text-primary group-hover:scale-110 transition-transform"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg md:text-2xl font-bold leading-tight group-hover:text-primary transition-colors",children:"Planificador Medicina"}),a.jsx("p",{className:"text-xs text-muted-foreground hidden md:block",children:"Programa UTESA 2013  18 Semestres + Proyecto Final"}),a.jsx("p",{className:"text-xs text-muted-foreground md:hidden",children:"Curriculum UTESA 2013"})]})]})]})})}const Yg=io("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ce=f.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...n},o)=>{const i=s?Rc:"button";return a.jsx(i,{className:ee(Yg({variant:e,size:r,className:t})),ref:o,...n})});ce.displayName="Button";const xe=f.forwardRef(({className:t,type:e,...r},s)=>a.jsx("input",{type:e,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));xe.displayName="Input";function ua(t,[e,r]){return Math.min(r,Math.max(e,t))}function Xg(t,e){return f.useReducer((r,s)=>e[r][s]??r,t)}var Ka="ScrollArea",[Od,Sb]=Zr(Ka),[Jg,vt]=Od(Ka),Md=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:s="hover",dir:n,scrollHideDelay:o=600,...i}=t,[c,l]=f.useState(null),[d,u]=f.useState(null),[m,g]=f.useState(null),[b,y]=f.useState(null),[h,v]=f.useState(null),[x,p]=f.useState(0),[w,S]=f.useState(0),[C,N]=f.useState(!1),[T,k]=f.useState(!1),P=Me(e,M=>l(M)),L=Oc(n);return a.jsx(Jg,{scope:r,type:s,dir:L,scrollHideDelay:o,scrollArea:c,viewport:d,onViewportChange:u,content:m,onContentChange:g,scrollbarX:b,onScrollbarXChange:y,scrollbarXEnabled:C,onScrollbarXEnabledChange:N,scrollbarY:h,onScrollbarYChange:v,scrollbarYEnabled:T,onScrollbarYEnabledChange:k,onCornerWidthChange:p,onCornerHeightChange:S,children:a.jsx(be.div,{dir:L,...i,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});Md.displayName=Ka;var Id="ScrollAreaViewport",Dd=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:s,nonce:n,...o}=t,i=vt(Id,r),c=f.useRef(null),l=Me(e,c,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(be.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Dd.displayName=Id;var qt="ScrollAreaScrollbar",Ga=f.forwardRef((t,e)=>{const{forceMount:r,...s}=t,n=vt(qt,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=n,c=t.orientation==="horizontal";return f.useEffect(()=>(c?o(!0):i(!0),()=>{c?o(!1):i(!1)}),[c,o,i]),n.type==="hover"?a.jsx(ex,{...s,ref:e,forceMount:r}):n.type==="scroll"?a.jsx(tx,{...s,ref:e,forceMount:r}):n.type==="auto"?a.jsx(Fd,{...s,ref:e,forceMount:r}):n.type==="always"?a.jsx(Qa,{...s,ref:e}):null});Ga.displayName=qt;var ex=f.forwardRef((t,e)=>{const{forceMount:r,...s}=t,n=vt(qt,t.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const c=n.scrollArea;let l=0;if(c){const d=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),n.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),a.jsx(Wr,{present:r||o,children:a.jsx(Fd,{"data-state":o?"visible":"hidden",...s,ref:e})})}),tx=f.forwardRef((t,e)=>{const{forceMount:r,...s}=t,n=vt(qt,t.__scopeScrollArea),o=t.orientation==="horizontal",i=xo(()=>l("SCROLL_END"),100),[c,l]=Xg("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>l("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,n.scrollHideDelay,l]),f.useEffect(()=>{const d=n.viewport,u=o?"scrollLeft":"scrollTop";if(d){let m=d[u];const g=()=>{const b=d[u];m!==b&&(l("SCROLL"),i()),m=b};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[n.viewport,o,l,i]),a.jsx(Wr,{present:r||c!=="hidden",children:a.jsx(Qa,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:le(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:le(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Fd=f.forwardRef((t,e)=>{const r=vt(qt,t.__scopeScrollArea),{forceMount:s,...n}=t,[o,i]=f.useState(!1),c=t.orientation==="horizontal",l=xo(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?d:u)}},10);return Ss(r.viewport,l),Ss(r.content,l),a.jsx(Wr,{present:s||o,children:a.jsx(Qa,{"data-state":o?"visible":"hidden",...n,ref:e})})}),Qa=f.forwardRef((t,e)=>{const{orientation:r="vertical",...s}=t,n=vt(qt,t.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[c,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Hd(c.viewport,c.content),u={...s,sizes:c,onSizesChange:l,hasThumb:d>0&&d<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:g=>i.current=g};function m(g,b){return ix(g,i.current,c,b)}return r==="horizontal"?a.jsx(rx,{...u,ref:e,onThumbPositionChange:()=>{if(n.viewport&&o.current){const g=n.viewport.scrollLeft,b=Ki(g,c,n.dir);o.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=m(g,n.dir))}}):r==="vertical"?a.jsx(sx,{...u,ref:e,onThumbPositionChange:()=>{if(n.viewport&&o.current){const g=n.viewport.scrollTop,b=Ki(g,c);o.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=m(g))}}):null}),rx=f.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...n}=t,o=vt(qt,t.__scopeScrollArea),[i,c]=f.useState(),l=f.useRef(null),d=Me(e,l,o.onScrollbarXChange);return f.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(Vd,{"data-orientation":"horizontal",...n,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":go(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(o.viewport){const g=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(g),Ud(g,m)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Hn(i.paddingLeft),paddingEnd:Hn(i.paddingRight)}})}})}),sx=f.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...n}=t,o=vt(qt,t.__scopeScrollArea),[i,c]=f.useState(),l=f.useRef(null),d=Me(e,l,o.onScrollbarYChange);return f.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(Vd,{"data-orientation":"vertical",...n,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":go(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(o.viewport){const g=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(g),Ud(g,m)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Hn(i.paddingTop),paddingEnd:Hn(i.paddingBottom)}})}})}),[nx,Ld]=Od(qt),Vd=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:n,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:u,onResize:m,...g}=t,b=vt(qt,r),[y,h]=f.useState(null),v=Me(e,P=>h(P)),x=f.useRef(null),p=f.useRef(""),w=b.viewport,S=s.content-s.viewport,C=ft(u),N=ft(l),T=xo(m,10);function k(P){if(x.current){const L=P.clientX-x.current.left,M=P.clientY-x.current.top;d({x:L,y:M})}}return f.useEffect(()=>{const P=L=>{const M=L.target;(y==null?void 0:y.contains(M))&&C(L,S)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[w,y,S,C]),f.useEffect(N,[s,N]),Ss(y,T),Ss(b.content,T),a.jsx(nx,{scope:r,scrollbar:y,hasThumb:n,onThumbChange:ft(o),onThumbPointerUp:ft(i),onThumbPositionChange:N,onThumbPointerDown:ft(c),children:a.jsx(be.div,{...g,ref:v,style:{position:"absolute",...g.style},onPointerDown:le(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=y.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),k(P))}),onPointerMove:le(t.onPointerMove,k),onPointerUp:le(t.onPointerUp,P=>{const L=P.target;L.hasPointerCapture(P.pointerId)&&L.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=p.current,b.viewport&&(b.viewport.style.scrollBehavior=""),x.current=null})})})}),zn="ScrollAreaThumb",$d=f.forwardRef((t,e)=>{const{forceMount:r,...s}=t,n=Ld(zn,t.__scopeScrollArea);return a.jsx(Wr,{present:r||n.hasThumb,children:a.jsx(ox,{ref:e,...s})})}),ox=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:s,...n}=t,o=vt(zn,r),i=Ld(zn,r),{onThumbPositionChange:c}=i,l=Me(e,m=>i.onThumbChange(m)),d=f.useRef(void 0),u=xo(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const m=o.viewport;if(m){const g=()=>{if(u(),!d.current){const b=cx(m,c);d.current=b,c()}};return c(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[o.viewport,u,c]),a.jsx(be.div,{"data-state":i.hasThumb?"visible":"hidden",...n,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:le(t.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),y=m.clientX-b.left,h=m.clientY-b.top;i.onThumbPointerDown({x:y,y:h})}),onPointerUp:le(t.onPointerUp,i.onThumbPointerUp)})});$d.displayName=zn;var Ya="ScrollAreaCorner",zd=f.forwardRef((t,e)=>{const r=vt(Ya,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?a.jsx(ax,{...t,ref:e}):null});zd.displayName=Ya;var ax=f.forwardRef((t,e)=>{const{__scopeScrollArea:r,...s}=t,n=vt(Ya,r),[o,i]=f.useState(0),[c,l]=f.useState(0),d=!!(o&&c);return Ss(n.scrollbarX,()=>{var m;const u=((m=n.scrollbarX)==null?void 0:m.offsetHeight)||0;n.onCornerHeightChange(u),l(u)}),Ss(n.scrollbarY,()=>{var m;const u=((m=n.scrollbarY)==null?void 0:m.offsetWidth)||0;n.onCornerWidthChange(u),i(u)}),d?a.jsx(be.div,{...s,ref:e,style:{width:o,height:c,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Hn(t){return t?parseInt(t,10):0}function Hd(t,e){const r=t/e;return isNaN(r)?0:r}function go(t){const e=Hd(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*e;return Math.max(s,18)}function ix(t,e,r,s="ltr"){const n=go(r),o=n/2,i=e||o,c=n-i,l=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-c,u=r.content-r.viewport,m=s==="ltr"?[0,u]:[u*-1,0];return Bd([l,d],m)(t)}function Ki(t,e,r="ltr"){const s=go(e),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-n,i=e.content-e.viewport,c=o-s,l=r==="ltr"?[0,i]:[i*-1,0],d=ua(t,l);return Bd([0,i],[0,c])(d)}function Bd(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function Ud(t,e){return t>0&&t<e}var cx=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return function n(){const o={left:t.scrollLeft,top:t.scrollTop},i=r.left!==o.left,c=r.top!==o.top;(i||c)&&e(),r=o,s=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(s)};function xo(t,e){const r=ft(t),s=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),f.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,e)},[r,e])}function Ss(t,e){const r=ft(e);pt(()=>{let s=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return n.observe(t),()=>{window.cancelAnimationFrame(s),n.unobserve(t)}}},[t,r])}var qd=Md,lx=Dd,dx=zd;const Zd=f.forwardRef(({className:t,children:e,...r},s)=>a.jsxs(qd,{ref:s,className:ee("relative overflow-hidden",t),...r,children:[a.jsx(lx,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(Wd,{}),a.jsx(dx,{})]}));Zd.displayName=qd.displayName;const Wd=f.forwardRef(({className:t,orientation:e="vertical",...r},s)=>a.jsx(Ga,{ref:s,orientation:e,className:ee("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:a.jsx($d,{className:"relative flex-1 rounded-full bg-border"})}));Wd.displayName=Ga.displayName;var ux="Separator",Gi="horizontal",fx=["horizontal","vertical"],Kd=f.forwardRef((t,e)=>{const{decorative:r,orientation:s=Gi,...n}=t,o=hx(s)?s:Gi,c=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(be.div,{"data-orientation":o,...c,...n,ref:e})});Kd.displayName=ux;function hx(t){return fx.includes(t)}var Gd=Kd;const qs=f.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...s},n)=>a.jsx(Gd,{ref:n,decorative:r,orientation:e,className:ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));qs.displayName=Gd.displayName;const mx=io("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ct({className:t,variant:e,...r}){return a.jsx("div",{className:ee(mx({variant:e}),t),...r})}function Qi({filters:t,onFiltersChange:e,activeView:r,onViewChange:s,onShowPlanModal:n}){const o=i=>{e({...t,status:t.status===i?null:i})};return a.jsxs("div",{className:"w-full md:w-64 bg-card border-r flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 space-y-2 shrink-0",children:[a.jsxs(ce,{variant:r==="courses"?"secondary":"ghost",className:"w-full justify-start text-base font-medium",onClick:()=>s("courses"),children:[a.jsx(Fl,{className:"mr-2 h-5 w-5 text-primary"}),"Catlogo de Materias"]}),a.jsxs(ce,{variant:r==="planner"?"secondary":"ghost",className:"w-full justify-start text-base font-medium",onClick:()=>s("planner"),children:[a.jsx(Ll,{className:"mr-2 h-5 w-5 text-violet-500"}),"Mi Plan (Horario)"]}),a.jsxs(ce,{variant:r==="progress"?"secondary":"ghost",className:"w-full justify-start text-base font-medium",onClick:()=>s("progress"),children:[a.jsx(Ia,{className:"mr-2 h-5 w-5 text-emerald-500"}),"Mi Progreso"]})]}),a.jsx(qs,{}),a.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:a.jsx(Zd,{className:"flex-1",children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground flex items-center",children:[a.jsx(Fm,{className:"h-4 w-4 mr-2"})," BUSCAR"]}),a.jsx(xe,{placeholder:"Cdigo o nombre...",value:t.searchTerm,onChange:i=>e({...t,searchTerm:i.target.value}),className:"bg-background"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground flex items-center",children:[a.jsx(Im,{className:"h-4 w-4 mr-2"})," FILTROS"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ct,{variant:t.status===null?"default":"outline",className:"cursor-pointer hover:bg-primary/80",onClick:()=>o(null),children:"Todas"}),a.jsx(Ct,{variant:t.status==="available"?"default":"outline",className:`cursor-pointer hover:bg-primary/80 ${t.status==="available"?"bg-green-600 hover:bg-green-700 border-green-600":""}`,onClick:()=>o("available"),children:"Disponibles"})]}),a.jsx("div",{className:"pt-2 space-y-2",children:a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer p-1 hover:bg-muted rounded select-none",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:t.electivesOnly,onChange:i=>e({...t,electivesOnly:i.target.checked})}),a.jsx("span",{children:"Solo Electivas"})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"CICLO / SEMESTRE"}),a.jsxs("select",{className:"w-full p-2 rounded-md border bg-background text-sm",value:t.term||"",onChange:i=>e({...t,term:i.target.value?Number(i.target.value):null}),children:[a.jsx("option",{value:"",children:"Todos los Ciclos"}),Array.from({length:18},(i,c)=>a.jsxs("option",{value:c+1,children:["Ciclo ",c+1]},c+1))]})]})]})})}),a.jsx("div",{className:"p-4 border-t bg-muted/20 text-center shrink-0",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:"v1.0.0  Medicina PWA"})})]})}const Tt=f.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Tt.displayName="Card";const pr=f.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ee("flex flex-col space-y-1.5 p-6",t),...e}));pr.displayName="CardHeader";const gr=f.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));gr.displayName="CardTitle";const px=f.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ee("text-sm text-muted-foreground",t),...e}));px.displayName="CardDescription";const Et=f.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ee("p-6 pt-0",t),...e}));Et.displayName="CardContent";const gx=f.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ee("flex items-center p-6 pt-0",t),...e}));gx.displayName="CardFooter";const yt=(...t)=>console.log("[LocalJsonProvider]",...t);class xx{constructor(){this.coursesMem=null,this.sectionsMem=null}readLS(e){try{const r=localStorage.getItem(e);return r?JSON.parse(r):null}catch{return null}}async getCourses(){if(this.coursesMem)return yt("courses from mem:",this.coursesMem.length),this.coursesMem;const e=this.readLS("admin:courses");if(Array.isArray(e)&&e.length>0)return yt("courses from localStorage:",e.length),this.coursesMem=e,e;const r="/medicina-pwa-final/data/courses.json";yt("fetching courses:",r);const s=await fetch(r,{cache:"no-store"});if(!s.ok)throw new Error(`courses fetch ${s.status}`);const n=await s.json(),o=Array.isArray(n)?n:[];return yt("courses fetched count:",o.length),this.coursesMem=o,o}async getSections(){if(this.sectionsMem)return yt("sections from mem (type):",Array.isArray(this.sectionsMem)?"array":typeof this.sectionsMem),this.sectionsMem;const e=this.readLS("admin:sections");if(e&&(Array.isArray(e)&&e.length>0||e.courses))return yt("sections from localStorage (type):",Array.isArray(e)?"array":"object"),this.sectionsMem=e,e;const r="/medicina-pwa-final/data/sections.json";yt("fetching sections:",r);const s=await fetch(r,{cache:"no-store"});if(!s.ok)throw new Error(`sections fetch ${s.status}`);const o=await s.json()??[];return yt("sections fetched type:",Array.isArray(o)?"array":"object"),this.sectionsMem=o,o}async saveCourses(e){const r=Array.isArray(e)?e:[];this.coursesMem=r,localStorage.setItem("admin:courses",JSON.stringify(r)),yt("courses saved (ls) count:",r.length)}async saveSections(e){const r=e??(Array.isArray(e)?[]:{courses:[]});this.sectionsMem=r,localStorage.setItem("admin:sections",JSON.stringify(r)),yt("sections saved (ls) type:",Array.isArray(r)?"array":"object")}clearOverrides(){localStorage.removeItem("admin:courses"),localStorage.removeItem("admin:sections"),this.coursesMem=null,this.sectionsMem=null,yt("overrides cleared")}}const Ot=new xx;function Qd(){const[t,e]=f.useState([]),[r,s]=f.useState([]),[n,o]=f.useState(!0);f.useEffect(()=>{let g=!1;return(async()=>{try{const[b,y]=await Promise.all([Ot.getCourses(),Ot.getSections()]);g||(e(Array.isArray(b)?b:[]),s(y??[]))}catch(b){console.error("[useCourseData] load error:",b)}finally{g||o(!1)}})(),()=>{g=!0}},[]);const i=f.useMemo(()=>{const g=new Map;for(const b of t){g.has(b.term)||g.set(b.term,{term:b.term,name:`CUATRIMESTRE ${b.term}`,block:b.block,credits:0,courseCount:0});const y=g.get(b.term);y.credits+=b.credits,y.courseCount+=1}return g},[t]);return{courses:t,sections:r,loading:n,getCourseById:g=>t.find(b=>b.id===g),getSectionsByCourse:g=>{var y;if(Array.isArray(r))return r.filter(h=>h.courseId===g);const b=(y=r==null?void 0:r.courses)==null?void 0:y.find(h=>h.id===g);return(b==null?void 0:b.sections)??[]},getCoursesByTerm:g=>t.filter(b=>b.term===g),getElectivesByType:g=>t.filter(b=>b.isElective&&b.electiveType===g),getAllTerms:()=>Array.from(i.values()).sort((g,b)=>g.term-b.term)}}const Yi="medicina-course-plan";function vx(){const[t,e]=f.useState([]);f.useEffect(()=>{const y=localStorage.getItem(Yi);if(y)try{const h=JSON.parse(y);e(h)}catch(h){console.error("Error loading course plan:",h)}},[]);const r=y=>{e(y),localStorage.setItem(Yi,JSON.stringify(y))},s=(y,h,v,x=1)=>{const p=[...t],w=p.findIndex(S=>S.courseId===y);w>=0?p[w]={courseId:y,plannedTerm:h,sectionId:v,priority:x}:p.push({courseId:y,plannedTerm:h,sectionId:v,priority:x}),r(p)},n=y=>{const h=t.filter(v=>v.courseId!==y);r(h)},o=(y,h)=>{const v=t.map(x=>x.courseId===y?{...x,sectionId:h}:x);r(v)},i=y=>{const h=[],v=t.filter(x=>x.sectionId).map(x=>y.find(p=>p.id===x.sectionId)).filter(x=>x!==void 0);for(let x=0;x<v.length;x++)for(let p=x+1;p<v.length;p++){const w=v[x],S=v[p],C=c(w,S);C&&h.push({course1:w.courseId,course2:S.courseId,conflictTime:C})}return h},c=(y,h)=>{for(const v of y.schedule)for(const x of h.schedule)if(v.day===x.day){const p=l(v.startTime),w=l(v.endTime),S=l(x.startTime),C=l(x.endTime);if(p<C&&w>S)return`${v.day} ${v.startTime}-${v.endTime}`}return null},l=y=>{const[h,v]=y.split(":").map(Number);return h*60+v},d=()=>new Set(t.map(y=>y.courseId)),u=(y,h)=>t.filter(v=>v.plannedTerm===y).reduce((v,x)=>{const p=h.find(w=>w.id===x.courseId);return v+((p==null?void 0:p.credits)||0)},0),m=(y,h,v,x,p=22)=>{const w=u(y,h),S=p-w,C=[];let N=0;const T=new Set(t.map(M=>M.courseId)),k=g(h,v,T),P=new Set,L=M=>{for(const O of k){if(O.some($=>P.has($)))continue;const F=O.map($=>h.find(J=>J.id===$)).filter(Boolean);if(F.length===0||!F.some(M))continue;const I=F.reduce(($,J)=>$+J.credits,0);if(N+I>S)continue;let X=!1;if(F.length===1){const $=F[0];X=x($,v,T)==="available"&&(!$.isElective||b($,y))}else{const $=new Set([...Array.from(T),...O]);X=F.every(J=>x(J,v,$)==="available"&&(!J.isElective||b(J,y)))}X&&(O.forEach($=>{C.push($),P.add($)}),N+=I)}};return L(M=>M.term===y&&!M.isElective),L(M=>M.isElective&&b(M,y)),L(M=>M.term<y&&!M.isElective),C},g=(y,h,v)=>{const x=[],p=new Set;for(const w of y)if(!(p.has(w.id)||h.has(w.id)||v.has(w.id)))if(!w.corequisites||w.corequisites.length===0)x.push([w.id]),p.add(w.id);else{const S=new Set([w.id]),C=[...w.corequisites];for(;C.length>0;){const T=C.shift();if(!S.has(T)&&!h.has(T)&&!v.has(T)){S.add(T);const k=y.find(P=>P.id===T);k&&k.corequisites&&k.corequisites.forEach(P=>{S.has(P)||C.push(P)})}}const N=Array.from(S);x.push(N),N.forEach(T=>p.add(T))}return x},b=(y,h)=>y.isElective?y.electiveType==="general"&&h>=6||y.electiveType==="professional"&&y.term<=11&&h>=11||y.electiveType==="professional"&&y.term>11&&h>=15:!1;return{coursePlan:t,addCourseToPlan:s,removeCourseFromPlan:n,updateSectionSelection:o,detectScheduleConflicts:i,getCoursesInPlan:d,getPlannedTermCredits:u,suggestCoursesForTerm:m,isElectiveAvailableForTerm:b,buildCorequisiteClusters:g}}function yx({filters:t,onCourseSelect:e,selectedCourse:r,onShowPlanModal:s}){const{courses:n,getAllTerms:o}=Qd(),{getCourseStatus:i,passedCourses:c,getPlannedCourses:l}=po(),{getCoursesInPlan:d}=vx(),u=d(),m=l(),g=o(),b=f.useMemo(()=>n.filter(p=>{if(t.term&&p.term!==t.term||t.status&&i(p,c,m)!==t.status||t.electivesOnly&&!p.isElective||t.inPlanOnly&&!u.has(p.id))return!1;if(t.searchTerm){const w=t.searchTerm.toLowerCase();if(!p.id.toLowerCase().includes(w)&&!p.name.toLowerCase().includes(w))return!1}return!0}),[n,t,c,u,m]),y=f.useMemo(()=>{const p=new Map,w=new Map;return b.forEach(C=>{if(C.isElective){const T={general:6,professional:C.term>11?15:11}[C.electiveType]||C.term;if(!w.has(T)){const k=C.electiveType==="general"?"Electivas Generales":T===11?"Electivas Profesionalizantes - Ciencias Bsicas":"Electivas Profesionalizantes - Ciencias Clnicas";w.set(T,{term:T,name:k,block:"ELECTIVAS",courses:[],isElective:!0,electiveType:C.electiveType})}w.get(T).courses.push(C)}else{if(!p.has(C.term)){const N=g.find(T=>T.term===C.term);p.set(C.term,{term:C.term,name:(N==null?void 0:N.name)||`Cuatrimestre ${C.term}`,block:(N==null?void 0:N.block)||C.block,courses:[],isElective:!1})}p.get(C.term).courses.push(C)}}),[...Array.from(p.values()),...Array.from(w.values())].sort((C,N)=>C.term!==N.term?C.term-N.term:C.isElective?1:-1)},[b,g]),h=p=>{switch(i(p,c,m)){case"available":return a.jsx(Ct,{variant:"default",className:"pill ok",children:"Disponible"});case"blocked":return a.jsx(Ct,{variant:"destructive",className:"pill bad",children:"Bloqueada"});case"passed":return a.jsx(Ct,{variant:"secondary",className:"pill passed",children:"Aprobada"})}},v=p=>{if(!p.isElective)return null;const w=p.electiveType==="general"?"tag-elec gen":"tag-elec professional",S=p.electiveType==="general"?"General":"Profesionalizante";return a.jsxs("span",{className:`tag ${w}`,children:["Electiva  ",S]})},x=()=>{s()};return a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-border bg-background",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Catlogo de Materias"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"course-count",children:[b.length," materias"]}),a.jsx(ce,{size:"sm",onClick:x,"data-testid":"suggest-plan-btn",children:"Sugerir Plan"})]})]})}),a.jsx("div",{className:"flex-1 p-6 space-y-8",children:y.map(p=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:ee("sticky-header mobile-sticky-header py-4 px-6 -mx-6 bg-background/95 backdrop-blur-sm border-b border-border",p.isElective&&"bg-orange-50/80 dark:bg-orange-950/30 border-orange-200 dark:border-orange-800"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:ee("w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",p.isElective?"bg-orange-500 text-white":"bg-primary text-primary-foreground"),children:p.isElective?"":p.term}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:p.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.block,"  ",p.courses.length," materias  ",p.courses.reduce((w,S)=>w+S.credits,0)," crditos",p.isElective&&"  Elige tus electivas"]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.courses.map(w=>{const S=i(w,c,m),C=S==="passed",N=S==="blocked",T=(r==null?void 0:r.id)===w.id;return a.jsx("div",{className:"space-y-0",children:a.jsxs(Tt,{className:ee("cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02]",C&&"ring-2 ring-green-200 bg-green-50/50 dark:ring-green-800 dark:bg-green-950/20",N&&"opacity-60 bg-muted/30",T&&"ring-2 ring-primary bg-accent",p.isElective&&!C&&"border-orange-200 dark:border-orange-800"),onClick:()=>e(w),"data-testid":`course-item-${w.id}`,children:[a.jsx(pr,{className:"pb-3",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(gr,{className:"text-sm font-semibold text-primary truncate flex-1 min-w-0",children:w.id}),a.jsx("div",{className:"flex-shrink-0",children:h(w)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm text-foreground font-medium line-clamp-3 leading-tight break-words",children:w.name}),v(w)]})]})}),a.jsx(Et,{className:"pt-0 space-y-3",children:a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsxs("div",{children:[w.credits," crditos"]}),a.jsxs("div",{children:["HT: ",w.theoreticalHours,"  HP: ",w.practicalHours]})]})})]})},w.id)})})]},`${p.term}-${p.isElective?"elective":"regular"}`))})]})}const vo=zf,Yd=Bf,bx=Hf,Xd=f.forwardRef(({className:t,...e},r)=>a.jsx(Mc,{ref:r,className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Xd.displayName=Mc.displayName;const gn=f.forwardRef(({className:t,children:e,...r},s)=>a.jsxs(bx,{children:[a.jsx(Xd,{}),a.jsxs(Ic,{ref:s,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs($f,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Dn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gn.displayName=Ic.displayName;const xn=({className:t,...e})=>a.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xn.displayName="DialogHeader";const Jd=({className:t,...e})=>a.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Jd.displayName="DialogFooter";const vn=f.forwardRef(({className:t,...e},r)=>a.jsx(Dc,{ref:r,className:ee("text-lg font-semibold leading-none tracking-tight",t),...e}));vn.displayName=Dc.displayName;const eu=f.forwardRef(({className:t,...e},r)=>a.jsx(Fc,{ref:r,className:ee("text-sm text-muted-foreground",t),...e}));eu.displayName=Fc.displayName;function tu(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var wx=[" ","Enter","ArrowUp","ArrowDown"],Sx=[" ","Enter"],yn="Select",[yo,bo,Cx]=kc(yn),[As,Cb]=Zr(yn,[Cx,fo]),wo=fo(),[jx,_r]=As(yn),[_x,Nx]=As(yn),ru=t=>{const{__scopeSelect:e,children:r,open:s,defaultOpen:n,onOpenChange:o,value:i,defaultValue:c,onValueChange:l,dir:d,name:u,autoComplete:m,disabled:g,required:b,form:y}=t,h=wo(e),[v,x]=f.useState(null),[p,w]=f.useState(null),[S,C]=f.useState(!1),N=Oc(d),[T=!1,k]=On({prop:s,defaultProp:n,onChange:o}),[P,L]=On({prop:i,defaultProp:c,onChange:l}),M=f.useRef(null),O=v?y||!!v.closest("form"):!0,[F,I]=f.useState(new Set),X=Array.from(F).map($=>$.props.value).join(";");return a.jsx(kg,{...h,children:a.jsxs(jx,{required:b,scope:e,trigger:v,onTriggerChange:x,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:ja(),value:P,onValueChange:L,open:T,onOpenChange:k,dir:N,triggerPointerDownPosRef:M,disabled:g,children:[a.jsx(yo.Provider,{scope:e,children:a.jsx(_x,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback($=>{I(J=>new Set(J).add($))},[]),onNativeOptionRemove:f.useCallback($=>{I(J=>{const G=new Set(J);return G.delete($),G})},[]),children:r})}),O?a.jsxs(Tu,{"aria-hidden":!0,required:b,tabIndex:-1,name:u,autoComplete:m,value:P,onChange:$=>L($.target.value),disabled:g,form:y,children:[P===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},X):null]})})};ru.displayName=yn;var su="SelectTrigger",nu=f.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:s=!1,...n}=t,o=wo(r),i=_r(su,r),c=i.disabled||s,l=Me(e,i.onTriggerChange),d=bo(r),u=f.useRef("touch"),[m,g,b]=Eu(h=>{const v=d().filter(w=>!w.disabled),x=v.find(w=>w.value===i.value),p=ku(v,h,x);p!==void 0&&i.onValueChange(p.value)}),y=h=>{c||(i.onOpenChange(!0),b()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return a.jsx(wd,{asChild:!0,...o,children:a.jsx(be.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Nu(i.value)?"":void 0,...n,ref:l,onClick:le(n.onClick,h=>{h.currentTarget.focus(),u.current!=="mouse"&&y(h)}),onPointerDown:le(n.onPointerDown,h=>{u.current=h.pointerType;const v=h.target;v.hasPointerCapture(h.pointerId)&&v.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(y(h),h.preventDefault())}),onKeyDown:le(n.onKeyDown,h=>{const v=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&g(h.key),!(v&&h.key===" ")&&wx.includes(h.key)&&(y(),h.preventDefault())})})})});nu.displayName=su;var ou="SelectValue",au=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:n,children:o,placeholder:i="",...c}=t,l=_r(ou,r),{onValueNodeHasChildrenChange:d}=l,u=o!==void 0,m=Me(e,l.onValueNodeChange);return pt(()=>{d(u)},[d,u]),a.jsx(be.span,{...c,ref:m,style:{pointerEvents:"none"},children:Nu(l.value)?a.jsx(a.Fragment,{children:i}):o})});au.displayName=ou;var Tx="SelectIcon",iu=f.forwardRef((t,e)=>{const{__scopeSelect:r,children:s,...n}=t;return a.jsx(be.span,{"aria-hidden":!0,...n,ref:e,children:s||""})});iu.displayName=Tx;var Ex="SelectPortal",cu=t=>a.jsx(Ac,{asChild:!0,...t});cu.displayName=Ex;var Hr="SelectContent",lu=f.forwardRef((t,e)=>{const r=_r(Hr,t.__scopeSelect),[s,n]=f.useState();if(pt(()=>{n(new DocumentFragment)},[]),!r.open){const o=s;return o?hn.createPortal(a.jsx(du,{scope:t.__scopeSelect,children:a.jsx(yo.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),o):null}return a.jsx(uu,{...t,ref:e})});lu.displayName=Hr;var bt=10,[du,Nr]=As(Hr),kx="SelectContentImpl",Ax=Kf("SelectContent.RemoveScroll"),uu=f.forwardRef((t,e)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:o,onPointerDownOutside:i,side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:h,avoidCollisions:v,...x}=t,p=_r(Hr,r),[w,S]=f.useState(null),[C,N]=f.useState(null),T=Me(e,U=>S(U)),[k,P]=f.useState(null),[L,M]=f.useState(null),O=bo(r),[F,I]=f.useState(!1),X=f.useRef(!1);f.useEffect(()=>{if(w)return Uf(w)},[w]),qf();const $=f.useCallback(U=>{const[se,...Pe]=O().map(fe=>fe.ref.current),[we]=Pe.slice(-1),ae=document.activeElement;for(const fe of U)if(fe===ae||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===se&&C&&(C.scrollTop=0),fe===we&&C&&(C.scrollTop=C.scrollHeight),fe==null||fe.focus(),document.activeElement!==ae))return},[O,C]),J=f.useCallback(()=>$([k,w]),[$,k,w]);f.useEffect(()=>{F&&J()},[F,J]);const{onOpenChange:G,triggerPointerDownPosRef:ie}=p;f.useEffect(()=>{if(w){let U={x:0,y:0};const se=we=>{var ae,fe;U={x:Math.abs(Math.round(we.pageX)-(((ae=ie.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(we.pageY)-(((fe=ie.current)==null?void 0:fe.y)??0))}},Pe=we=>{U.x<=10&&U.y<=10?we.preventDefault():w.contains(we.target)||G(!1),document.removeEventListener("pointermove",se),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[w,G,ie]),f.useEffect(()=>{const U=()=>G(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[G]);const[Te,A]=Eu(U=>{const se=O().filter(ae=>!ae.disabled),Pe=se.find(ae=>ae.ref.current===document.activeElement),we=ku(se,U,Pe);we&&setTimeout(()=>we.ref.current.focus())}),K=f.useCallback((U,se,Pe)=>{const we=!X.current&&!Pe;(p.value!==void 0&&p.value===se||we)&&(P(U),we&&(X.current=!0))},[p.value]),te=f.useCallback(()=>w==null?void 0:w.focus(),[w]),ue=f.useCallback((U,se,Pe)=>{const we=!X.current&&!Pe;(p.value!==void 0&&p.value===se||we)&&M(U)},[p.value]),Se=s==="popper"?fa:fu,Ee=Se===fa?{side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:h,avoidCollisions:v}:{};return a.jsx(du,{scope:r,content:w,viewport:C,onViewportChange:N,itemRefCallback:K,selectedItem:k,onItemLeave:te,itemTextRefCallback:ue,focusSelectedItem:J,selectedItemText:L,position:s,isPositioned:F,searchRef:Te,children:a.jsx(Zf,{as:Ax,allowPinchZoom:!0,children:a.jsx(Wf,{asChild:!0,trapped:p.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:le(n,U=>{var se;(se=p.trigger)==null||se.focus({preventScroll:!0}),U.preventDefault()}),children:a.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:a.jsx(Se,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:U=>U.preventDefault(),...x,...Ee,onPlaced:()=>I(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:le(x.onKeyDown,U=>{const se=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!se&&U.key.length===1&&A(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let we=O().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(U.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const ae=U.target,fe=we.indexOf(ae);we=we.slice(fe+1)}setTimeout(()=>$(we)),U.preventDefault()}})})})})})})});uu.displayName=kx;var Px="SelectItemAlignedPosition",fu=f.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:s,...n}=t,o=_r(Hr,r),i=Nr(Hr,r),[c,l]=f.useState(null),[d,u]=f.useState(null),m=Me(e,T=>u(T)),g=bo(r),b=f.useRef(!1),y=f.useRef(!0),{viewport:h,selectedItem:v,selectedItemText:x,focusSelectedItem:p}=i,w=f.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&d&&h&&v&&x){const T=o.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),L=x.getBoundingClientRect();if(o.dir!=="rtl"){const ae=L.left-k.left,fe=P.left-ae,ke=T.left-fe,Ce=T.width+ke,Ue=Math.max(Ce,k.width),Re=window.innerWidth-bt,at=ua(fe,[bt,Math.max(bt,Re-Ue)]);c.style.minWidth=Ce+"px",c.style.left=at+"px"}else{const ae=k.right-L.right,fe=window.innerWidth-P.right-ae,ke=window.innerWidth-T.right-fe,Ce=T.width+ke,Ue=Math.max(Ce,k.width),Re=window.innerWidth-bt,at=ua(fe,[bt,Math.max(bt,Re-Ue)]);c.style.minWidth=Ce+"px",c.style.right=at+"px"}const M=g(),O=window.innerHeight-bt*2,F=h.scrollHeight,I=window.getComputedStyle(d),X=parseInt(I.borderTopWidth,10),$=parseInt(I.paddingTop,10),J=parseInt(I.borderBottomWidth,10),G=parseInt(I.paddingBottom,10),ie=X+$+F+G+J,Te=Math.min(v.offsetHeight*5,ie),A=window.getComputedStyle(h),K=parseInt(A.paddingTop,10),te=parseInt(A.paddingBottom,10),ue=T.top+T.height/2-bt,Se=O-ue,Ee=v.offsetHeight/2,U=v.offsetTop+Ee,se=X+$+U,Pe=ie-se;if(se<=ue){const ae=M.length>0&&v===M[M.length-1].ref.current;c.style.bottom="0px";const fe=d.clientHeight-h.offsetTop-h.offsetHeight,ke=Math.max(Se,Ee+(ae?te:0)+fe+J),Ce=se+ke;c.style.height=Ce+"px"}else{const ae=M.length>0&&v===M[0].ref.current;c.style.top="0px";const ke=Math.max(ue,X+h.offsetTop+(ae?K:0)+Ee)+Pe;c.style.height=ke+"px",h.scrollTop=se-ue+h.offsetTop}c.style.margin=`${bt}px 0`,c.style.minHeight=Te+"px",c.style.maxHeight=O+"px",s==null||s(),requestAnimationFrame(()=>b.current=!0)}},[g,o.trigger,o.valueNode,c,d,h,v,x,o.dir,s]);pt(()=>w(),[w]);const[S,C]=f.useState();pt(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const N=f.useCallback(T=>{T&&y.current===!0&&(w(),p==null||p(),y.current=!1)},[w,p]);return a.jsx(Ox,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:N,children:a.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(be.div,{...n,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});fu.displayName=Px;var Rx="SelectPopperPosition",fa=f.forwardRef((t,e)=>{const{__scopeSelect:r,align:s="start",collisionPadding:n=bt,...o}=t,i=wo(r);return a.jsx(Sd,{...i,...o,ref:e,align:s,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fa.displayName=Rx;var[Ox,Xa]=As(Hr,{}),ha="SelectViewport",hu=f.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:s,...n}=t,o=Nr(ha,r),i=Xa(ha,r),c=Me(e,o.onViewportChange),l=f.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(yo.Slot,{scope:r,children:a.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:le(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&m){const b=Math.abs(l.current-u.scrollTop);if(b>0){const y=window.innerHeight-bt*2,h=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),x=Math.max(h,v);if(x<y){const p=x+b,w=Math.min(y,p),S=p-w;m.style.height=w+"px",m.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});hu.displayName=ha;var mu="SelectGroup",[Mx,Ix]=As(mu),Dx=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,n=ja();return a.jsx(Mx,{scope:r,id:n,children:a.jsx(be.div,{role:"group","aria-labelledby":n,...s,ref:e})})});Dx.displayName=mu;var pu="SelectLabel",gu=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,n=Ix(pu,r);return a.jsx(be.div,{id:n.id,...s,ref:e})});gu.displayName=pu;var Bn="SelectItem",[Fx,xu]=As(Bn),vu=f.forwardRef((t,e)=>{const{__scopeSelect:r,value:s,disabled:n=!1,textValue:o,...i}=t,c=_r(Bn,r),l=Nr(Bn,r),d=c.value===s,[u,m]=f.useState(o??""),[g,b]=f.useState(!1),y=Me(e,p=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,p,s,n)}),h=ja(),v=f.useRef("touch"),x=()=>{n||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Fx,{scope:r,value:s,disabled:n,textId:h,isSelected:d,onItemTextChange:f.useCallback(p=>{m(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:a.jsx(yo.ItemSlot,{scope:r,value:s,disabled:n,textValue:u,children:a.jsx(be.div,{role:"option","aria-labelledby":h,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:y,onFocus:le(i.onFocus,()=>b(!0)),onBlur:le(i.onBlur,()=>b(!1)),onClick:le(i.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:le(i.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:le(i.onPointerDown,p=>{v.current=p.pointerType}),onPointerMove:le(i.onPointerMove,p=>{var w;v.current=p.pointerType,n?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(i.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:le(i.onKeyDown,p=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&p.key===" "||(Sx.includes(p.key)&&x(),p.key===" "&&p.preventDefault())})})})})});vu.displayName=Bn;var Ds="SelectItemText",yu=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:n,...o}=t,i=_r(Ds,r),c=Nr(Ds,r),l=xu(Ds,r),d=Nx(Ds,r),[u,m]=f.useState(null),g=Me(e,x=>m(x),l.onItemTextChange,x=>{var p;return(p=c.itemTextRefCallback)==null?void 0:p.call(c,x,l.value,l.disabled)}),b=u==null?void 0:u.textContent,y=f.useMemo(()=>a.jsx("option",{value:l.value,disabled:l.disabled,children:b},l.value),[l.disabled,l.value,b]),{onNativeOptionAdd:h,onNativeOptionRemove:v}=d;return pt(()=>(h(y),()=>v(y)),[h,v,y]),a.jsxs(a.Fragment,{children:[a.jsx(be.span,{id:l.textId,...o,ref:g}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?hn.createPortal(o.children,i.valueNode):null]})});yu.displayName=Ds;var bu="SelectItemIndicator",wu=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return xu(bu,r).isSelected?a.jsx(be.span,{"aria-hidden":!0,...s,ref:e}):null});wu.displayName=bu;var ma="SelectScrollUpButton",Su=f.forwardRef((t,e)=>{const r=Nr(ma,t.__scopeSelect),s=Xa(ma,t.__scopeSelect),[n,o]=f.useState(!1),i=Me(e,s.onScrollButtonChange);return pt(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollTop>0;o(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),n?a.jsx(ju,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});Su.displayName=ma;var pa="SelectScrollDownButton",Cu=f.forwardRef((t,e)=>{const r=Nr(pa,t.__scopeSelect),s=Xa(pa,t.__scopeSelect),[n,o]=f.useState(!1),i=Me(e,s.onScrollButtonChange);return pt(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<d;o(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),n?a.jsx(ju,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});Cu.displayName=pa;var ju=f.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:s,...n}=t,o=Nr("SelectScrollButton",r),i=f.useRef(null),c=bo(r),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),pt(()=>{var u;const d=c().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[c]),a.jsx(be.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:le(n.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:le(n.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:le(n.onPointerLeave,()=>{l()})})}),Lx="SelectSeparator",_u=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return a.jsx(be.div,{"aria-hidden":!0,...s,ref:e})});_u.displayName=Lx;var ga="SelectArrow",Vx=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,n=wo(r),o=_r(ga,r),i=Nr(ga,r);return o.open&&i.position==="popper"?a.jsx(Cd,{...n,...s,ref:e}):null});Vx.displayName=ga;function Nu(t){return t===""||t===void 0}var Tu=f.forwardRef((t,e)=>{const{value:r,...s}=t,n=f.useRef(null),o=Me(e,n),i=tu(r);return f.useEffect(()=>{const c=n.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==r&&u){const m=new Event("change",{bubbles:!0});u.call(c,r),c.dispatchEvent(m)}},[i,r]),a.jsx(mn,{asChild:!0,children:a.jsx("select",{...s,ref:o,defaultValue:r})})});Tu.displayName="BubbleSelect";function Eu(t){const e=ft(t),r=f.useRef(""),s=f.useRef(0),n=f.useCallback(i=>{const c=r.current+i;e(c),function l(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(c)},[e]),o=f.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,n,o]}function ku(t,e,r){const n=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let i=$x(t,Math.max(o,0));n.length===1&&(i=i.filter(d=>d!==r));const l=i.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==r?l:void 0}function $x(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var zx=ru,Au=nu,Hx=au,Bx=iu,Ux=cu,Pu=lu,qx=hu,Ru=gu,Ou=vu,Zx=yu,Wx=wu,Mu=Su,Iu=Cu,Du=_u;const Ja=zx,ei=Hx,So=f.forwardRef(({className:t,children:e,...r},s)=>a.jsxs(Au,{ref:s,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(Bx,{asChild:!0,children:a.jsx($l,{className:"h-4 w-4 opacity-50"})})]}));So.displayName=Au.displayName;const Fu=f.forwardRef(({className:t,...e},r)=>a.jsx(Mu,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Om,{className:"h-4 w-4"})}));Fu.displayName=Mu.displayName;const Lu=f.forwardRef(({className:t,...e},r)=>a.jsx(Iu,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx($l,{className:"h-4 w-4"})}));Lu.displayName=Iu.displayName;const Co=f.forwardRef(({className:t,children:e,position:r="popper",...s},n)=>a.jsx(Ux,{children:a.jsxs(Pu,{ref:n,className:ee("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[a.jsx(Fu,{}),a.jsx(qx,{className:ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(Lu,{})]})}));Co.displayName=Pu.displayName;const Kx=f.forwardRef(({className:t,...e},r)=>a.jsx(Ru,{ref:r,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Kx.displayName=Ru.displayName;const jo=f.forwardRef(({className:t,children:e,...r},s)=>a.jsxs(Ou,{ref:s,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Wx,{children:a.jsx(Vl,{className:"h-4 w-4"})})}),a.jsx(Zx,{children:e})]}));jo.displayName=Ou.displayName;const Gx=f.forwardRef(({className:t,...e},r)=>a.jsx(Du,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",t),...e}));Gx.displayName=Du.displayName;var Qx="Label",Vu=f.forwardRef((t,e)=>a.jsx(be.label,{...t,ref:e,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Vu.displayName=Qx;var $u=Vu;const Yx=io("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ti=f.forwardRef(({className:t,...e},r)=>a.jsx($u,{ref:r,className:ee(Yx(),t),...e}));ti.displayName=$u.displayName;const Xx=[{value:"A",label:"A (4.0)"},{value:"B",label:"B (3.0)"},{value:"C",label:"C (2.0)"},{value:"D",label:"D (1.0)"},{value:"F",label:"F (0.0)"}];function Jx({open:t,onClose:e,onConfirm:r,courseName:s}){const[n,o]=f.useState(""),i=()=>{n&&(r(n),o(""),e())},c=()=>{o(""),e()};return a.jsx(vo,{open:t,onOpenChange:e,children:a.jsxs(gn,{className:"sm:max-w-md",children:[a.jsx(xn,{children:a.jsxs(vn,{children:["Ingresa la calificacion para ",s]})}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(ti,{htmlFor:"grade-select",children:"Calificacin"}),a.jsxs(Ja,{value:n,onValueChange:o,children:[a.jsx(So,{id:"grade-select","data-testid":"grade-select",children:a.jsx(ei,{placeholder:"Selecciona una calificacin"})}),a.jsx(Co,{children:Xx.map(l=>a.jsx(jo,{value:l.value,"data-testid":`grade-${l.value}`,children:l.label},l.value))})]})]})}),a.jsxs(Jd,{children:[a.jsx(ce,{variant:"outline",onClick:c,"data-testid":"grade-cancel",children:"Cancelar"}),a.jsx(ce,{onClick:i,disabled:!n,"data-testid":"grade-confirm",children:"Marcar como Aprobada"})]})]})})}function Xi({course:t}){const{getCourseById:e}=Qd(),{getCourseStatus:r,getPassedCourses:s,getPlannedCourses:n,markCoursePassed:o,removeCourseProgress:i}=po(),[c,l]=f.useState(!1);if(!t)return null;const d=s(),u=n(),m=r(t,d,u),g=m==="passed",b=m==="blocked",y=()=>{switch(m){case"available":return a.jsx(Ct,{variant:"default",className:"pill ok",children:"Disponible"});case"blocked":return a.jsx(Ct,{variant:"destructive",className:"pill bad",children:"Bloqueada"});case"passed":return a.jsx(Ct,{variant:"secondary",className:"pill passed",children:"Aprobada"})}},h=()=>{if(!t.isElective)return null;const S=t.electiveType==="general"?"tag-elec gen":"tag-elec professional",C=t.electiveType==="general"?"General":"Profesionalizante";return a.jsxs("span",{className:`tag ${S}`,children:["Electiva  ",C]})},v=()=>{l(!0)},x=()=>{i(t.id)},p=S=>{o(t.id,S),l(!1)},w=()=>{l(!1)};return a.jsxs("div",{className:"space-y-4 p-4 h-full overflow-y-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"space-y-2",children:a.jsxs("h3",{className:"text-sm font-semibold text-foreground leading-tight break-words",children:[t.id," - ",t.name]})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[y(),h()]}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("div",{children:t.block}),a.jsxs("div",{children:[t.credits," crditos  HT ",t.theoreticalHours,"  HP ",t.practicalHours]})]}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3 leading-relaxed",children:t.description||"Sin descripcin disponible."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-foreground mb-2 text-sm",children:"Prerrequisitos"}),a.jsx("div",{className:"space-y-2",children:t.prerequisites.length>0?t.prerequisites.map(S=>{const C=e(S);return a.jsxs("div",{className:"text-xs","data-testid":`prereq-${S}`,children:[a.jsx(Ct,{variant:"outline",className:"text-xs mr-2",children:S}),C&&a.jsx("span",{className:"text-muted-foreground break-words",children:C.name})]},S)}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Ninguno"})}),t.prerequisites.length>0&&a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Debes completar estas materias antes de tomar esta."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-foreground mb-2 text-sm",children:"Correquisitos"}),a.jsx("div",{className:"space-y-2",children:t.corequisites.length>0?t.corequisites.map(S=>{const C=e(S);return a.jsxs("div",{className:"text-xs","data-testid":`coreq-${S}`,children:[a.jsx(Ct,{variant:"outline",className:"text-xs mr-2",children:S}),C&&a.jsx("span",{className:"text-muted-foreground break-words",children:C.name})]},S)}):a.jsx("span",{className:"text-xs text-muted-foreground",children:"Ninguno"})}),t.corequisites.length>0&&a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Debes tomar estas materias al mismo tiempo."})]})]}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx("h4",{className:"font-medium text-foreground text-sm mb-3",children:"Gestin de Calificaciones"}),a.jsxs("div",{className:"space-y-2",children:[g?a.jsx(ce,{size:"sm",variant:"destructive",onClick:x,"data-testid":`undo-passed-${t.id}`,className:"w-full",children:" Deshacer Aprobacin"}):a.jsx(ce,{size:"sm",variant:"default",disabled:b,onClick:v,"data-testid":`mark-passed-${t.id}`,className:"w-full",children:" Marcar como Aprobada"}),b&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Completa los prerrequisitos para poder aprobar esta materia."})]})]}),a.jsx(Jx,{open:c,onClose:w,onConfirm:p,courseName:`${t.id} - ${t.name}`})]})}function ev(){const[t,e]=f.useState(!1),[r,s]=f.useState(!1),{toast:n}=no();f.useEffect(()=>{const i=new URLSearchParams(window.location.search);e(i.has("admin"))},[]);const o=async()=>{if(confirm("This will load all courses and sections from the JSON files into the database. Continue?")){s(!0);try{const c=await(await Dr("POST","/api/admin/seed-database")).json();n({title:"Success!",description:c.message})}catch(i){n({title:"Error",description:"Failed to seed database. Check console for details.",variant:"destructive"}),console.error("Seed error:",i)}finally{s(!1)}}};return t?a.jsxs(Tt,{className:"fixed bottom-4 right-4 w-80 shadow-lg z-50","data-testid":"admin-panel",children:[a.jsx(pr,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(gr,{className:"text-sm font-semibold flex items-center gap-2",children:[a.jsx(Lm,{className:"h-4 w-4"}),"Admin Panel"]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"?admin=true"})]})}),a.jsxs(Et,{className:"space-y-3",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Manage courses and sections in the system"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ys,{href:"/admin/courses",children:a.jsx(ce,{size:"sm",className:"w-full text-xs","data-testid":"admin-courses-btn",children:"Manage Courses"})}),a.jsx(ys,{href:"/admin/sections",children:a.jsx(ce,{size:"sm",variant:"outline",className:"w-full text-xs","data-testid":"admin-sections-btn",children:"Manage Sections"})}),a.jsxs(ce,{size:"sm",variant:"secondary",className:"w-full text-xs",onClick:o,disabled:r,"data-testid":"admin-seed-btn",children:[a.jsx(Mm,{className:"h-3 w-3 mr-1"}),r?"Seeding...":"Seed Database"]})]})]})]}):null}var ri="Progress",si=100,[tv,jb]=Zr(ri),[rv,sv]=tv(ri),zu=f.forwardRef((t,e)=>{const{__scopeProgress:r,value:s=null,max:n,getValueLabel:o=nv,...i}=t;(n||n===0)&&!Ji(n)&&console.error(ov(`${n}`,"Progress"));const c=Ji(n)?n:si;s!==null&&!ec(s,c)&&console.error(av(`${s}`,"Progress"));const l=ec(s,c)?s:null,d=Un(l)?o(l,c):void 0;return a.jsx(rv,{scope:r,value:l,max:c,children:a.jsx(be.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Un(l)?l:void 0,"aria-valuetext":d,role:"progressbar","data-state":Uu(l,c),"data-value":l??void 0,"data-max":c,...i,ref:e})})});zu.displayName=ri;var Hu="ProgressIndicator",Bu=f.forwardRef((t,e)=>{const{__scopeProgress:r,...s}=t,n=sv(Hu,r);return a.jsx(be.div,{"data-state":Uu(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:e})});Bu.displayName=Hu;function nv(t,e){return`${Math.round(t/e*100)}%`}function Uu(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Un(t){return typeof t=="number"}function Ji(t){return Un(t)&&!isNaN(t)&&t>0}function ec(t,e){return Un(t)&&!isNaN(t)&&t<=e&&t>=0}function ov(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${si}\`.`}function av(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${si} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qu=zu,iv=Bu;const xa=f.forwardRef(({className:t,value:e,...r},s)=>a.jsx(qu,{ref:s,className:ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(iv,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));xa.displayName=qu.displayName;function cv(){const{passedCourses:t,calculateGPA:e}=po(),[r,s]=f.useState([]),[n,o]=f.useState(!0);if(f.useEffect(()=>{fetch("data/courses.json").then(y=>y.json()).then(y=>{s(y),o(!1)}).catch(y=>{console.error("Error loading courses:",y),o(!1)})},[]),n)return a.jsx("div",{className:"p-8 text-center animate-pulse",children:"Cargando estadsticas..."});const i=r.length,c=t.size,l=i>0?Math.round(c/i*100):0,d=r.reduce((y,h)=>y+(h.credits||0),0),u=r.filter(y=>t.has(y.id)).reduce((y,h)=>y+(h.credits||0),0),m=d>0?Math.round(u/d*100):0,g=e(),b=y=>y>=3.5?"text-emerald-500":y>=3?"text-blue-500":y>=2?"text-yellow-500":"text-red-500";return a.jsxs("div",{className:"p-4 md:p-8 space-y-6 max-w-5xl mx-auto animate-in fade-in duration-500",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight mb-1",children:"Tu Progreso"}),a.jsx("p",{className:"text-muted-foreground",children:"Estadsticas en tiempo real de tu carrera."})]})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(Tt,{className:"relative overflow-hidden",children:[a.jsxs(pr,{className:"pb-2 flex flex-row items-center justify-between space-y-0",children:[a.jsx(gr,{className:"text-sm font-medium text-muted-foreground",children:"Materias Aprobadas"}),a.jsx(Fl,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Et,{children:[a.jsxs("div",{className:"text-3xl font-bold",children:[c," ",a.jsxs("span",{className:"text-muted-foreground text-lg font-normal",children:["/ ",i]})]}),a.jsx(xa,{value:l,className:"h-2 mt-3"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[l,"% completado"]})]})]}),a.jsxs(Tt,{children:[a.jsxs(pr,{className:"pb-2 flex flex-row items-center justify-between space-y-0",children:[a.jsx(gr,{className:"text-sm font-medium text-muted-foreground",children:"Crditos Acumulados"}),a.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Et,{children:[a.jsxs("div",{className:"text-3xl font-bold",children:[u," ",a.jsxs("span",{className:"text-muted-foreground text-lg font-normal",children:["/ ",d]})]}),a.jsx(xa,{value:m,className:"h-2 mt-3"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[m,"% de la carrera"]})]})]}),a.jsxs(Tt,{className:"bg-primary/5 border-primary/20",children:[a.jsxs(pr,{className:"pb-2 flex flex-row items-center justify-between space-y-0",children:[a.jsx(gr,{className:"text-sm font-medium text-primary",children:"ndice Acumulado"}),a.jsx(zm,{className:"h-4 w-4 text-primary"})]}),a.jsxs(Et,{children:[a.jsx("div",{className:`text-4xl font-bold ${b(g)}`,children:g.toFixed(2)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Escala de 0.0 a 4.0"})]})]})]})]})}const qn=t=>t?t.replace(/[^a-zA-Z0-9]/g,"").toUpperCase():"",Tn=t=>{if(!t)return 0;const[e,r]=t.split(":").map(Number);return e*60+r},Zu=(t,e)=>{if(!t.schedule||!e.schedule)return!1;for(const r of t.schedule)for(const s of e.schedule){if(r.day!==s.day)continue;const n=Tn(r.startTime),o=Tn(r.endTime),i=Tn(s.startTime),c=Tn(s.endTime);if(n<c&&i<o)return!0}return!1},lv=(t,e,r,s=31)=>{const n=[...r];let o=n.reduce((c,l)=>{const d=t.find(u=>u.id===l.courseId);return c+((d==null?void 0:d.credits)||0)},0);const i=[...t].sort((c,l)=>c.term!==l.term?c.term-l.term:l.credits-c.credits);for(const c of i){if(n.some(m=>m.courseId===c.id)||o+c.credits>s)continue;const l=qn(c.id),d=e.filter(m=>m.courseId?qn(m.courseId)===l:!1);if(d.length===0)continue;const u=d.find(m=>!n.some(b=>Zu(b.section,m)));if(u&&(n.push({courseId:c.id,sectionCrn:u.crn,section:u}),o+=c.credits),o>=s)break}return n},Wu=Gf,ni=f.forwardRef(({className:t,...e},r)=>a.jsx(Lc,{ref:r,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ni.displayName=Lc.displayName;const Zs=f.forwardRef(({className:t,...e},r)=>a.jsx(Vc,{ref:r,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Zs.displayName=Vc.displayName;const Ws=f.forwardRef(({className:t,...e},r)=>a.jsx($c,{ref:r,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ws.displayName=$c.displayName;function dv(){const{passedCourses:t,getCourseStatus:e}=po(),[r,s]=f.useState([]),[n,o]=f.useState([]),[i,c]=f.useState([]),[l,d]=f.useState(!0),u=S=>{if(!S||S==="00:00")return"";const[C,N]=S.split(":"),T=parseInt(C),k=T>=12?"PM":"AM";return`${T%12||12}:${N} ${k}`},m=S=>S.substring(0,3)+".";f.useEffect(()=>{const S="/medicina-pwa-final/";Promise.all([fetch(`${S}data/courses.json`).then(C=>C.json()),fetch(`${S}data/sections.json`).then(C=>C.json())]).then(([C,N])=>{const T=Array.isArray(C)?C:C.courses||[],k=Array.isArray(N)?N:N.sections||N.courses||[];s(T),o(k);const P=localStorage.getItem("medicina-planner-save");if(P)try{c(JSON.parse(P))}catch(L){console.error(L)}d(!1)}).catch(C=>{console.error("Error cargando datos:",C),d(!1)})},[]),f.useEffect(()=>{l||localStorage.setItem("medicina-planner-save",JSON.stringify(i))},[i,l]);const g=f.useMemo(()=>Array.isArray(r)?r.filter(S=>i.some(N=>N.courseId===S.id)?!1:e(S,t)==="available").sort((S,C)=>S.term-C.term):[],[r,t,i,e]),b=i.reduce((S,C)=>{const N=r.find(T=>T.id===C.courseId);return S+((N==null?void 0:N.credits)||0)},0),y=S=>{if(!Array.isArray(n))return[];const C=qn(S);return n.filter(N=>N.courseId&&qn(N.courseId)===C)},h=(S,C)=>{const N=n.find(k=>k.crn===C);if(!N)return;const T=i.find(k=>Zu(k.section,N));if(T){const k=r.find(P=>P.id===T.courseId);alert(` Choque de horario con ${(k==null?void 0:k.name)||T.courseId}`);return}c([...i,{courseId:S,sectionCrn:C,section:N}])},v=S=>{c(i.filter(C=>C.courseId!==S))},x=()=>{if(!confirm("Generar horario automtico?"))return;const S=lv(g,n,i);S.length===i.length?alert("No se encontraron ms materias compatibles."):c(S)};if(l)return a.jsx("div",{className:"p-8 text-center animate-pulse",children:"Cargando..."});const p=()=>a.jsxs("div",{className:"space-y-4 h-full overflow-y-auto pb-20 md:pb-0",children:[a.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[a.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-sm",children:i.length}),"Seleccionadas"]}),i.length===0?a.jsx("div",{className:"text-center py-8 border-2 border-dashed rounded-xl bg-muted/10",children:a.jsx("p",{className:"text-muted-foreground text-sm",children:"Horario vaco."})}):a.jsx("div",{className:"space-y-3",children:i.map(S=>{var N;const C=r.find(T=>T.id===S.courseId);return C?a.jsx(Tt,{className:"border-l-4 border-l-green-500 shadow-sm",children:a.jsxs(Et,{className:"p-3 flex justify-between items-start gap-2",children:[a.jsxs("div",{className:"overflow-hidden",children:[a.jsx("div",{className:"font-bold text-sm truncate",children:C.name}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[(N=S.section.schedule)==null?void 0:N.map(T=>T.startTime==="00:00"?"Horario Rotativo/Virtual":`${m(T.day)} ${u(T.startTime)} - ${u(T.endTime)}`).join("  "),a.jsx("span",{className:"ml-2 px-1 bg-secondary rounded text-[10px]",children:S.section.room})]})]}),a.jsx(ce,{size:"icon",variant:"ghost",className:"h-6 w-6 text-muted-foreground hover:text-destructive shrink-0",onClick:()=>v(S.courseId),children:a.jsx(Da,{className:"h-4 w-4"})})]})},S.courseId):null})})]}),w=()=>a.jsxs("div",{className:"space-y-4 h-full overflow-y-auto pb-20 md:pb-0",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Disponibles"}),a.jsx("div",{className:"space-y-3",children:g.length===0?a.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No hay materias disponibles."}):g.map(S=>{const C=y(S.id);return a.jsx(Tt,{className:"bg-muted/30",children:a.jsxs(Et,{className:"p-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("div",{className:"text-sm font-medium leading-tight",children:S.name}),a.jsxs(Ct,{variant:"secondary",className:"text-[10px] shrink-0 ml-1",children:[S.credits," Cr."]})]}),C.length>0?a.jsxs(Ja,{onValueChange:N=>h(S.id,N),children:[a.jsx(So,{className:"h-8 text-xs w-full bg-background",children:a.jsx(ei,{placeholder:"Elegir horario..."})}),a.jsx(Co,{children:C.map(N=>{var T,k,P,L,M,O;return a.jsx(jo,{value:N.crn,className:"text-xs",children:((k=(T=N.schedule)==null?void 0:T[0])==null?void 0:k.startTime)==="00:00"?"Horario Especial":`${(L=(P=N.schedule)==null?void 0:P[0])==null?void 0:L.day} ${u(((O=(M=N.schedule)==null?void 0:M[0])==null?void 0:O.startTime)||"")}`},N.crn)})})]}):a.jsxs("div",{className:"text-xs text-amber-500 flex items-center gap-1 bg-amber-50 p-1.5 rounded",children:[a.jsx(zl,{className:"h-3 w-3"})," Sin secciones abiertas"]})]})},S.id)})})]});return a.jsxs("div",{className:"flex flex-col h-full bg-background animate-in fade-in",children:[a.jsxs("div",{className:"p-4 border-b bg-card flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Ll,{className:"h-5 w-5 text-primary"}),"Mi Plan de Estudios"]}),a.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Crditos: ",a.jsx("span",{className:b>31?"text-destructive font-bold":"text-primary font-bold",children:b})," / 31"]})]}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsxs(ce,{onClick:x,className:"w-full md:w-auto bg-violet-600 hover:bg-violet-700 text-white",disabled:b>=31,children:[a.jsx(Vm,{className:"h-4 w-4 mr-2"})," Sugerir Plan"]}),i.length>0&&a.jsx(ce,{variant:"outline",onClick:()=>c([]),className:"text-destructive border-destructive/50",children:"Limpiar"})]})]}),a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsx("div",{className:"md:hidden h-full flex flex-col",children:a.jsxs(Wu,{defaultValue:"available",className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 pt-2 shrink-0",children:a.jsxs(ni,{className:"grid w-full grid-cols-2",children:[a.jsxs(Zs,{value:"selected",children:["Seleccionadas (",i.length,")"]}),a.jsx(Zs,{value:"available",children:"Disponibles"})]})}),a.jsxs("div",{className:"flex-1 overflow-hidden p-4",children:[a.jsx(Ws,{value:"selected",className:"h-full mt-0",children:a.jsx(p,{})}),a.jsx(Ws,{value:"available",className:"h-full mt-0",children:a.jsx(w,{})})]})]})}),a.jsxs("div",{className:"hidden md:grid md:grid-cols-12 h-full gap-6 p-6 overflow-hidden",children:[a.jsx("div",{className:"md:col-span-7 lg:col-span-8 h-full overflow-hidden border rounded-xl p-4 bg-muted/10",children:a.jsx(p,{})}),a.jsx("div",{className:"md:col-span-5 lg:col-span-4 h-full overflow-hidden border rounded-xl p-4 bg-muted/10",children:a.jsx(w,{})})]})]}),a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx("button",{onClick:()=>{confirm(" Ests seguro? Esto borrar TODAS tus materias aprobadas y tu plan guardado. Es irreversible.")&&(localStorage.clear(),window.location.reload())},className:"text-xs text-red-400 hover:text-red-600 underline",children:"Restablecer aplicacin de fbrica"})})]})}function uv(){const[t,e]=f.useState(!0),[r,s]=f.useState(!1),[n,o]=f.useState(!1),[i,c]=f.useState("courses"),[l,d]=f.useState(),[u,m]=f.useState({term:null,status:null,electivesOnly:!1,inPlanOnly:!1,searchTerm:""}),g=f.useRef(null);f.useEffect(()=>{const p=setTimeout(()=>e(!1),2800);return()=>clearTimeout(p)},[]),f.useEffect(()=>{const p=g.current;if(!p)return;const w=()=>o(p.scrollTop>300);return p.addEventListener("scroll",w),()=>p.removeEventListener("scroll",w)},[t]);const b=()=>{var p;return(p=g.current)==null?void 0:p.scrollTo({top:0,behavior:"smooth"})},y=p=>d(p),h=p=>{c(p),s(!1)},v=()=>{var p;c("courses"),s(!1),(p=g.current)==null||p.scrollTo({top:0,behavior:"smooth"})},x=()=>{h("planner")};return t?a.jsxs("div",{className:"fixed inset-0 bg-[#0f172a] z-[100] flex flex-col items-center justify-center animate-fade-out pointer-events-none",children:[a.jsx("div",{className:"p-4 bg-primary/20 rounded-full mb-4 animate-bounce",children:a.jsx($m,{className:"h-16 w-16 text-primary"})}),a.jsx("h1",{className:"text-3xl font-bold text-white tracking-wider",children:"MEDICINA PWA"}),a.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Organizador Curricular"})]}):a.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans antialiased relative",children:[a.jsx(Qg,{onMenuClick:()=>s(!0),onHomeClick:v}),a.jsxs("div",{className:"flex flex-col md:flex-row min-h-[calc(100vh-80px)]",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(Qi,{filters:u,onFiltersChange:m,activeView:i,onViewChange:c,onShowPlanModal:x})}),r&&a.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>s(!1)}),a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-3/4 max-w-xs bg-background shadow-xl border-r p-4 animate-slide-in overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"font-bold text-lg",children:"Men"}),a.jsx("button",{onClick:()=>s(!1),className:"p-2 bg-muted rounded-full",children:a.jsx(Dn,{className:"h-5 w-5"})})]}),a.jsx(Qi,{filters:u,onFiltersChange:m,activeView:i,onViewChange:h,onShowPlanModal:x})]})]}),a.jsxs("main",{ref:g,className:"flex-1 overflow-auto w-full relative h-[calc(100vh-65px)]",children:[i==="progress"?a.jsx(cv,{}):i==="planner"?a.jsx(dv,{}):a.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[a.jsx("div",{className:"w-full md:w-2/3 border-r-0 md:border-r border-border",children:a.jsx(yx,{filters:u,onCourseSelect:y,selectedCourse:l,onShowPlanModal:x})}),a.jsx("div",{className:"hidden md:block md:w-1/3 bg-background sticky top-0 h-screen overflow-y-auto",children:l?a.jsx(Xi,{course:l}):a.jsx("div",{className:"p-6 h-full flex items-center justify-center text-center",children:a.jsx("div",{className:"text-muted-foreground",children:a.jsx("p",{children:"Selecciona una materia para ver detalles"})})})})]}),n&&a.jsx("button",{onClick:b,className:"fixed bottom-6 right-6 z-30 p-3 bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90 transition-all animate-in zoom-in",children:a.jsx(Rm,{className:"h-6 w-6"})})]})]}),l&&i==="courses"&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center bg-black/80 backdrop-blur-sm md:hidden animate-in fade-in",children:a.jsxs("div",{className:"bg-background w-full rounded-t-xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col animate-in slide-in-from-bottom-10",children:[a.jsx("div",{className:"p-2 border-b flex justify-end bg-muted/20",children:a.jsx("button",{onClick:()=>d(void 0),className:"p-2 bg-muted rounded-full",children:a.jsx(Dn,{className:"h-5 w-5"})})}),a.jsx("div",{className:"overflow-y-auto p-1 pb-8",children:a.jsx(Xi,{course:l})})]})}),a.jsx(ev,{})]})}const oi=f.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:ee("w-full caption-bottom text-sm",t),...e})}));oi.displayName="Table";const ai=f.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:ee("[&_tr]:border-b",t),...e}));ai.displayName="TableHeader";const ii=f.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:ee("[&_tr:last-child]:border-0",t),...e}));ii.displayName="TableBody";const fv=f.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));fv.displayName="TableFooter";const Ks=f.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ks.displayName="TableRow";const st=f.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));st.displayName="TableHead";const nt=f.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));nt.displayName="TableCell";const hv=f.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:ee("mt-4 text-sm text-muted-foreground",t),...e}));hv.displayName="TableCaption";var bn=t=>t.type==="checkbox",Er=t=>t instanceof Date,rt=t=>t==null;const Ku=t=>typeof t=="object";var He=t=>!rt(t)&&!Array.isArray(t)&&Ku(t)&&!Er(t),Gu=t=>He(t)&&t.target?bn(t.target)?t.target.checked:t.target.value:t,mv=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Qu=(t,e)=>t.has(mv(e)),pv=t=>{const e=t.constructor&&t.constructor.prototype;return He(e)&&e.hasOwnProperty("isPrototypeOf")},ci=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ge(t){let e;const r=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ci&&(t instanceof Blob||s))&&(r||He(t)))if(e=r?[]:{},!r&&!pv(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Ge(t[n]));else return t;return e}var _o=t=>Array.isArray(t)?t.filter(Boolean):[],ze=t=>t===void 0,H=(t,e,r)=>{if(!e||!He(t))return r;const s=_o(e.split(/[,[\].]+?/)).reduce((n,o)=>rt(n)?n:n[o],t);return ze(s)||s===t?ze(t[e])?r:t[e]:s},dt=t=>typeof t=="boolean",li=t=>/^\w*$/.test(t),Yu=t=>_o(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(t,e,r)=>{let s=-1;const n=li(e)?[e]:Yu(e),o=n.length,i=o-1;for(;++s<o;){const c=n[s];let l=r;if(s!==i){const d=t[c];l=He(d)||Array.isArray(d)?d:isNaN(+n[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=l,t=t[c]}};const Zn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},jt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Xu=ve.createContext(null),No=()=>ve.useContext(Xu),gv=t=>{const{children:e,...r}=t;return ve.createElement(Xu.Provider,{value:r},e)};var Ju=(t,e,r,s=!0)=>{const n={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(n,o,{get:()=>{const i=o;return e._proxyFormState[i]!==jt.all&&(e._proxyFormState[i]=!s||jt.all),r&&(r[i]=!0),t[i]}});return n};function xv(t){const e=No(),{control:r=e.control,disabled:s,name:n,exact:o}=t||{},[i,c]=ve.useState(r._formState),l=ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ve.useRef(n);return d.current=n,ve.useEffect(()=>r._subscribe({name:d.current,formState:l.current,exact:o,callback:u=>{!s&&c({...r._formState,...u})}}),[r,s,o]),ve.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),ve.useMemo(()=>Ju(i,r,l.current,!1),[i,r])}var Lt=t=>typeof t=="string",ef=(t,e,r,s,n)=>Lt(t)?(s&&e.watch.add(t),H(r,t,n)):Array.isArray(t)?t.map(o=>(s&&e.watch.add(o),H(r,o))):(s&&(e.watchAll=!0),r);function vv(t){const e=No(),{control:r=e.control,name:s,defaultValue:n,disabled:o,exact:i}=t||{},c=ve.useRef(s),l=ve.useRef(n);c.current=s,ve.useEffect(()=>r._subscribe({name:c.current,formState:{values:!0},exact:i,callback:m=>!o&&u(ef(c.current,r._names,m.values||r._formValues,!1,l.current))}),[r,o,i]);const[d,u]=ve.useState(r._getWatch(s,n));return ve.useEffect(()=>r._removeUnmounted()),d}function yv(t){const e=No(),{name:r,disabled:s,control:n=e.control,shouldUnregister:o}=t,i=Qu(n._names.array,r),c=vv({control:n,name:r,defaultValue:H(n._formValues,r,H(n._defaultValues,r,t.defaultValue)),exact:!0}),l=xv({control:n,name:r,exact:!0}),d=ve.useRef(t),u=ve.useRef(n.register(r,{...t.rules,value:c,...dt(t.disabled)?{disabled:t.disabled}:{}})),m=ve.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!H(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!H(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!H(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!H(l.validatingFields,r)},error:{enumerable:!0,get:()=>H(l.errors,r)}}),[l,r]),g=ve.useCallback(v=>u.current.onChange({target:{value:Gu(v),name:r},type:Zn.CHANGE}),[r]),b=ve.useCallback(()=>u.current.onBlur({target:{value:H(n._formValues,r),name:r},type:Zn.BLUR}),[r,n._formValues]),y=ve.useCallback(v=>{const x=H(n._fields,r);x&&v&&(x._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:p=>v.setCustomValidity(p),reportValidity:()=>v.reportValidity()})},[n._fields,r]),h=ve.useMemo(()=>({name:r,value:c,...dt(s)||l.disabled?{disabled:l.disabled||s}:{},onChange:g,onBlur:b,ref:y}),[r,s,l.disabled,g,b,y,c]);return ve.useEffect(()=>{const v=n._options.shouldUnregister||o;n.register(r,{...d.current.rules,...dt(d.current.disabled)?{disabled:d.current.disabled}:{}});const x=(p,w)=>{const S=H(n._fields,p);S&&S._f&&(S._f.mount=w)};if(x(r,!0),v){const p=Ge(H(n._options.defaultValues,r));_e(n._defaultValues,r,p),ze(H(n._formValues,r))&&_e(n._formValues,r,p)}return!i&&n.register(r),()=>{(i?v&&!n._state.action:v)?n.unregister(r):x(r,!1)}},[r,n,i,o]),ve.useEffect(()=>{n._setDisabledField({disabled:s,name:r})},[s,r,n]),ve.useMemo(()=>({field:h,formState:l,fieldState:m}),[h,l,m])}const bv=t=>t.render(yv(t));var tf=(t,e,r,s,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:n||!0}}:{},$s=t=>Array.isArray(t)?t:[t],tc=()=>{let t=[];return{get observers(){return t},next:n=>{for(const o of t)o.next&&o.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(o=>o!==n)}}),unsubscribe:()=>{t=[]}}},va=t=>rt(t)||!Ku(t);function or(t,e){if(va(t)||va(e))return t===e;if(Er(t)&&Er(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const n of r){const o=t[n];if(!s.includes(n))return!1;if(n!=="ref"){const i=e[n];if(Er(o)&&Er(i)||He(o)&&He(i)||Array.isArray(o)&&Array.isArray(i)?!or(o,i):o!==i)return!1}}return!0}var tt=t=>He(t)&&!Object.keys(t).length,di=t=>t.type==="file",_t=t=>typeof t=="function",Wn=t=>{if(!ci)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rf=t=>t.type==="select-multiple",ui=t=>t.type==="radio",wv=t=>ui(t)||bn(t),$o=t=>Wn(t)&&t.isConnected;function Sv(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=ze(t)?s++:t[e[s++]];return t}function Cv(t){for(const e in t)if(t.hasOwnProperty(e)&&!ze(t[e]))return!1;return!0}function We(t,e){const r=Array.isArray(e)?e:li(e)?[e]:Yu(e),s=r.length===1?t:Sv(t,r),n=r.length-1,o=r[n];return s&&delete s[o],n!==0&&(He(s)&&tt(s)||Array.isArray(s)&&Cv(s))&&We(t,r.slice(0,-1)),t}var sf=t=>{for(const e in t)if(_t(t[e]))return!0;return!1};function Kn(t,e={}){const r=Array.isArray(t);if(He(t)||r)for(const s in t)Array.isArray(t[s])||He(t[s])&&!sf(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Kn(t[s],e[s])):rt(t[s])||(e[s]=!0);return e}function nf(t,e,r){const s=Array.isArray(t);if(He(t)||s)for(const n in t)Array.isArray(t[n])||He(t[n])&&!sf(t[n])?ze(e)||va(r[n])?r[n]=Array.isArray(t[n])?Kn(t[n],[]):{...Kn(t[n])}:nf(t[n],rt(e)?{}:e[n],r[n]):r[n]=!or(t[n],e[n]);return r}var Os=(t,e)=>nf(t,e,Kn(e));const rc={value:!1,isValid:!1},sc={value:!0,isValid:!0};var of=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ze(t[0].attributes.value)?ze(t[0].value)||t[0].value===""?sc:{value:t[0].value,isValid:!0}:sc:rc}return rc},af=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>ze(t)?t:e?t===""?NaN:t&&+t:r&&Lt(t)?new Date(t):s?s(t):t;const nc={isValid:!1,value:null};var cf=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,nc):nc;function oc(t){const e=t.ref;return di(e)?e.files:ui(e)?cf(t.refs).value:rf(e)?[...e.selectedOptions].map(({value:r})=>r):bn(e)?of(t.refs).value:af(ze(e.value)?t.ref.value:e.value,t)}var jv=(t,e,r,s)=>{const n={};for(const o of t){const i=H(e,o);i&&_e(n,o,i._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:s}},Gn=t=>t instanceof RegExp,Ms=t=>ze(t)?t:Gn(t)?t.source:He(t)?Gn(t.value)?t.value.source:t.value:t,ac=t=>({isOnSubmit:!t||t===jt.onSubmit,isOnBlur:t===jt.onBlur,isOnChange:t===jt.onChange,isOnAll:t===jt.all,isOnTouch:t===jt.onTouched});const ic="AsyncFunction";var _v=t=>!!t&&!!t.validate&&!!(_t(t.validate)&&t.validate.constructor.name===ic||He(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ic)),Nv=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),cc=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const zs=(t,e,r,s)=>{for(const n of r||Object.keys(t)){const o=H(t,n);if(o){const{_f:i,...c}=o;if(i){if(i.refs&&i.refs[0]&&e(i.refs[0],n)&&!s)return!0;if(i.ref&&e(i.ref,i.name)&&!s)return!0;if(zs(c,e))break}else if(He(c)&&zs(c,e))break}}};function lc(t,e,r){const s=H(t,r);if(s||li(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const o=n.join("."),i=H(e,o),c=H(t,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};n.pop()}return{name:r}}var Tv=(t,e,r,s)=>{r(t);const{name:n,...o}=t;return tt(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(i=>e[i]===(!s||jt.all))},Ev=(t,e,r)=>!t||!e||t===e||$s(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),kv=(t,e,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?s.isOnBlur:n.isOnBlur)?!t:(r?s.isOnChange:n.isOnChange)?t:!0,Av=(t,e)=>!_o(H(t,e)).length&&We(t,e),Pv=(t,e,r)=>{const s=$s(H(t,r));return _e(s,"root",e[r]),_e(t,r,s),t},Rn=t=>Lt(t);function dc(t,e,r="validate"){if(Rn(t)||Array.isArray(t)&&t.every(Rn)||dt(t)&&!t)return{type:r,message:Rn(t)?t:"",ref:e}}var Gr=t=>He(t)&&!Gn(t)?t:{value:t,message:""},uc=async(t,e,r,s,n,o)=>{const{ref:i,refs:c,required:l,maxLength:d,minLength:u,min:m,max:g,pattern:b,validate:y,name:h,valueAsNumber:v,mount:x}=t._f,p=H(r,h);if(!x||e.has(h))return{};const w=c?c[0]:i,S=O=>{n&&w.reportValidity&&(w.setCustomValidity(dt(O)?"":O||""),w.reportValidity())},C={},N=ui(i),T=bn(i),k=N||T,P=(v||di(i))&&ze(i.value)&&ze(p)||Wn(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,L=tf.bind(null,h,s,C),M=(O,F,I,X=Wt.maxLength,$=Wt.minLength)=>{const J=O?F:I;C[h]={type:O?X:$,message:J,ref:i,...L(O?X:$,J)}};if(o?!Array.isArray(p)||!p.length:l&&(!k&&(P||rt(p))||dt(p)&&!p||T&&!of(c).isValid||N&&!cf(c).isValid)){const{value:O,message:F}=Rn(l)?{value:!!l,message:l}:Gr(l);if(O&&(C[h]={type:Wt.required,message:F,ref:w,...L(Wt.required,F)},!s))return S(F),C}if(!P&&(!rt(m)||!rt(g))){let O,F;const I=Gr(g),X=Gr(m);if(!rt(p)&&!isNaN(p)){const $=i.valueAsNumber||p&&+p;rt(I.value)||(O=$>I.value),rt(X.value)||(F=$<X.value)}else{const $=i.valueAsDate||new Date(p),J=Te=>new Date(new Date().toDateString()+" "+Te),G=i.type=="time",ie=i.type=="week";Lt(I.value)&&p&&(O=G?J(p)>J(I.value):ie?p>I.value:$>new Date(I.value)),Lt(X.value)&&p&&(F=G?J(p)<J(X.value):ie?p<X.value:$<new Date(X.value))}if((O||F)&&(M(!!O,I.message,X.message,Wt.max,Wt.min),!s))return S(C[h].message),C}if((d||u)&&!P&&(Lt(p)||o&&Array.isArray(p))){const O=Gr(d),F=Gr(u),I=!rt(O.value)&&p.length>+O.value,X=!rt(F.value)&&p.length<+F.value;if((I||X)&&(M(I,O.message,F.message),!s))return S(C[h].message),C}if(b&&!P&&Lt(p)){const{value:O,message:F}=Gr(b);if(Gn(O)&&!p.match(O)&&(C[h]={type:Wt.pattern,message:F,ref:i,...L(Wt.pattern,F)},!s))return S(F),C}if(y){if(_t(y)){const O=await y(p,r),F=dc(O,w);if(F&&(C[h]={...F,...L(Wt.validate,F.message)},!s))return S(F.message),C}else if(He(y)){let O={};for(const F in y){if(!tt(O)&&!s)break;const I=dc(await y[F](p,r),w,F);I&&(O={...I,...L(F,I.message)},S(I.message),s&&(C[h]=O))}if(!tt(O)&&(C[h]={ref:w,...O},!s))return C}}return S(!0),C};const Rv={mode:jt.onSubmit,reValidateMode:jt.onChange,shouldFocusError:!0};function Ov(t={}){let e={...Rv,...t},r={submitCount:0,isDirty:!1,isLoading:_t(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let n=He(e.defaultValues)||He(e.values)?Ge(e.values||e.defaultValues)||{}:{},o=e.shouldUnregister?{}:Ge(n),i={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const g={array:tc(),state:tc()},b=ac(e.mode),y=ac(e.reValidateMode),h=e.criteriaMode===jt.all,v=j=>E=>{clearTimeout(d),d=setTimeout(j,E)},x=async j=>{if(!e.disabled&&(u.isValid||m.isValid||j)){const E=e.resolver?tt((await P()).errors):await M(s,!0);E!==r.isValid&&g.state.next({isValid:E})}},p=(j,E)=>{!e.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((j||Array.from(c.mount)).forEach(R=>{R&&(E?_e(r.validatingFields,R,E):We(r.validatingFields,R))}),g.state.next({validatingFields:r.validatingFields,isValidating:!tt(r.validatingFields)}))},w=(j,E=[],R,W,z=!0,V=!0)=>{if(W&&R&&!e.disabled){if(i.action=!0,V&&Array.isArray(H(s,j))){const Q=R(H(s,j),W.argA,W.argB);z&&_e(s,j,Q)}if(V&&Array.isArray(H(r.errors,j))){const Q=R(H(r.errors,j),W.argA,W.argB);z&&_e(r.errors,j,Q),Av(r.errors,j)}if((u.touchedFields||m.touchedFields)&&V&&Array.isArray(H(r.touchedFields,j))){const Q=R(H(r.touchedFields,j),W.argA,W.argB);z&&_e(r.touchedFields,j,Q)}(u.dirtyFields||m.dirtyFields)&&(r.dirtyFields=Os(n,o)),g.state.next({name:j,isDirty:F(j,E),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _e(o,j,E)},S=(j,E)=>{_e(r.errors,j,E),g.state.next({errors:r.errors})},C=j=>{r.errors=j,g.state.next({errors:r.errors,isValid:!1})},N=(j,E,R,W)=>{const z=H(s,j);if(z){const V=H(o,j,ze(R)?H(n,j):R);ze(V)||W&&W.defaultChecked||E?_e(o,j,E?V:oc(z._f)):$(j,V),i.mount&&x()}},T=(j,E,R,W,z)=>{let V=!1,Q=!1;const je={name:j};if(!e.disabled){if(!R||W){(u.isDirty||m.isDirty)&&(Q=r.isDirty,r.isDirty=je.isDirty=F(),V=Q!==je.isDirty);const qe=or(H(n,j),E);Q=!!H(r.dirtyFields,j),qe?We(r.dirtyFields,j):_e(r.dirtyFields,j,!0),je.dirtyFields=r.dirtyFields,V=V||(u.dirtyFields||m.dirtyFields)&&Q!==!qe}if(R){const qe=H(r.touchedFields,j);qe||(_e(r.touchedFields,j,R),je.touchedFields=r.touchedFields,V=V||(u.touchedFields||m.touchedFields)&&qe!==R)}V&&z&&g.state.next(je)}return V?je:{}},k=(j,E,R,W)=>{const z=H(r.errors,j),V=(u.isValid||m.isValid)&&dt(E)&&r.isValid!==E;if(e.delayError&&R?(l=v(()=>S(j,R)),l(e.delayError)):(clearTimeout(d),l=null,R?_e(r.errors,j,R):We(r.errors,j)),(R?!or(z,R):z)||!tt(W)||V){const Q={...W,...V&&dt(E)?{isValid:E}:{},errors:r.errors,name:j};r={...r,...Q},g.state.next(Q)}},P=async j=>{p(j,!0);const E=await e.resolver(o,e.context,jv(j||c.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return p(j),E},L=async j=>{const{errors:E}=await P(j);if(j)for(const R of j){const W=H(E,R);W?_e(r.errors,R,W):We(r.errors,R)}else r.errors=E;return E},M=async(j,E,R={valid:!0})=>{for(const W in j){const z=j[W];if(z){const{_f:V,...Q}=z;if(V){const je=c.array.has(V.name),qe=z._f&&_v(z._f);qe&&u.validatingFields&&p([W],!0);const Qe=await uc(z,c.disabled,o,h,e.shouldUseNativeValidation&&!E,je);if(qe&&u.validatingFields&&p([W]),Qe[V.name]&&(R.valid=!1,E))break;!E&&(H(Qe,V.name)?je?Pv(r.errors,Qe,V.name):_e(r.errors,V.name,Qe[V.name]):We(r.errors,V.name))}!tt(Q)&&await M(Q,E,R)}}return R.valid},O=()=>{for(const j of c.unMount){const E=H(s,j);E&&(E._f.refs?E._f.refs.every(R=>!$o(R)):!$o(E._f.ref))&&Pe(j)}c.unMount=new Set},F=(j,E)=>!e.disabled&&(j&&E&&_e(o,j,E),!or(K(),n)),I=(j,E,R)=>ef(j,c,{...i.mount?o:ze(E)?n:Lt(j)?{[j]:E}:E},R,E),X=j=>_o(H(i.mount?o:n,j,e.shouldUnregister?H(n,j,[]):[])),$=(j,E,R={})=>{const W=H(s,j);let z=E;if(W){const V=W._f;V&&(!V.disabled&&_e(o,j,af(E,V)),z=Wn(V.ref)&&rt(E)?"":E,rf(V.ref)?[...V.ref.options].forEach(Q=>Q.selected=z.includes(Q.value)):V.refs?bn(V.ref)?V.refs.length>1?V.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray(z)?!!z.find(je=>je===Q.value):z===Q.value)):V.refs[0]&&(V.refs[0].checked=!!z):V.refs.forEach(Q=>Q.checked=Q.value===z):di(V.ref)?V.ref.value="":(V.ref.value=z,V.ref.type||g.state.next({name:j,values:Ge(o)})))}(R.shouldDirty||R.shouldTouch)&&T(j,z,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&A(j)},J=(j,E,R)=>{for(const W in E){const z=E[W],V=`${j}.${W}`,Q=H(s,V);(c.array.has(j)||He(z)||Q&&!Q._f)&&!Er(z)?J(V,z,R):$(V,z,R)}},G=(j,E,R={})=>{const W=H(s,j),z=c.array.has(j),V=Ge(E);_e(o,j,V),z?(g.array.next({name:j,values:Ge(o)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&R.shouldDirty&&g.state.next({name:j,dirtyFields:Os(n,o),isDirty:F(j,V)})):W&&!W._f&&!rt(V)?J(j,V,R):$(j,V,R),cc(j,c)&&g.state.next({...r}),g.state.next({name:i.mount?j:void 0,values:Ge(o)})},ie=async j=>{i.mount=!0;const E=j.target;let R=E.name,W=!0;const z=H(s,R),V=Q=>{W=Number.isNaN(Q)||Er(Q)&&isNaN(Q.getTime())||or(Q,H(o,R,Q))};if(z){let Q,je;const qe=E.type?oc(z._f):Gu(j),Qe=j.type===Zn.BLUR||j.type===Zn.FOCUS_OUT,Of=!Nv(z._f)&&!e.resolver&&!H(r.errors,R)&&!z._f.deps||kv(Qe,H(r.touchedFields,R),r.isSubmitted,y,b),ko=cc(R,c,Qe);_e(o,R,qe),Qe?(z._f.onBlur&&z._f.onBlur(j),l&&l(0)):z._f.onChange&&z._f.onChange(j);const Ao=T(R,qe,Qe),Mf=!tt(Ao)||ko;if(!Qe&&g.state.next({name:R,type:j.type,values:Ge(o)}),Of)return(u.isValid||m.isValid)&&(e.mode==="onBlur"?Qe&&x():Qe||x()),Mf&&g.state.next({name:R,...ko?{}:Ao});if(!Qe&&ko&&g.state.next({...r}),e.resolver){const{errors:pi}=await P([R]);if(V(qe),W){const If=lc(r.errors,s,R),gi=lc(pi,s,If.name||R);Q=gi.error,R=gi.name,je=tt(pi)}}else p([R],!0),Q=(await uc(z,c.disabled,o,h,e.shouldUseNativeValidation))[R],p([R]),V(qe),W&&(Q?je=!1:(u.isValid||m.isValid)&&(je=await M(s,!0)));W&&(z._f.deps&&A(z._f.deps),k(R,je,Q,Ao))}},Te=(j,E)=>{if(H(r.errors,E)&&j.focus)return j.focus(),1},A=async(j,E={})=>{let R,W;const z=$s(j);if(e.resolver){const V=await L(ze(j)?j:z);R=tt(V),W=j?!z.some(Q=>H(V,Q)):R}else j?(W=(await Promise.all(z.map(async V=>{const Q=H(s,V);return await M(Q&&Q._f?{[V]:Q}:Q)}))).every(Boolean),!(!W&&!r.isValid)&&x()):W=R=await M(s);return g.state.next({...!Lt(j)||(u.isValid||m.isValid)&&R!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:R}:{},errors:r.errors}),E.shouldFocus&&!W&&zs(s,Te,j?z:c.mount),W},K=j=>{const E={...i.mount?o:n};return ze(j)?E:Lt(j)?H(E,j):j.map(R=>H(E,R))},te=(j,E)=>({invalid:!!H((E||r).errors,j),isDirty:!!H((E||r).dirtyFields,j),error:H((E||r).errors,j),isValidating:!!H(r.validatingFields,j),isTouched:!!H((E||r).touchedFields,j)}),ue=j=>{j&&$s(j).forEach(E=>We(r.errors,E)),g.state.next({errors:j?r.errors:{}})},Se=(j,E,R)=>{const W=(H(s,j,{_f:{}})._f||{}).ref,z=H(r.errors,j)||{},{ref:V,message:Q,type:je,...qe}=z;_e(r.errors,j,{...qe,...E,ref:W}),g.state.next({name:j,errors:r.errors,isValid:!1}),R&&R.shouldFocus&&W&&W.focus&&W.focus()},Ee=(j,E)=>_t(j)?g.state.subscribe({next:R=>j(I(void 0,E),R)}):I(j,E,!0),U=j=>g.state.subscribe({next:E=>{Ev(j.name,E.name,j.exact)&&Tv(E,j.formState||u,Kr,j.reRenderRoot)&&j.callback({values:{...o},...r,...E})}}).unsubscribe,se=j=>(i.mount=!0,m={...m,...j.formState},U({...j,formState:m})),Pe=(j,E={})=>{for(const R of j?$s(j):c.mount)c.mount.delete(R),c.array.delete(R),E.keepValue||(We(s,R),We(o,R)),!E.keepError&&We(r.errors,R),!E.keepDirty&&We(r.dirtyFields,R),!E.keepTouched&&We(r.touchedFields,R),!E.keepIsValidating&&We(r.validatingFields,R),!e.shouldUnregister&&!E.keepDefaultValue&&We(n,R);g.state.next({values:Ge(o)}),g.state.next({...r,...E.keepDirty?{isDirty:F()}:{}}),!E.keepIsValid&&x()},we=({disabled:j,name:E})=>{(dt(j)&&i.mount||j||c.disabled.has(E))&&(j?c.disabled.add(E):c.disabled.delete(E))},ae=(j,E={})=>{let R=H(s,j);const W=dt(E.disabled)||dt(e.disabled);return _e(s,j,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:j}},name:j,mount:!0,...E}}),c.mount.add(j),R?we({disabled:dt(E.disabled)?E.disabled:e.disabled,name:j}):N(j,!0,E.value),{...W?{disabled:E.disabled||e.disabled}:{},...e.progressive?{required:!!E.required,min:Ms(E.min),max:Ms(E.max),minLength:Ms(E.minLength),maxLength:Ms(E.maxLength),pattern:Ms(E.pattern)}:{},name:j,onChange:ie,onBlur:ie,ref:z=>{if(z){ae(j,E),R=H(s,j);const V=ze(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,Q=wv(V),je=R._f.refs||[];if(Q?je.find(qe=>qe===V):V===R._f.ref)return;_e(s,j,{_f:{...R._f,...Q?{refs:[...je.filter($o),V,...Array.isArray(H(n,j))?[{}]:[]],ref:{type:V.type,name:j}}:{ref:V}}}),N(j,!1,void 0,V)}else R=H(s,j,{}),R._f&&(R._f.mount=!1),(e.shouldUnregister||E.shouldUnregister)&&!(Qu(c.array,j)&&i.action)&&c.unMount.add(j)}}},fe=()=>e.shouldFocusError&&zs(s,Te,c.mount),ke=j=>{dt(j)&&(g.state.next({disabled:j}),zs(s,(E,R)=>{const W=H(s,R);W&&(E.disabled=W._f.disabled||j,Array.isArray(W._f.refs)&&W._f.refs.forEach(z=>{z.disabled=W._f.disabled||j}))},0,!1))},Ce=(j,E)=>async R=>{let W;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let z=Ge(o);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:V,values:Q}=await P();r.errors=V,z=Q}else await M(s);if(c.disabled.size)for(const V of c.disabled)_e(z,V,void 0);if(We(r.errors,"root"),tt(r.errors)){g.state.next({errors:{}});try{await j(z,R)}catch(V){W=V}}else E&&await E({...r.errors},R),fe(),setTimeout(fe);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tt(r.errors)&&!W,submitCount:r.submitCount+1,errors:r.errors}),W)throw W},Ue=(j,E={})=>{H(s,j)&&(ze(E.defaultValue)?G(j,Ge(H(n,j))):(G(j,E.defaultValue),_e(n,j,Ge(E.defaultValue))),E.keepTouched||We(r.touchedFields,j),E.keepDirty||(We(r.dirtyFields,j),r.isDirty=E.defaultValue?F(j,Ge(H(n,j))):F()),E.keepError||(We(r.errors,j),u.isValid&&x()),g.state.next({...r}))},Re=(j,E={})=>{const R=j?Ge(j):n,W=Ge(R),z=tt(j),V=z?n:W;if(E.keepDefaultValues||(n=R),!E.keepValues){if(E.keepDirtyValues){const Q=new Set([...c.mount,...Object.keys(Os(n,o))]);for(const je of Array.from(Q))H(r.dirtyFields,je)?_e(V,je,H(o,je)):G(je,H(V,je))}else{if(ci&&ze(j))for(const Q of c.mount){const je=H(s,Q);if(je&&je._f){const qe=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(Wn(qe)){const Qe=qe.closest("form");if(Qe){Qe.reset();break}}}}for(const Q of c.mount)G(Q,H(V,Q))}o=Ge(V),g.array.next({values:{...V}}),g.state.next({values:{...V}})}c={mount:E.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!E.keepIsValid||!!E.keepDirtyValues,i.watch=!!e.shouldUnregister,g.state.next({submitCount:E.keepSubmitCount?r.submitCount:0,isDirty:z?!1:E.keepDirty?r.isDirty:!!(E.keepDefaultValues&&!or(j,n)),isSubmitted:E.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:z?{}:E.keepDirtyValues?E.keepDefaultValues&&o?Os(n,o):r.dirtyFields:E.keepDefaultValues&&j?Os(n,j):E.keepDirty?r.dirtyFields:{},touchedFields:E.keepTouched?r.touchedFields:{},errors:E.keepErrors?r.errors:{},isSubmitSuccessful:E.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},at=(j,E)=>Re(_t(j)?j(o):j,E),Tr=(j,E={})=>{const R=H(s,j),W=R&&R._f;if(W){const z=W.refs?W.refs[0]:W.ref;z.focus&&(z.focus(),E.shouldSelect&&_t(z.select)&&z.select())}},Kr=j=>{r={...r,...j}},mi={control:{register:ae,unregister:Pe,getFieldState:te,handleSubmit:Ce,setError:Se,_subscribe:U,_runSchema:P,_getWatch:I,_getDirty:F,_setValid:x,_setFieldArray:w,_setDisabledField:we,_setErrors:C,_getFieldArray:X,_reset:Re,_resetDefaultValues:()=>_t(e.defaultValues)&&e.defaultValues().then(j=>{at(j,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:ke,_subjects:g,_proxyFormState:u,get _fields(){return s},get _formValues(){return o},get _state(){return i},set _state(j){i=j},get _defaultValues(){return n},get _names(){return c},set _names(j){c=j},get _formState(){return r},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:se,trigger:A,register:ae,handleSubmit:Ce,watch:Ee,setValue:G,getValues:K,reset:at,resetField:Ue,clearErrors:ue,unregister:Pe,setError:Se,setFocus:Tr,getFieldState:te};return{...mi,formControl:mi}}function lf(t={}){const e=ve.useRef(void 0),r=ve.useRef(void 0),[s,n]=ve.useState({isDirty:!1,isValidating:!1,isLoading:_t(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:_t(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Ov(t),formState:s},t.formControl&&t.defaultValues&&!_t(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,ve.useLayoutEffect(()=>o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0}),[o]),ve.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),ve.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==s.isDirty&&o._subjects.state.next({isDirty:i})}},[o,s.isDirty]),ve.useEffect(()=>{t.values&&!or(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,n(i=>({...i}))):o._resetDefaultValues()},[t.values,o]),ve.useEffect(()=>{t.errors&&!tt(t.errors)&&o._setErrors(t.errors)},[t.errors,o]),ve.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),ve.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=Ju(s,o),e.current}const df=gv,uf=f.createContext({}),Ze=({...t})=>a.jsx(uf.Provider,{value:{name:t.name},children:a.jsx(bv,{...t})}),To=()=>{const t=f.useContext(uf),e=f.useContext(ff),{getFieldState:r,formState:s}=No(),n=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},ff=f.createContext({}),Fe=f.forwardRef(({className:t,...e},r)=>{const s=f.useId();return a.jsx(ff.Provider,{value:{id:s},children:a.jsx("div",{ref:r,className:ee("space-y-2",t),...e})})});Fe.displayName="FormItem";const Le=f.forwardRef(({className:t,...e},r)=>{const{error:s,formItemId:n}=To();return a.jsx(ti,{ref:r,className:ee(s&&"text-destructive",t),htmlFor:n,...e})});Le.displayName="FormLabel";const Ve=f.forwardRef(({...t},e)=>{const{error:r,formItemId:s,formDescriptionId:n,formMessageId:o}=To();return a.jsx(Rc,{ref:e,id:s,"aria-describedby":r?`${n} ${o}`:`${n}`,"aria-invalid":!!r,...t})});Ve.displayName="FormControl";const Mv=f.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:s}=To();return a.jsx("p",{ref:r,id:s,className:ee("text-sm text-muted-foreground",t),...e})});Mv.displayName="FormDescription";const $e=f.forwardRef(({className:t,children:e,...r},s)=>{const{error:n,formMessageId:o}=To(),i=n?String((n==null?void 0:n.message)??""):e;return i?a.jsx("p",{ref:s,id:o,className:ee("text-sm font-medium text-destructive",t),...r,children:i}):null});$e.displayName="FormMessage";const hf=f.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));hf.displayName="Textarea";const fc=(t,e,r)=>{if(t&&"reportValidity"in t){const s=H(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},mf=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?fc(s.ref,r,t):s.refs&&s.refs.forEach(n=>fc(n,r,t))}},Iv=(t,e)=>{e.shouldUseNativeValidation&&mf(t,e);const r={};for(const s in t){const n=H(e.fields,s),o=Object.assign(t[s]||{},{ref:n&&n.ref});if(Dv(e.names||Object.keys(t),s)){const i=Object.assign({},H(r,s));_e(i,"root",o),_e(r,s,i)}else _e(r,s,o)}return r},Dv=(t,e)=>t.some(r=>r.startsWith(e+"."));var Fv=function(t,e){for(var r={};t.length;){var s=t[0],n=s.code,o=s.message,i=s.path.join(".");if(!r[i])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];r[i]={message:c.message,type:c.code}}else r[i]={message:o,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return t.push(m)})}),e){var l=r[i].types,d=l&&l[s.code];r[i]=tf(i,e,r,n,d?[].concat(d,s.message):s.message)}t.shift()}return r},pf=function(t,e,r){return r===void 0&&(r={}),function(s,n,o){try{return Promise.resolve(function(i,c){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(d){return o.shouldUseNativeValidation&&mf({},o),{errors:{},values:r.raw?s:d}})}catch(d){return c(d)}return l&&l.then?l.then(void 0,c):l}(0,function(i){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(i))return{values:{},errors:Iv(Fv(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}},ye;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const o={};for(const i of n)o[i]=i;return o},t.getValidEnumValues=n=>{const o=t.objectKeys(n).filter(c=>typeof n[n[c]]!="number"),i={};for(const c of o)i[c]=n[c];return t.objectValues(i)},t.objectValues=n=>t.objectKeys(n).map(function(o){return n[o]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const o=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&o.push(i);return o},t.find=(n,o)=>{for(const i of n)if(o(i))return i},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,o=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}t.joinValues=s,t.jsonStringifyReplacer=(n,o)=>typeof o=="bigint"?o.toString():o})(ye||(ye={}));var ya;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ya||(ya={}));const Z=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qt=t=>{switch(typeof t){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return isNaN(t)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":return Array.isArray(t)?Z.array:t===null?Z.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Z.promise:typeof Map<"u"&&t instanceof Map?Z.map:typeof Set<"u"&&t instanceof Set?Z.set:typeof Date<"u"&&t instanceof Date?Z.date:Z.object;default:return Z.unknown}},D=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Lv=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class mt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},s={_errors:[]},n=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)s._errors.push(r(i));else{let c=s,l=0;for(;l<i.path.length;){const d=i.path[l];l===i.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(r(i))):c[d]=c[d]||{_errors:[]},c=c[d],l++}}};return n(this),s}static assert(e){if(!(e instanceof mt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}mt.create=t=>new mt(t);const Cs=(t,e)=>{let r;switch(t.code){case D.invalid_type:t.received===Z.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case D.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ye.jsonStringifyReplacer)}`;break;case D.unrecognized_keys:r=`Unrecognized key(s) in object: ${ye.joinValues(t.keys,", ")}`;break;case D.invalid_union:r="Invalid input";break;case D.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ye.joinValues(t.options)}`;break;case D.invalid_enum_value:r=`Invalid enum value. Expected ${ye.joinValues(t.options)}, received '${t.received}'`;break;case D.invalid_arguments:r="Invalid function arguments";break;case D.invalid_return_type:r="Invalid function return type";break;case D.invalid_date:r="Invalid date";break;case D.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ye.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case D.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case D.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case D.custom:r="Invalid input";break;case D.invalid_intersection_types:r="Intersection results could not be merged";break;case D.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case D.not_finite:r="Number must be finite";break;default:r=e.defaultError,ye.assertNever(t)}return{message:r}};let gf=Cs;function Vv(t){gf=t}function Qn(){return gf}const Yn=t=>{const{data:e,path:r,errorMaps:s,issueData:n}=t,o=[...r,...n.path||[]],i={...n,path:o};if(n.message!==void 0)return{...n,path:o,message:n.message};let c="";const l=s.filter(d=>!!d).slice().reverse();for(const d of l)c=d(i,{data:e,defaultError:c}).message;return{...n,path:o,message:c}},$v=[];function B(t,e){const r=Qn(),s=Yn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Cs?void 0:Cs].filter(n=>!!n)});t.common.issues.push(s)}class Xe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const n of r){if(n.status==="aborted")return oe;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const n of r){const o=await n.key,i=await n.value;s.push({key:o,value:i})}return Xe.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const n of r){const{key:o,value:i}=n;if(o.status==="aborted"||i.status==="aborted")return oe;o.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(s[o.value]=i.value)}return{status:e.value,value:s}}}const oe=Object.freeze({status:"aborted"}),Jr=t=>({status:"dirty",value:t}),ot=t=>({status:"valid",value:t}),ba=t=>t.status==="aborted",wa=t=>t.status==="dirty",Br=t=>t.status==="valid",Gs=t=>typeof Promise<"u"&&t instanceof Promise;function Xn(t,e,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function xf(t,e,r,s,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Y;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Y||(Y={}));var Fs,Ls;class Ht{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hc=(t,e)=>{if(Br(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new mt(t.common.issues);return this._error=r,this._error}}};function de(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,c)=>{var l,d;const{message:u}=t;return i.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:(l=u??s)!==null&&l!==void 0?l:c.defaultError}:i.code!=="invalid_type"?{message:c.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:c.defaultError}},description:n}}class pe{get description(){return this._def.description}_getType(e){return Qt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Qt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xe,ctx:{common:e.parent.common,data:e.data,parsedType:Qt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Gs(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const n={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qt(e)},o=this._parseSync({data:e,path:n.path,parent:n});return hc(n,o)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qt(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return Br(o)?{value:o.value}:{issues:n.common.issues}}catch(o){!((s=(r=o==null?void 0:o.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>Br(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qt(e)},n=this._parse({data:e,path:s.path,parent:s}),o=await(Gs(n)?n:Promise.resolve(n));return hc(s,o)}refine(e,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,o)=>{const i=e(n),c=()=>o.addIssue({code:D.custom,...s(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(c(),!1)):i?!0:(c(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new Rt({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return $t.create(this,this._def)}nullable(){return jr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return kt.create(this)}promise(){return _s.create(this,this._def)}or(e){return Js.create([this,e],this._def)}and(e){return en.create(this,e,this._def)}transform(e){return new Rt({...de(this._def),schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new on({...de(this._def),innerType:this,defaultValue:r,typeName:ne.ZodDefault})}brand(){return new fi({typeName:ne.ZodBranded,type:this,...de(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new an({...de(this._def),innerType:this,catchValue:r,typeName:ne.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return wn.create(this,e)}readonly(){return cn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zv=/^c[^\s-]{8,}$/i,Hv=/^[0-9a-z]+$/,Bv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Uv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qv=/^[a-z0-9_-]{21}$/i,Zv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Wv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Kv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Gv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zo;const Qv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Yv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Xv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Jv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ey=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ty=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ry=new RegExp(`^${vf}$`);function yf(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function sy(t){return new RegExp(`^${yf(t)}$`)}function bf(t){let e=`${vf}T${yf(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function ny(t,e){return!!((e==="v4"||!e)&&Qv.test(t)||(e==="v6"||!e)&&Xv.test(t))}function oy(t,e){if(!Zv.test(t))return!1;try{const[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function ay(t,e){return!!((e==="v4"||!e)&&Yv.test(t)||(e==="v6"||!e)&&Jv.test(t))}class Nt extends pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Z.string){const o=this._getOrReturnCtx(e);return B(o,{code:D.invalid_type,expected:Z.string,received:o.parsedType}),oe}const s=new Xe;let n;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:D.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")e.data.length>o.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:D.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const i=e.data.length>o.value,c=e.data.length<o.value;(i||c)&&(n=this._getOrReturnCtx(e,n),i?B(n,{code:D.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&B(n,{code:D.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")Kv.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"email",code:D.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")zo||(zo=new RegExp(Gv,"u")),zo.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"emoji",code:D.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")Uv.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"uuid",code:D.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")qv.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"nanoid",code:D.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")zv.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid",code:D.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")Hv.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid2",code:D.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")Bv.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ulid",code:D.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),B(n,{validation:"url",code:D.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"regex",code:D.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?bf(o).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?ry.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?sy(o).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:D.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?Wv.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"duration",code:D.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?ny(e.data,o.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ip",code:D.invalid_string,message:o.message}),s.dirty()):o.kind==="jwt"?oy(e.data,o.alg)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"jwt",code:D.invalid_string,message:o.message}),s.dirty()):o.kind==="cidr"?ay(e.data,o.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cidr",code:D.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?ey.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64",code:D.invalid_string,message:o.message}),s.dirty()):o.kind==="base64url"?ty.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"base64url",code:D.invalid_string,message:o.message}),s.dirty()):ye.assertNever(o);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:D.invalid_string,...Y.errToObj(s)})}_addCheck(e){return new Nt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Y.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...Y.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Y.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Y.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Y.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Y.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Y.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Y.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Y.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Y.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Y.errToObj(r)})}nonempty(e){return this.min(1,Y.errToObj(e))}trim(){return new Nt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Nt.create=t=>{var e;return new Nt({checks:[],typeName:ne.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};function iy(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,o=parseInt(t.toFixed(n).replace(".","")),i=parseInt(e.toFixed(n).replace(".",""));return o%i/Math.pow(10,n)}class wr extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Z.number){const o=this._getOrReturnCtx(e);return B(o,{code:D.invalid_type,expected:Z.number,received:o.parsedType}),oe}let s;const n=new Xe;for(const o of this._def.checks)o.kind==="int"?ye.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{code:D.invalid_type,expected:"integer",received:"float",message:o.message}),n.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),B(s,{code:D.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),B(s,{code:D.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="multipleOf"?iy(e.data,o.value)!==0&&(s=this._getOrReturnCtx(e,s),B(s,{code:D.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),B(s,{code:D.not_finite,message:o.message}),n.dirty()):ye.assertNever(o);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Y.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Y.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Y.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Y.toString(r))}setLimit(e,r,s,n){return new wr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Y.toString(n)}]})}_addCheck(e){return new wr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ye.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}wr.create=t=>new wr({checks:[],typeName:ne.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class Sr extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Z.bigint)return this._getInvalidInput(e);let s;const n=new Xe;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),B(s,{code:D.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),B(s,{code:D.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),B(s,{code:D.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):ye.assertNever(o);return{status:n.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return B(r,{code:D.invalid_type,expected:Z.bigint,received:r.parsedType}),oe}gte(e,r){return this.setLimit("min",e,!0,Y.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Y.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Y.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Y.toString(r))}setLimit(e,r,s,n){return new Sr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Y.toString(n)}]})}_addCheck(e){return new Sr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Sr.create=t=>{var e;return new Sr({checks:[],typeName:ne.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};class Qs extends pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Z.boolean){const s=this._getOrReturnCtx(e);return B(s,{code:D.invalid_type,expected:Z.boolean,received:s.parsedType}),oe}return ot(e.data)}}Qs.create=t=>new Qs({typeName:ne.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class Ur extends pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Z.date){const o=this._getOrReturnCtx(e);return B(o,{code:D.invalid_type,expected:Z.date,received:o.parsedType}),oe}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return B(o,{code:D.invalid_date}),oe}const s=new Xe;let n;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:D.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:D.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):ye.assertNever(o);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ur({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Y.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Y.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ur.create=t=>new Ur({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ne.ZodDate,...de(t)});class Jn extends pe{_parse(e){if(this._getType(e)!==Z.symbol){const s=this._getOrReturnCtx(e);return B(s,{code:D.invalid_type,expected:Z.symbol,received:s.parsedType}),oe}return ot(e.data)}}Jn.create=t=>new Jn({typeName:ne.ZodSymbol,...de(t)});class Ys extends pe{_parse(e){if(this._getType(e)!==Z.undefined){const s=this._getOrReturnCtx(e);return B(s,{code:D.invalid_type,expected:Z.undefined,received:s.parsedType}),oe}return ot(e.data)}}Ys.create=t=>new Ys({typeName:ne.ZodUndefined,...de(t)});class Xs extends pe{_parse(e){if(this._getType(e)!==Z.null){const s=this._getOrReturnCtx(e);return B(s,{code:D.invalid_type,expected:Z.null,received:s.parsedType}),oe}return ot(e.data)}}Xs.create=t=>new Xs({typeName:ne.ZodNull,...de(t)});class js extends pe{constructor(){super(...arguments),this._any=!0}_parse(e){return ot(e.data)}}js.create=t=>new js({typeName:ne.ZodAny,...de(t)});class Lr extends pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ot(e.data)}}Lr.create=t=>new Lr({typeName:ne.ZodUnknown,...de(t)});class tr extends pe{_parse(e){const r=this._getOrReturnCtx(e);return B(r,{code:D.invalid_type,expected:Z.never,received:r.parsedType}),oe}}tr.create=t=>new tr({typeName:ne.ZodNever,...de(t)});class eo extends pe{_parse(e){if(this._getType(e)!==Z.undefined){const s=this._getOrReturnCtx(e);return B(s,{code:D.invalid_type,expected:Z.void,received:s.parsedType}),oe}return ot(e.data)}}eo.create=t=>new eo({typeName:ne.ZodVoid,...de(t)});class kt extends pe{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==Z.array)return B(r,{code:D.invalid_type,expected:Z.array,received:r.parsedType}),oe;if(n.exactLength!==null){const i=r.data.length>n.exactLength.value,c=r.data.length<n.exactLength.value;(i||c)&&(B(r,{code:i?D.too_big:D.too_small,minimum:c?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(B(r,{code:D.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(B(r,{code:D.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((i,c)=>n.type._parseAsync(new Ht(r,i,r.path,c)))).then(i=>Xe.mergeArray(s,i));const o=[...r.data].map((i,c)=>n.type._parseSync(new Ht(r,i,r.path,c)));return Xe.mergeArray(s,o)}get element(){return this._def.type}min(e,r){return new kt({...this._def,minLength:{value:e,message:Y.toString(r)}})}max(e,r){return new kt({...this._def,maxLength:{value:e,message:Y.toString(r)}})}length(e,r){return new kt({...this._def,exactLength:{value:e,message:Y.toString(r)}})}nonempty(e){return this.min(1,e)}}kt.create=(t,e)=>new kt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray,...de(e)});function Xr(t){if(t instanceof Oe){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=$t.create(Xr(s))}return new Oe({...t._def,shape:()=>e})}else return t instanceof kt?new kt({...t._def,type:Xr(t.element)}):t instanceof $t?$t.create(Xr(t.unwrap())):t instanceof jr?jr.create(Xr(t.unwrap())):t instanceof Bt?Bt.create(t.items.map(e=>Xr(e))):t}class Oe extends pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ye.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Z.object){const d=this._getOrReturnCtx(e);return B(d,{code:D.invalid_type,expected:Z.object,received:d.parsedType}),oe}const{status:s,ctx:n}=this._processInputParams(e),{shape:o,keys:i}=this._getCached(),c=[];if(!(this._def.catchall instanceof tr&&this._def.unknownKeys==="strip"))for(const d in n.data)i.includes(d)||c.push(d);const l=[];for(const d of i){const u=o[d],m=n.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Ht(n,m,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof tr){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of c)l.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")c.length>0&&(B(n,{code:D.unrecognized_keys,keys:c}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of c){const m=n.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Ht(n,m,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of l){const m=await u.key,g=await u.value;d.push({key:m,value:g,alwaysSet:u.alwaysSet})}return d}).then(d=>Xe.mergeObjectSync(s,d)):Xe.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return Y.errToObj,new Oe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var n,o,i,c;const l=(i=(o=(n=this._def).errorMap)===null||o===void 0?void 0:o.call(n,r,s).message)!==null&&i!==void 0?i:s.defaultError;return r.code==="unrecognized_keys"?{message:(c=Y.errToObj(e).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new Oe({...this._def,unknownKeys:"strip"})}passthrough(){return new Oe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Oe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Oe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ne.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Oe({...this._def,catchall:e})}pick(e){const r={};return ye.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new Oe({...this._def,shape:()=>r})}omit(e){const r={};return ye.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new Oe({...this._def,shape:()=>r})}deepPartial(){return Xr(this)}partial(e){const r={};return ye.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}),new Oe({...this._def,shape:()=>r})}required(e){const r={};return ye.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof $t;)o=o._def.innerType;r[s]=o}}),new Oe({...this._def,shape:()=>r})}keyof(){return wf(ye.objectKeys(this.shape))}}Oe.create=(t,e)=>new Oe({shape:()=>t,unknownKeys:"strip",catchall:tr.create(),typeName:ne.ZodObject,...de(e)});Oe.strictCreate=(t,e)=>new Oe({shape:()=>t,unknownKeys:"strict",catchall:tr.create(),typeName:ne.ZodObject,...de(e)});Oe.lazycreate=(t,e)=>new Oe({shape:t,unknownKeys:"strip",catchall:tr.create(),typeName:ne.ZodObject,...de(e)});class Js extends pe{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function n(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const i=o.map(c=>new mt(c.ctx.common.issues));return B(r,{code:D.invalid_union,unionErrors:i}),oe}if(r.common.async)return Promise.all(s.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let o;const i=[];for(const l of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const c=i.map(l=>new mt(l));return B(r,{code:D.invalid_union,unionErrors:c}),oe}}get options(){return this._def.options}}Js.create=(t,e)=>new Js({options:t,typeName:ne.ZodUnion,...de(e)});const Gt=t=>t instanceof rn?Gt(t.schema):t instanceof Rt?Gt(t.innerType()):t instanceof sn?[t.value]:t instanceof Cr?t.options:t instanceof nn?ye.objectValues(t.enum):t instanceof on?Gt(t._def.innerType):t instanceof Ys?[void 0]:t instanceof Xs?[null]:t instanceof $t?[void 0,...Gt(t.unwrap())]:t instanceof jr?[null,...Gt(t.unwrap())]:t instanceof fi||t instanceof cn?Gt(t.unwrap()):t instanceof an?Gt(t._def.innerType):[];class Eo extends pe{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.object)return B(r,{code:D.invalid_type,expected:Z.object,received:r.parsedType}),oe;const s=this.discriminator,n=r.data[s],o=this.optionsMap.get(n);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(B(r,{code:D.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),oe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const n=new Map;for(const o of r){const i=Gt(o.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of i){if(n.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);n.set(c,o)}}return new Eo({typeName:ne.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...de(s)})}}function Sa(t,e){const r=Qt(t),s=Qt(e);if(t===e)return{valid:!0,data:t};if(r===Z.object&&s===Z.object){const n=ye.objectKeys(e),o=ye.objectKeys(t).filter(c=>n.indexOf(c)!==-1),i={...t,...e};for(const c of o){const l=Sa(t[c],e[c]);if(!l.valid)return{valid:!1};i[c]=l.data}return{valid:!0,data:i}}else if(r===Z.array&&s===Z.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let o=0;o<t.length;o++){const i=t[o],c=e[o],l=Sa(i,c);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return r===Z.date&&s===Z.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class en extends pe{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=(o,i)=>{if(ba(o)||ba(i))return oe;const c=Sa(o.value,i.value);return c.valid?((wa(o)||wa(i))&&r.dirty(),{status:r.value,value:c.data}):(B(s,{code:D.invalid_intersection_types}),oe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,i])=>n(o,i)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}en.create=(t,e,r)=>new en({left:t,right:e,typeName:ne.ZodIntersection,...de(r)});class Bt extends pe{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.array)return B(s,{code:D.invalid_type,expected:Z.array,received:s.parsedType}),oe;if(s.data.length<this._def.items.length)return B(s,{code:D.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe;!this._def.rest&&s.data.length>this._def.items.length&&(B(s,{code:D.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...s.data].map((i,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new Ht(s,i,s.path,c)):null}).filter(i=>!!i);return s.common.async?Promise.all(o).then(i=>Xe.mergeArray(r,i)):Xe.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new Bt({...this._def,rest:e})}}Bt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bt({items:t,typeName:ne.ZodTuple,rest:null,...de(e)})};class tn extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.object)return B(s,{code:D.invalid_type,expected:Z.object,received:s.parsedType}),oe;const n=[],o=this._def.keyType,i=this._def.valueType;for(const c in s.data)n.push({key:o._parse(new Ht(s,c,s.path,c)),value:i._parse(new Ht(s,s.data[c],s.path,c)),alwaysSet:c in s.data});return s.common.async?Xe.mergeObjectAsync(r,n):Xe.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof pe?new tn({keyType:e,valueType:r,typeName:ne.ZodRecord,...de(s)}):new tn({keyType:Nt.create(),valueType:e,typeName:ne.ZodRecord,...de(r)})}}class to extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.map)return B(s,{code:D.invalid_type,expected:Z.map,received:s.parsedType}),oe;const n=this._def.keyType,o=this._def.valueType,i=[...s.data.entries()].map(([c,l],d)=>({key:n._parse(new Ht(s,c,s.path,[d,"key"])),value:o._parse(new Ht(s,l,s.path,[d,"value"]))}));if(s.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of i){const d=await l.key,u=await l.value;if(d.status==="aborted"||u.status==="aborted")return oe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),c.set(d.value,u.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const l of i){const d=l.key,u=l.value;if(d.status==="aborted"||u.status==="aborted")return oe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),c.set(d.value,u.value)}return{status:r.value,value:c}}}}to.create=(t,e,r)=>new to({valueType:e,keyType:t,typeName:ne.ZodMap,...de(r)});class qr extends pe{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Z.set)return B(s,{code:D.invalid_type,expected:Z.set,received:s.parsedType}),oe;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(B(s,{code:D.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(B(s,{code:D.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const o=this._def.valueType;function i(l){const d=new Set;for(const u of l){if(u.status==="aborted")return oe;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const c=[...s.data.values()].map((l,d)=>o._parse(new Ht(s,l,s.path,d)));return s.common.async?Promise.all(c).then(l=>i(l)):i(c)}min(e,r){return new qr({...this._def,minSize:{value:e,message:Y.toString(r)}})}max(e,r){return new qr({...this._def,maxSize:{value:e,message:Y.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}qr.create=(t,e)=>new qr({valueType:t,minSize:null,maxSize:null,typeName:ne.ZodSet,...de(e)});class ns extends pe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.function)return B(r,{code:D.invalid_type,expected:Z.function,received:r.parsedType}),oe;function s(c,l){return Yn({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Qn(),Cs].filter(d=>!!d),issueData:{code:D.invalid_arguments,argumentsError:l}})}function n(c,l){return Yn({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Qn(),Cs].filter(d=>!!d),issueData:{code:D.invalid_return_type,returnTypeError:l}})}const o={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof _s){const c=this;return ot(async function(...l){const d=new mt([]),u=await c._def.args.parseAsync(l,o).catch(b=>{throw d.addIssue(s(l,b)),d}),m=await Reflect.apply(i,this,u);return await c._def.returns._def.type.parseAsync(m,o).catch(b=>{throw d.addIssue(n(m,b)),d})})}else{const c=this;return ot(function(...l){const d=c._def.args.safeParse(l,o);if(!d.success)throw new mt([s(l,d.error)]);const u=Reflect.apply(i,this,d.data),m=c._def.returns.safeParse(u,o);if(!m.success)throw new mt([n(u,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ns({...this._def,args:Bt.create(e).rest(Lr.create())})}returns(e){return new ns({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new ns({args:e||Bt.create([]).rest(Lr.create()),returns:r||Lr.create(),typeName:ne.ZodFunction,...de(s)})}}class rn extends pe{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}rn.create=(t,e)=>new rn({getter:t,typeName:ne.ZodLazy,...de(e)});class sn extends pe{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return B(r,{received:r.data,code:D.invalid_literal,expected:this._def.value}),oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}sn.create=(t,e)=>new sn({value:t,typeName:ne.ZodLiteral,...de(e)});function wf(t,e){return new Cr({values:t,typeName:ne.ZodEnum,...de(e)})}class Cr extends pe{constructor(){super(...arguments),Fs.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return B(r,{expected:ye.joinValues(s),received:r.parsedType,code:D.invalid_type}),oe}if(Xn(this,Fs)||xf(this,Fs,new Set(this._def.values)),!Xn(this,Fs).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return B(r,{received:r.data,code:D.invalid_enum_value,options:s}),oe}return ot(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Cr.create(e,{...this._def,...r})}exclude(e,r=this._def){return Cr.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}Fs=new WeakMap;Cr.create=wf;class nn extends pe{constructor(){super(...arguments),Ls.set(this,void 0)}_parse(e){const r=ye.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Z.string&&s.parsedType!==Z.number){const n=ye.objectValues(r);return B(s,{expected:ye.joinValues(n),received:s.parsedType,code:D.invalid_type}),oe}if(Xn(this,Ls)||xf(this,Ls,new Set(ye.getValidEnumValues(this._def.values))),!Xn(this,Ls).has(e.data)){const n=ye.objectValues(r);return B(s,{received:s.data,code:D.invalid_enum_value,options:n}),oe}return ot(e.data)}get enum(){return this._def.values}}Ls=new WeakMap;nn.create=(t,e)=>new nn({values:t,typeName:ne.ZodNativeEnum,...de(e)});class _s extends pe{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Z.promise&&r.common.async===!1)return B(r,{code:D.invalid_type,expected:Z.promise,received:r.parsedType}),oe;const s=r.parsedType===Z.promise?r.data:Promise.resolve(r.data);return ot(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}_s.create=(t,e)=>new _s({type:t,typeName:ne.ZodPromise,...de(e)});class Rt extends pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,o={addIssue:i=>{B(s,i),i.fatal?r.abort():r.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),n.type==="preprocess"){const i=n.transform(s.data,o);if(s.common.async)return Promise.resolve(i).then(async c=>{if(r.value==="aborted")return oe;const l=await this._def.schema._parseAsync({data:c,path:s.path,parent:s});return l.status==="aborted"?oe:l.status==="dirty"||r.value==="dirty"?Jr(l.value):l});{if(r.value==="aborted")return oe;const c=this._def.schema._parseSync({data:i,path:s.path,parent:s});return c.status==="aborted"?oe:c.status==="dirty"||r.value==="dirty"?Jr(c.value):c}}if(n.type==="refinement"){const i=c=>{const l=n.refinement(c,o);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?oe:(c.status==="dirty"&&r.dirty(),i(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>c.status==="aborted"?oe:(c.status==="dirty"&&r.dirty(),i(c.value).then(()=>({status:r.value,value:c.value}))))}if(n.type==="transform")if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Br(i))return i;const c=n.transform(i.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>Br(i)?Promise.resolve(n.transform(i.value,o)).then(c=>({status:r.value,value:c})):i);ye.assertNever(n)}}Rt.create=(t,e,r)=>new Rt({schema:t,typeName:ne.ZodEffects,effect:e,...de(r)});Rt.createWithPreprocess=(t,e,r)=>new Rt({schema:e,effect:{type:"preprocess",transform:t},typeName:ne.ZodEffects,...de(r)});class $t extends pe{_parse(e){return this._getType(e)===Z.undefined?ot(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$t.create=(t,e)=>new $t({innerType:t,typeName:ne.ZodOptional,...de(e)});class jr extends pe{_parse(e){return this._getType(e)===Z.null?ot(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jr.create=(t,e)=>new jr({innerType:t,typeName:ne.ZodNullable,...de(e)});class on extends pe{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===Z.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}on.create=(t,e)=>new on({innerType:t,typeName:ne.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...de(e)});class an extends pe{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Gs(n)?n.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new mt(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new mt(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}an.create=(t,e)=>new an({innerType:t,typeName:ne.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...de(e)});class ro extends pe{_parse(e){if(this._getType(e)!==Z.nan){const s=this._getOrReturnCtx(e);return B(s,{code:D.invalid_type,expected:Z.nan,received:s.parsedType}),oe}return{status:"valid",value:e.data}}}ro.create=t=>new ro({typeName:ne.ZodNaN,...de(t)});const cy=Symbol("zod_brand");class fi extends pe{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class wn extends pe{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?oe:o.status==="dirty"?(r.dirty(),Jr(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?oe:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new wn({in:e,out:r,typeName:ne.ZodPipeline})}}class cn extends pe{_parse(e){const r=this._def.innerType._parse(e),s=n=>(Br(n)&&(n.value=Object.freeze(n.value)),n);return Gs(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}cn.create=(t,e)=>new cn({innerType:t,typeName:ne.ZodReadonly,...de(e)});function mc(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Sf(t,e={},r){return t?js.create().superRefine((s,n)=>{var o,i;const c=t(s);if(c instanceof Promise)return c.then(l=>{var d,u;if(!l){const m=mc(e,s),g=(u=(d=m.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;n.addIssue({code:"custom",...m,fatal:g})}});if(!c){const l=mc(e,s),d=(i=(o=l.fatal)!==null&&o!==void 0?o:r)!==null&&i!==void 0?i:!0;n.addIssue({code:"custom",...l,fatal:d})}}):js.create()}const ly={object:Oe.lazycreate};var ne;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ne||(ne={}));const dy=(t,e={message:`Input not instance of ${t.name}`})=>Sf(r=>r instanceof t,e),Cf=Nt.create,jf=wr.create,uy=ro.create,fy=Sr.create,_f=Qs.create,hy=Ur.create,my=Jn.create,py=Ys.create,gy=Xs.create,xy=js.create,vy=Lr.create,yy=tr.create,by=eo.create,wy=kt.create,Sy=Oe.create,Cy=Oe.strictCreate,jy=Js.create,_y=Eo.create,Ny=en.create,Ty=Bt.create,Ey=tn.create,ky=to.create,Ay=qr.create,Py=ns.create,Ry=rn.create,Oy=sn.create,My=Cr.create,Iy=nn.create,Dy=_s.create,pc=Rt.create,Fy=$t.create,Ly=jr.create,Vy=Rt.createWithPreprocess,$y=wn.create,zy=()=>Cf().optional(),Hy=()=>jf().optional(),By=()=>_f().optional(),Uy={string:t=>Nt.create({...t,coerce:!0}),number:t=>wr.create({...t,coerce:!0}),boolean:t=>Qs.create({...t,coerce:!0}),bigint:t=>Sr.create({...t,coerce:!0}),date:t=>Ur.create({...t,coerce:!0})},qy=oe;var De=Object.freeze({__proto__:null,defaultErrorMap:Cs,setErrorMap:Vv,getErrorMap:Qn,makeIssue:Yn,EMPTY_PATH:$v,addIssueToContext:B,ParseStatus:Xe,INVALID:oe,DIRTY:Jr,OK:ot,isAborted:ba,isDirty:wa,isValid:Br,isAsync:Gs,get util(){return ye},get objectUtil(){return ya},ZodParsedType:Z,getParsedType:Qt,ZodType:pe,datetimeRegex:bf,ZodString:Nt,ZodNumber:wr,ZodBigInt:Sr,ZodBoolean:Qs,ZodDate:Ur,ZodSymbol:Jn,ZodUndefined:Ys,ZodNull:Xs,ZodAny:js,ZodUnknown:Lr,ZodNever:tr,ZodVoid:eo,ZodArray:kt,ZodObject:Oe,ZodUnion:Js,ZodDiscriminatedUnion:Eo,ZodIntersection:en,ZodTuple:Bt,ZodRecord:tn,ZodMap:to,ZodSet:qr,ZodFunction:ns,ZodLazy:rn,ZodLiteral:sn,ZodEnum:Cr,ZodNativeEnum:nn,ZodPromise:_s,ZodEffects:Rt,ZodTransformer:Rt,ZodOptional:$t,ZodNullable:jr,ZodDefault:on,ZodCatch:an,ZodNaN:ro,BRAND:cy,ZodBranded:fi,ZodPipeline:wn,ZodReadonly:cn,custom:Sf,Schema:pe,ZodSchema:pe,late:ly,get ZodFirstPartyTypeKind(){return ne},coerce:Uy,any:xy,array:wy,bigint:fy,boolean:_f,date:hy,discriminatedUnion:_y,effect:pc,enum:My,function:Py,instanceof:dy,intersection:Ny,lazy:Ry,literal:Oy,map:ky,nan:uy,nativeEnum:Iy,never:yy,null:gy,nullable:Ly,number:jf,object:Sy,oboolean:By,onumber:Hy,optional:Fy,ostring:zy,pipeline:$y,preprocess:Vy,promise:Dy,record:Ey,set:Ay,strictObject:Cy,string:Cf,symbol:my,transformer:pc,tuple:Ty,undefined:py,union:jy,unknown:vy,void:by,NEVER:qy,ZodIssueCode:D,quotelessJson:Lv,ZodError:mt}),hi="Checkbox",[Zy,_b]=Zr(hi),[Wy,Ky]=Zy(hi),Nf=f.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:s,checked:n,defaultChecked:o,required:i,disabled:c,value:l="on",onCheckedChange:d,form:u,...m}=t,[g,b]=f.useState(null),y=Me(e,S=>b(S)),h=f.useRef(!1),v=g?u||!!g.closest("form"):!0,[x=!1,p]=On({prop:n,defaultProp:o,onChange:d}),w=f.useRef(x);return f.useEffect(()=>{const S=g==null?void 0:g.form;if(S){const C=()=>p(w.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[g,p]),a.jsxs(Wy,{scope:r,state:x,disabled:c,children:[a.jsx(be.button,{type:"button",role:"checkbox","aria-checked":xr(x)?"mixed":x,"aria-required":i,"data-state":kf(x),"data-disabled":c?"":void 0,disabled:c,value:l,...m,ref:y,onKeyDown:le(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:le(t.onClick,S=>{p(C=>xr(C)?!0:!C),v&&(h.current=S.isPropagationStopped(),h.current||S.stopPropagation())})}),v&&a.jsx(Gy,{control:g,bubbles:!h.current,name:s,value:l,checked:x,required:i,disabled:c,form:u,style:{transform:"translateX(-100%)"},defaultChecked:xr(o)?!1:o})]})});Nf.displayName=hi;var Tf="CheckboxIndicator",Ef=f.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:s,...n}=t,o=Ky(Tf,r);return a.jsx(Wr,{present:s||xr(o.state)||o.state===!0,children:a.jsx(be.span,{"data-state":kf(o.state),"data-disabled":o.disabled?"":void 0,...n,ref:e,style:{pointerEvents:"none",...t.style}})})});Ef.displayName=Tf;var Gy=t=>{const{control:e,checked:r,bubbles:s=!0,defaultChecked:n,...o}=t,i=f.useRef(null),c=tu(r),l=ud(e);f.useEffect(()=>{const u=i.current,m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&b){const y=new Event("click",{bubbles:s});u.indeterminate=xr(r),b.call(u,xr(r)?!1:r),u.dispatchEvent(y)}},[c,r,s]);const d=f.useRef(xr(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??d.current,...o,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xr(t){return t==="indeterminate"}function kf(t){return xr(t)?"indeterminate":t?"checked":"unchecked"}var Af=Nf,Qy=Ef;const Pf=f.forwardRef(({className:t,...e},r)=>a.jsx(Af,{ref:r,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(Qy,{className:ee("flex items-center justify-center text-current"),children:a.jsx(Vl,{className:"h-4 w-4"})})}));Pf.displayName=Af.displayName;const Yy=De.object({id:De.string().min(1,"Course ID is required"),name:De.string().min(1,"Course name is required"),credits:De.coerce.number().min(0,"Credits must be positive"),theoreticalHours:De.coerce.number().min(0,"Hours must be positive"),practicalHours:De.coerce.number().min(0,"Hours must be positive"),term:De.coerce.number().min(1,"Term must be at least 1"),block:De.string().min(1,"Block is required"),prerequisites:De.string(),corequisites:De.string(),isElective:De.boolean(),electiveType:De.string().optional(),description:De.string().optional()});function Xy(){const[t,e]=f.useState(!1),[r,s]=f.useState(null),{toast:n}=no(),{data:o=[],isLoading:i}=ra({queryKey:["/api/courses"]}),c=ts({mutationFn:h=>Dr("/api/admin/courses","POST",h),onSuccess:()=>{Fr.invalidateQueries({queryKey:["/api/courses"]}),e(!1),n({title:"Course created successfully"})},onError:()=>{n({title:"Failed to create course",variant:"destructive"})}}),l=ts({mutationFn:({id:h,data:v})=>Dr(`/api/admin/courses/${h}`,"PUT",v),onSuccess:()=>{Fr.invalidateQueries({queryKey:["/api/courses"]}),e(!1),s(null),n({title:"Course updated successfully"})},onError:()=>{n({title:"Failed to update course",variant:"destructive"})}}),d=ts({mutationFn:h=>Dr(`/api/admin/courses/${h}`,"DELETE"),onSuccess:()=>{Fr.invalidateQueries({queryKey:["/api/courses"]}),n({title:"Course deleted successfully"})},onError:()=>{n({title:"Failed to delete course",variant:"destructive"})}}),u=lf({resolver:pf(Yy),defaultValues:{id:"",name:"",credits:0,theoreticalHours:0,practicalHours:0,term:1,block:"",prerequisites:"",corequisites:"",isElective:!1,electiveType:"",description:""}}),m=h=>{const v={...h,prerequisites:h.prerequisites?h.prerequisites.split(",").map(x=>x.trim()).filter(Boolean):[],corequisites:h.corequisites?h.corequisites.split(",").map(x=>x.trim()).filter(Boolean):[]};r?l.mutate({id:r.id,data:v}):c.mutate(v)},g=h=>{s(h),u.reset({id:h.id,name:h.name,credits:h.credits,theoreticalHours:h.theoreticalHours,practicalHours:h.practicalHours,term:h.term,block:h.block,prerequisites:h.prerequisites.join(", "),corequisites:h.corequisites.join(", "),isElective:h.isElective,electiveType:h.electiveType||"",description:h.description||""}),e(!0)},b=h=>{confirm("Are you sure you want to delete this course?")&&d.mutate(h)},y=()=>{e(!1),s(null),u.reset()};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ys,{href:"/",children:a.jsx(ce,{variant:"ghost",size:"icon","data-testid":"button-back",children:a.jsx(Dl,{className:"h-5 w-5"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Course Management"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ys,{href:"/admin/sections",children:a.jsx(ce,{variant:"outline","data-testid":"button-sections",children:"Manage Sections"})}),a.jsxs(vo,{open:t,onOpenChange:e,children:[a.jsx(Yd,{asChild:!0,children:a.jsxs(ce,{onClick:()=>{s(null),u.reset()},"data-testid":"button-add-course",children:[a.jsx(Bl,{className:"h-4 w-4 mr-2"}),"Add Course"]})}),a.jsxs(gn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(xn,{children:a.jsx(vn,{children:r?"Edit Course":"Add New Course"})}),a.jsx(df,{...u,children:a.jsxs("form",{onSubmit:u.handleSubmit(m),className:"space-y-4",children:[a.jsx(Ze,{control:u.control,name:"id",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Course ID"}),a.jsx(Ve,{children:a.jsx(xe,{...h,disabled:!!r,"data-testid":"input-course-id"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:u.control,name:"name",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Course Name"}),a.jsx(Ve,{children:a.jsx(xe,{...h,"data-testid":"input-course-name"})}),a.jsx($e,{})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(Ze,{control:u.control,name:"credits",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Credits"}),a.jsx(Ve,{children:a.jsx(xe,{type:"number",...h,"data-testid":"input-credits"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:u.control,name:"theoreticalHours",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Theory Hours"}),a.jsx(Ve,{children:a.jsx(xe,{type:"number",...h,"data-testid":"input-theory-hours"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:u.control,name:"practicalHours",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Practical Hours"}),a.jsx(Ve,{children:a.jsx(xe,{type:"number",...h,"data-testid":"input-practical-hours"})}),a.jsx($e,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Ze,{control:u.control,name:"term",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Term"}),a.jsx(Ve,{children:a.jsx(xe,{type:"number",...h,"data-testid":"input-term"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:u.control,name:"block",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Block"}),a.jsx(Ve,{children:a.jsx(xe,{...h,"data-testid":"input-block"})}),a.jsx($e,{})]})})]}),a.jsx(Ze,{control:u.control,name:"prerequisites",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Prerequisites (comma-separated)"}),a.jsx(Ve,{children:a.jsx(xe,{...h,placeholder:"e.g., MED-100, MED-200","data-testid":"input-prerequisites"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:u.control,name:"corequisites",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Corequisites (comma-separated)"}),a.jsx(Ve,{children:a.jsx(xe,{...h,placeholder:"e.g., MED-010","data-testid":"input-corequisites"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:u.control,name:"isElective",render:({field:h})=>a.jsxs(Fe,{className:"flex items-center space-x-2",children:[a.jsx(Ve,{children:a.jsx(Pf,{checked:h.value,onCheckedChange:h.onChange,"data-testid":"checkbox-is-elective"})}),a.jsx(Le,{className:"!mt-0",children:"Is Elective"}),a.jsx($e,{})]})}),a.jsx(Ze,{control:u.control,name:"electiveType",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Elective Type"}),a.jsx(Ve,{children:a.jsx(xe,{...h,placeholder:"e.g., GEN, BASICAS, CLINICAS","data-testid":"input-elective-type"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:u.control,name:"description",render:({field:h})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Description"}),a.jsx(Ve,{children:a.jsx(hf,{...h,"data-testid":"input-description"})}),a.jsx($e,{})]})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:y,"data-testid":"button-cancel",children:"Cancel"}),a.jsx(ce,{type:"submit",disabled:c.isPending||l.isPending,"data-testid":"button-submit",children:r?"Update":"Create"})]})]})})]})]})]})]}),i?a.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading courses..."}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsxs(oi,{children:[a.jsx(ai,{children:a.jsxs(Ks,{children:[a.jsx(st,{children:"ID"}),a.jsx(st,{children:"Name"}),a.jsx(st,{children:"Credits"}),a.jsx(st,{children:"Term"}),a.jsx(st,{children:"Block"}),a.jsx(st,{children:"Elective"}),a.jsx(st,{className:"text-right",children:"Actions"})]})}),a.jsx(ii,{children:o.map(h=>a.jsxs(Ks,{"data-testid":`row-course-${h.id}`,children:[a.jsx(nt,{className:"font-mono text-gray-900 dark:text-gray-100","data-testid":`text-course-id-${h.id}`,children:h.id}),a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-name-${h.id}`,children:h.name}),a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-credits-${h.id}`,children:h.credits}),a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-term-${h.id}`,children:h.term}),a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-block-${h.id}`,children:h.block}),a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-elective-${h.id}`,children:h.isElective?"Yes":"No"}),a.jsx(nt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>g(h),"data-testid":`button-edit-${h.id}`,children:a.jsx(Hl,{className:"h-4 w-4"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>b(h.id),disabled:d.isPending,"data-testid":`button-delete-${h.id}`,children:a.jsx(Da,{className:"h-4 w-4"})})]})})]},h.id))})]})})]})})}const Jy=De.object({courseId:De.string().min(1,"Course ID is required"),sectionNumber:De.string().min(1,"Section number is required"),instructor:De.string().min(1,"Instructor is required"),room:De.string().min(1,"Room is required"),crn:De.string().min(1,"CRN is required"),schedule:De.string().min(1,"Schedule is required"),maxCapacity:De.coerce.number().min(1,"Max capacity must be at least 1"),currentEnrollment:De.coerce.number().min(0,"Enrollment must be non-negative")});function eb(){const[t,e]=f.useState(!1),[r,s]=f.useState(null),{toast:n}=no(),{data:o=[],isLoading:i}=ra({queryKey:["/api/sections"]}),{data:c=[]}=ra({queryKey:["/api/courses"]}),l=ts({mutationFn:x=>Dr("/api/admin/sections","POST",x),onSuccess:()=>{Fr.invalidateQueries({queryKey:["/api/sections"]}),e(!1),n({title:"Section created successfully"})},onError:()=>{n({title:"Failed to create section",variant:"destructive"})}}),d=ts({mutationFn:({id:x,data:p})=>Dr(`/api/admin/sections/${x}`,"PUT",p),onSuccess:()=>{Fr.invalidateQueries({queryKey:["/api/sections"]}),e(!1),s(null),n({title:"Section updated successfully"})},onError:()=>{n({title:"Failed to update section",variant:"destructive"})}}),u=ts({mutationFn:x=>Dr(`/api/admin/sections/${x}`,"DELETE"),onSuccess:()=>{Fr.invalidateQueries({queryKey:["/api/sections"]}),n({title:"Section deleted successfully"})},onError:()=>{n({title:"Failed to delete section",variant:"destructive"})}}),m=lf({resolver:pf(Jy),defaultValues:{courseId:"",sectionNumber:"",instructor:"",room:"",crn:"",schedule:"",maxCapacity:30,currentEnrollment:0}}),g=x=>{try{const p=JSON.parse(x.schedule);if(!Array.isArray(p)){n({title:"Schedule must be a JSON array",variant:"destructive"});return}const w={...x,schedule:p};r?d.mutate({id:r.id,data:w}):l.mutate(w)}catch{n({title:"Invalid JSON format for schedule",variant:"destructive"})}},b=x=>{s(x),m.reset({courseId:x.courseId,sectionNumber:x.sectionNumber,instructor:x.instructor,room:x.room,crn:x.crn,schedule:JSON.stringify(x.schedule),maxCapacity:x.maxCapacity,currentEnrollment:x.currentEnrollment}),e(!0)},y=x=>{confirm("Are you sure you want to delete this section?")&&u.mutate(x)},h=()=>{e(!1),s(null),m.reset()},v=x=>{const p=c.find(w=>w.id===x);return p?`${p.id} - ${p.name}`:x};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ys,{href:"/",children:a.jsx(ce,{variant:"ghost",size:"icon","data-testid":"button-back",children:a.jsx(Dl,{className:"h-5 w-5"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Section Management"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ys,{href:"/admin/courses",children:a.jsx(ce,{variant:"outline","data-testid":"button-courses",children:"Manage Courses"})}),a.jsxs(vo,{open:t,onOpenChange:e,children:[a.jsx(Yd,{asChild:!0,children:a.jsxs(ce,{onClick:()=>{s(null),m.reset()},"data-testid":"button-add-section",children:[a.jsx(Bl,{className:"h-4 w-4 mr-2"}),"Add Section"]})}),a.jsxs(gn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(xn,{children:a.jsx(vn,{children:r?"Edit Section":"Add New Section"})}),a.jsx(df,{...m,children:a.jsxs("form",{onSubmit:m.handleSubmit(g),className:"space-y-4",children:[a.jsx(Ze,{control:m.control,name:"courseId",render:({field:x})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Course"}),a.jsxs(Ja,{onValueChange:x.onChange,defaultValue:x.value,children:[a.jsx(Ve,{children:a.jsx(So,{"data-testid":"select-course",children:a.jsx(ei,{placeholder:"Select a course"})})}),a.jsx(Co,{children:c.map(p=>a.jsxs(jo,{value:p.id,children:[p.id," - ",p.name]},p.id))})]}),a.jsx($e,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Ze,{control:m.control,name:"sectionNumber",render:({field:x})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Section Number"}),a.jsx(Ve,{children:a.jsx(xe,{...x,"data-testid":"input-section-number"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:m.control,name:"crn",render:({field:x})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"CRN"}),a.jsx(Ve,{children:a.jsx(xe,{...x,"data-testid":"input-crn"})}),a.jsx($e,{})]})})]}),a.jsx(Ze,{control:m.control,name:"instructor",render:({field:x})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Instructor"}),a.jsx(Ve,{children:a.jsx(xe,{...x,"data-testid":"input-instructor"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:m.control,name:"room",render:({field:x})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Room"}),a.jsx(Ve,{children:a.jsx(xe,{...x,"data-testid":"input-room"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:m.control,name:"schedule",render:({field:x})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Schedule (JSON format)"}),a.jsx(Ve,{children:a.jsx(xe,{...x,placeholder:'[{"day":"Monday","startTime":"08:00","endTime":"10:00"}]',"data-testid":"input-schedule"})}),a.jsx($e,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Ze,{control:m.control,name:"maxCapacity",render:({field:x})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Max Capacity"}),a.jsx(Ve,{children:a.jsx(xe,{type:"number",...x,"data-testid":"input-max-capacity"})}),a.jsx($e,{})]})}),a.jsx(Ze,{control:m.control,name:"currentEnrollment",render:({field:x})=>a.jsxs(Fe,{children:[a.jsx(Le,{children:"Current Enrollment"}),a.jsx(Ve,{children:a.jsx(xe,{type:"number",...x,"data-testid":"input-current-enrollment"})}),a.jsx($e,{})]})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{type:"button",variant:"outline",onClick:h,"data-testid":"button-cancel",children:"Cancel"}),a.jsx(ce,{type:"submit",disabled:l.isPending||d.isPending,"data-testid":"button-submit",children:r?"Update":"Create"})]})]})})]})]})]})]}),i?a.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading sections..."}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsxs(oi,{children:[a.jsx(ai,{children:a.jsxs(Ks,{children:[a.jsx(st,{children:"Course"}),a.jsx(st,{children:"Section"}),a.jsx(st,{children:"CRN"}),a.jsx(st,{children:"Instructor"}),a.jsx(st,{children:"Room"}),a.jsx(st,{children:"Capacity"}),a.jsx(st,{className:"text-right",children:"Actions"})]})}),a.jsx(ii,{children:o.map(x=>a.jsxs(Ks,{"data-testid":`row-section-${x.id}`,children:[a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-${x.id}`,children:v(x.courseId)}),a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-section-number-${x.id}`,children:x.sectionNumber}),a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-crn-${x.id}`,children:x.crn}),a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-instructor-${x.id}`,children:x.instructor}),a.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-room-${x.id}`,children:x.room}),a.jsxs(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-capacity-${x.id}`,children:[x.currentEnrollment,"/",x.maxCapacity]}),a.jsx(nt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>b(x),"data-testid":`button-edit-${x.id}`,children:a.jsx(Hl,{className:"h-4 w-4"})}),a.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>y(x.id),disabled:u.isPending,"data-testid":`button-delete-${x.id}`,children:a.jsx(Da,{className:"h-4 w-4"})})]})})]},x.id))})]})})]})})}function tb(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(Tt,{className:"w-full max-w-md mx-4",children:a.jsxs(Et,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(zl,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const rb=()=>{const t=()=>window.location.hash.replace(/^#/,"")||"/",[e,r]=f.useState(t());return f.useEffect(()=>{const n=()=>r(t());return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),[e,n=>{window.location.hash=n}]};function sb(){return a.jsx(qh,{client:Fr,children:a.jsx(Gg,{children:a.jsxs(Wg,{children:[a.jsx(Cp,{}),a.jsx(Yc,{hook:rb,children:a.jsxs(_h,{children:[a.jsx(Cn,{path:"/",component:uv}),a.jsx(Cn,{path:"/admin/courses",component:Xy}),a.jsx(Cn,{path:"/admin/sections",component:eb}),a.jsx(Cn,{component:tb})]})})]})})})}var Ca={},gc=hn;Ca.createRoot=gc.createRoot,Ca.hydrateRoot=gc.hydrateRoot;function nb({search:t,onSearchChange:e,onAdd:r,onImportCourses:s,onImportSections:n,onExportCourses:o,onExportSections:i}){return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx(xe,{placeholder:"Buscar curso por ID o nombre",value:t,onChange:c=>e(c.target.value),className:"h-9"})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(ce,{onClick:r,children:"Agregar curso"}),a.jsx(ce,{variant:"outline",onClick:s,children:"Importar courses.json"}),a.jsx(ce,{variant:"outline",onClick:n,children:"Importar sections.json"}),a.jsx(ce,{variant:"outline",onClick:o,children:"Exportar courses.json"}),a.jsx(ce,{variant:"outline",onClick:i,children:"Exportar sections.json"})]})]})}function ob({courses:t,onEdit:e,onDelete:r}){return t?t.length===0?a.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay cursos"}):a.jsx("div",{className:"space-y-2",children:t.map(s=>a.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"font-medium",children:[s.id,"  ",s.name]}),a.jsxs("div",{className:"text-muted-foreground",children:[s.credits," crditos  HT ",s.theoreticalHours,"  HP ",s.practicalHours,"  Term ",s.term]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>e(s),children:"Editar"}),a.jsx(ce,{size:"sm",variant:"destructive",onClick:()=>r(s.id),children:"Eliminar"})]})]},s.id))}):a.jsx("div",{className:"text-sm text-muted-foreground",children:"Cargando cursos"})}function xc(t,e){for(const r of t.slots)for(const s of e.slots)if(r.day===s.day&&!(r.end<=s.start||s.end<=r.start))return!0;return!1}function ab(t){return t.map(e=>({...e,schedule:(e.schedule||[]).map(r=>({day:r.day,start:r.start??r.startTime,end:r.end??r.endTime}))}))}function ib(t){return t.map(e=>({...e,schedule:(e.schedule||[]).map(r=>({day:r.day,startTime:r.start,endTime:r.end}))}))}function Qr(t){if(!t)return{time:"07:00",ap:"AM"};const[e,r]=t.split(":");let s=parseInt(e,10);const n=r??"00",o=s>=12?"PM":"AM";return s=s%12,s===0&&(s=12),{time:`${String(s).padStart(2,"0")}:${n}`,ap:o}}function Yr(t,e){const[r,s]=t.split(":");let n=Math.max(1,Math.min(12,parseInt(r||"12",10)||12));const o=s??"00";return e==="AM"?n===12&&(n=0):n!==12&&(n+=12),`${String(n).padStart(2,"0")}:${o.padStart(2,"0")}`}const vc=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function cb({open:t,onClose:e,course:r,allCourses:s,onSave:n,getSectionsForCourse:o,setSectionsForCourse:i}){const[c,l]=f.useState(r),[d,u]=f.useState("");f.useEffect(()=>l(r),[r]);const m=f.useMemo(()=>new Set(s.map(A=>A.id)),[s]),g=f.useMemo(()=>{const A=d.trim().toLowerCase();return s.filter(K=>K.id!==c.id).filter(K=>K.id.toLowerCase().includes(A)||K.name.toLowerCase().includes(A))},[s,d,c.id]),b=(A,K)=>{const te=new Set(c[A]??[]);te.has(K)?te.delete(K):te.add(K),l({...c,[A]:Array.from(te)})},y=A=>K=>{const te=Number(K.target.value||0);l({...c,[A]:isNaN(te)?0:te})},h=A=>K=>{l({...c,[A]:K.target.value})},v=()=>{if(!c.id||!/^[A-Za-z]{3}-?\d{3}$/.test(c.id))return"ID invlido (ej: MED101 o MED-101)";if(!c.name)return"Nombre requerido";if(c.credits<0)return"Crditos no pueden ser negativos";if(!Number.isInteger(c.term)||c.term<=0)return"Term debe ser un entero positivo";for(const A of c.prerequisites??[])if(!m.has(A))return`Prereq no existe: ${A}`;for(const A of c.corequisites??[])if(!m.has(A))return`Coreq no existe: ${A}`;return(c.prerequisites??[]).includes(c.id)?"Un curso no puede ser prerequisito de s mismo":(c.corequisites??[]).includes(c.id)?"Un curso no puede ser correquisito de s mismo":null},[x,p]=f.useState(null),w=()=>{const A=v();if(A){p({type:"error",text:A});return}n({...c,prerequisites:Array.from(new Set(c.prerequisites??[])),corequisites:Array.from(new Set(c.corequisites??[]))}),p({type:"success",text:"Datos del curso guardados."})},[S,C]=f.useState([]),[N,T]=f.useState(""),[k,P]=f.useState({crn:"",room:""}),[L,M]=f.useState({});f.useEffect(()=>{const A=o(r.id)||[],K=Array.isArray(A)?ab(A):[];C(K);const te={};for(const ue of K){const Se=(ue.schedule||[])[0];if(Se){const Ee=Qr(Se.start),U=Qr(Se.end);te[ue.crn]={day:Se.day??"Monday",timeStart12:Ee.time,apStart:Ee.ap,timeEnd12:U.time,apEnd:U.ap}}else te[ue.crn]={day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"}}M(te),p(null)},[r.id,o]);const O=f.useMemo(()=>{const A=N.trim().toLowerCase();return A?S.filter(K=>{var te,ue,Se,Ee;return(((ue=(te=K.crn)==null?void 0:te.toLowerCase)==null?void 0:ue.call(te))||"").includes(A)||(((Ee=(Se=K.room)==null?void 0:Se.toLowerCase)==null?void 0:Ee.call(Se))||"").includes(A)}):S},[S,N]),F=()=>{const A=k.crn.trim();if(!A)return p({type:"error",text:"CRN requerido."});if(S.some(ue=>ue.crn===A))return p({type:"error",text:"CRN ya existe."});const K=k.room.trim(),te={crn:A,room:K,closed:!1,schedule:[]};C(ue=>[...ue,te]),M(ue=>({...ue,[A]:{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"}})),P({crn:"",room:""}),p({type:"success",text:`Seccin ${A} agregada.`})},I=(A,K,te)=>{C(ue=>ue.map(Se=>Se.crn===A?{...Se,[K]:te}:Se))},X=A=>{C(K=>K.filter(te=>te.crn!==A)),p({type:"success",text:`Seccin ${A} eliminada.`})},$=A=>{const K=L[A]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"};if(!K.day||!K.timeStart12||!K.timeEnd12)return p({type:"error",text:"Completa da, hora de inicio y fin."});const te=Yr(K.timeStart12,K.apStart),ue=Yr(K.timeEnd12,K.apEnd);C(Se=>Se.map(Ee=>Ee.crn===A?{...Ee,schedule:[...Ee.schedule||[],{day:K.day,start:te,end:ue}]}:Ee)),p({type:"success",text:`Bloque agregado a ${A}.`})},J=(A,K)=>{C(te=>te.map(ue=>ue.crn===A?{...ue,schedule:(ue.schedule||[]).filter((Se,Ee)=>Ee!==K)}:ue))},G=()=>{const A=[];for(let K=0;K<S.length;K++)for(let te=K+1;te<S.length;te++){const ue=S[K],Se=S[te];xc(ue,Se)&&A.push(`Conflicto entre ${ue.crn} y ${Se.crn}`)}return A},ie=async()=>{const A=G();if(A.length>0){p({type:"error",text:`Conflictos:
${A.join(`
`)}`});return}const K=ib(S);await i(c.id,K),p({type:"success",text:`Secciones guardadas para ${c.id}.`})},Te=A=>{const K=S.find(te=>te.crn===A);return K?S.some(te=>te.crn!==A&&xc(K,te)):!1};return a.jsx(vo,{open:t,onOpenChange:A=>!A&&e(),children:a.jsxs(gn,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[a.jsxs(xn,{children:[a.jsxs(vn,{children:["Editar curso ",r.id]}),a.jsx(eu,{className:"sr-only",children:"Edita datos bsicos, prerrequisitos, correquisitos y secciones."})]}),x&&a.jsx("div",{className:`mb-3 rounded border p-2 text-sm ${x.type==="error"?"border-destructive text-destructive":"border-green-600 text-green-700"}`,children:x.text.split(`
`).map((A,K)=>a.jsx("div",{children:A},K))}),a.jsxs(Wu,{defaultValue:"data",className:"mt-2",children:[a.jsxs(ni,{children:[a.jsx(Zs,{value:"data",children:"Datos bsicos"}),a.jsx(Zs,{value:"sections",children:"Secciones"})]}),a.jsxs(Ws,{value:"data",className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"ID"}),a.jsx(xe,{className:"h-8 text-sm",value:c.id,onChange:h("id")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Nombre"}),a.jsx(xe,{className:"h-8 text-sm",value:c.name,onChange:h("name")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Crditos"}),a.jsx(xe,{className:"h-8 text-sm",type:"number",value:c.credits,onChange:y("credits")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Horas tericas"}),a.jsx(xe,{className:"h-8 text-sm",type:"number",value:c.theoreticalHours,onChange:y("theoreticalHours")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Horas prcticas"}),a.jsx(xe,{className:"h-8 text-sm",type:"number",value:c.practicalHours,onChange:y("practicalHours")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Term"}),a.jsx(xe,{className:"h-8 text-sm",type:"number",value:c.term,onChange:y("term")})]})]}),a.jsx(qs,{className:"my-2"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"font-medium text-sm",children:"Prerequisitos"}),a.jsx(xe,{placeholder:"Buscar curso",value:d,onChange:A=>u(A.target.value),className:"max-w-xs h-8 text-xs"})]}),a.jsx("div",{className:"max-h-48 overflow-auto border rounded p-2 space-y-1",children:g.map(A=>{const K=(c.prerequisites??[]).includes(A.id);return a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:K,onChange:()=>b("prerequisites",A.id)}),a.jsx("span",{className:"font-medium",children:A.id}),a.jsxs("span",{className:"text-muted-foreground",children:["  ",A.name]})]},`pre-${A.id}`)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium text-sm mt-3",children:"Correquisitos"}),a.jsx("div",{className:"max-h-48 overflow-auto border rounded p-2 space-y-1",children:g.map(A=>{const K=(c.corequisites??[]).includes(A.id);return a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:K,onChange:()=>b("corequisites",A.id)}),a.jsx("span",{className:"font-medium",children:A.id}),a.jsxs("span",{className:"text-muted-foreground",children:["  ",A.name]})]},`co-${A.id}`)})})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[a.jsx(ce,{variant:"outline",onClick:e,children:"Cancelar"}),a.jsx(ce,{onClick:w,children:"Guardar datos"})]})]}),a.jsxs(Ws,{value:"sections",className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-medium text-sm",children:["Secciones del curso ",c.id]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xe,{placeholder:"Buscar por CRN/Aula",value:N,onChange:A=>T(A.target.value),className:"h-8 text-xs max-w-xs"}),a.jsx(ce,{size:"sm",variant:"outline",onClick:ie,children:"Guardar secciones"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 border rounded p-2",children:[a.jsx(xe,{placeholder:"CRN (ej. MED100001)",value:k.crn,onChange:A=>P({...k,crn:A.target.value}),className:"h-8 text-xs max-w-[200px]"}),a.jsx(xe,{placeholder:"Aula (ej. A-101)",value:k.room,onChange:A=>P({...k,room:A.target.value}),className:"h-8 text-xs max-w-[160px]"}),a.jsx(ce,{size:"sm",onClick:F,children:"Agregar seccin"})]}),a.jsxs("div",{className:"space-y-2",children:[O.map(A=>{var K,te,ue,Se,Ee;return a.jsxs("div",{className:"border rounded p-2",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-sm font-medium",children:A.crn}),Te(A.crn)&&a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-destructive text-destructive",children:"Conflicto"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:"text-xs flex items-center gap-1",children:[a.jsx("span",{children:"Aula"}),a.jsx(xe,{value:A.room||"",onChange:U=>I(A.crn,"room",U.target.value),className:"h-8 text-xs w-[140px]"})]}),a.jsxs("label",{className:"text-xs flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:!!A.closed,onChange:U=>I(A.crn,"closed",U.target.checked)}),a.jsx("span",{children:"Cerrada"})]}),a.jsx(ce,{size:"sm",variant:"destructive",onClick:()=>X(A.crn),children:"Eliminar"})]})]}),a.jsx(qs,{className:"my-2"}),a.jsxs("div",{className:"space-y-1",children:[(A.schedule||[]).map((U,se)=>{const Pe=Qr(U.start),we=Qr(U.end);return a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[a.jsx("select",{value:U.day??"Monday",onChange:ae=>{const fe=ae.target.value;C(ke=>ke.map(Ce=>Ce.crn===A.crn?{...Ce,schedule:Ce.schedule.map((Ue,Re)=>Re===se?{...Ue,day:fe}:Ue)}:Ce))},className:"h-8 px-2 border rounded bg-background text-foreground",children:vc.map(ae=>a.jsx("option",{value:ae,children:ae},ae))}),a.jsx(xe,{value:Pe.time,onChange:ae=>{const fe=Yr(ae.target.value,Pe.ap);C(ke=>ke.map(Ce=>Ce.crn===A.crn?{...Ce,schedule:Ce.schedule.map((Ue,Re)=>Re===se?{...Ue,start:fe}:Ue)}:Ce))},className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),a.jsxs("select",{value:Pe.ap,onChange:ae=>{const fe=ae.target.value,ke=Qr(U.start).time,Ce=Yr(ke,fe);C(Ue=>Ue.map(Re=>Re.crn===A.crn?{...Re,schedule:Re.schedule.map((at,Tr)=>Tr===se?{...at,start:Ce}:at)}:Re))},className:"h-8 px-2 border rounded bg-background text-foreground",children:[a.jsx("option",{children:"AM"}),a.jsx("option",{children:"PM"})]}),a.jsx("span",{className:"opacity-60",children:""}),a.jsx(xe,{value:we.time,onChange:ae=>{const fe=Yr(ae.target.value,we.ap);C(ke=>ke.map(Ce=>Ce.crn===A.crn?{...Ce,schedule:Ce.schedule.map((Ue,Re)=>Re===se?{...Ue,end:fe}:Ue)}:Ce))},className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),a.jsxs("select",{value:we.ap,onChange:ae=>{const fe=ae.target.value,ke=Qr(U.end).time,Ce=Yr(ke,fe);C(Ue=>Ue.map(Re=>Re.crn===A.crn?{...Re,schedule:Re.schedule.map((at,Tr)=>Tr===se?{...at,end:Ce}:at)}:Re))},className:"h-8 px-2 border rounded bg-background text-foreground",children:[a.jsx("option",{children:"AM"}),a.jsx("option",{children:"PM"})]}),a.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>J(A.crn,se),children:"Quitar"})]},se)}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[a.jsx("select",{value:((K=L[A.crn])==null?void 0:K.day)??"Monday",onChange:U=>M(se=>({...se,[A.crn]:{...se[A.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},day:U.target.value}})),className:"h-8 px-2 border rounded bg-background text-foreground",children:vc.map(U=>a.jsx("option",{value:U,children:U},U))}),a.jsx(xe,{value:((te=L[A.crn])==null?void 0:te.timeStart12)??"07:00",onChange:U=>M(se=>({...se,[A.crn]:{...se[A.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},timeStart12:U.target.value}})),className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),a.jsxs("select",{value:((ue=L[A.crn])==null?void 0:ue.apStart)??"AM",onChange:U=>M(se=>({...se,[A.crn]:{...se[A.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},apStart:U.target.value}})),className:"h-8 px-2 border rounded bg-background text-foreground",children:[a.jsx("option",{children:"AM"}),a.jsx("option",{children:"PM"})]}),a.jsx("span",{className:"opacity-60",children:""}),a.jsx(xe,{value:((Se=L[A.crn])==null?void 0:Se.timeEnd12)??"09:00",onChange:U=>M(se=>({...se,[A.crn]:{...se[A.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},timeEnd12:U.target.value}})),className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),a.jsxs("select",{value:((Ee=L[A.crn])==null?void 0:Ee.apEnd)??"AM",onChange:U=>M(se=>({...se,[A.crn]:{...se[A.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},apEnd:U.target.value}})),className:"h-8 px-2 border rounded bg-background text-foreground",children:[a.jsx("option",{children:"AM"}),a.jsx("option",{children:"PM"})]}),a.jsx(ce,{size:"sm",variant:"outline",onClick:()=>$(A.crn),children:"Agregar bloque"})]})]})]},A.crn)}),O.length===0&&a.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay secciones"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ce,{variant:"outline",onClick:e,children:"Cerrar"}),a.jsx(ce,{onClick:ie,children:"Guardar secciones"})]})]})]})]})})}function lb(t){const e={};for(let l=0;l<t.length;l++){const d=t[l][0],u=t[l][1];e[d]||(e[d]=[]),e[d].push(u),e[u]||(e[u]=[])}const r=0,s=1,n=2,o={},i=Object.keys(e);for(let l=0;l<i.length;l++)o[i[l]]=r;const c=l=>{o[l]=s;const d=e[l]||[];for(let u=0;u<d.length;u++){const m=d[u],g=o[m];if(g===s||g===r&&c(m))return!0}return o[l]=n,!1};for(let l=0;l<i.length;l++){const d=i[l];if(o[d]===r&&c(d))return!0}return!1}function db(t){const e=[];for(let r=0;r<t.length;r++){const s=t[r],n=s.prerequisites||[];for(let o=0;o<n.length;o++)e.push([s.id,n[o]])}return e}function ub(){const[t,e]=f.useState(null),[r,s]=f.useState(null),[n,o]=f.useState(""),[i,c]=f.useState({open:!1,target:null});f.useEffect(()=>{let v=!1;return(async()=>{try{const[x,p]=await Promise.all([Ot.getCourses(),Ot.getSections()]);v||(e(x),s(p))}catch(x){console.error("Error loading datasets",x),v||(e([]),s([]))}})(),()=>{v=!0}},[]);const l=f.useMemo(()=>{const v=(t==null?void 0:t.length)??0,x=Array.isArray(r)?r.length:r&&r.courses?r.courses.reduce((p,w)=>{var S;return p+(((S=w.sections)==null?void 0:S.length)||0)},0):0;return{totalCourses:v,totalSections:x}},[t,r]),d=f.useMemo(()=>{const v=n.trim().toLowerCase();return!v||!t?t??[]:t.filter(x=>x.id.toLowerCase().includes(v)||x.name.toLowerCase().includes(v))},[n,t]),u=v=>{if(!r)return[];if(r.courses&&Array.isArray(r.courses)){const x=r.courses.find(p=>p.id===v);return x!=null&&x.sections?[...x.sections]:[]}return Array.isArray(r)?r.filter(x=>x.courseId===v):[]},m=async(v,x)=>{if(!r)return;let p=Array.isArray(r)?[...r]:{...r};if(p.courses&&Array.isArray(p.courses)){const w=p.courses.findIndex(S=>S.id===v);w>=0?p.courses[w]={...p.courses[w],sections:x}:p.courses.push({id:v,sections:x})}else Array.isArray(p)&&(p=p.filter(w=>w.courseId!==v),p.push(...x.map(w=>({...w,courseId:v}))));s(p),await Ot.saveSections(p)},g=async()=>{if(!t)return;const v=prompt("ID de la materia (ej. MED101):");if(!v)return;if(t.some(T=>T.id===v))return alert("ID ya existe");const x=prompt("Nombre de la materia:")||"Nueva materia",p=Number(prompt("Crditos:","4")||0),w=Number(prompt("Horas tericas:","2")||0),S=Number(prompt("Horas prcticas:","2")||0),C=Number(prompt("Trimestre/Semestre (nmero):","1")||1),N=[...t,{id:v,name:x,credits:p,theoreticalHours:w,practicalHours:S,term:C}];e(N),await Ot.saveCourses(N),alert(" Curso agregado (recuerda Exportar JSON para persistir en el repo)")},b=async v=>{if(!t||!confirm(`Eliminar curso ${v}?`))return;const x=t.filter(p=>p.id!==v);e(x),await Ot.saveCourses(x),alert(" Curso eliminado (recuerda Exportar JSON para persistir en el repo)")},y=v=>{const x=document.createElement("input");x.type="file",x.accept="application/json",x.onchange=async()=>{var w;const p=(w=x.files)==null?void 0:w[0];if(p)try{const S=await p.text(),C=JSON.parse(S);v==="courses"?(e(C),await Ot.saveCourses(C)):(s(C),await Ot.saveSections(C)),alert(` Importado ${v}. Recuerda Exportar para guardar una copia.`)}catch(S){alert(` Error importando ${v}: ${String(S)}`)}},x.click()},h=v=>{const x=v==="courses"?t:r;if(!x){alert(`No hay datos de ${v} para exportar.`);return}const p=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),w=URL.createObjectURL(p),S=document.createElement("a");S.download=`${v}.json`,S.href=w,S.click(),URL.revokeObjectURL(w)};return a.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Admin  Medicina PWA"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Editor local de datasets (courses.json / sections.json). Usa Importar/Exportar para trabajar sin backend."}),a.jsxs(Tt,{className:"mb-6",children:[a.jsx(pr,{className:"pb-3",children:a.jsx(gr,{className:"text-lg",children:"Estado de datasets"})}),a.jsxs(Et,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de cursos"}),a.jsx("div",{className:"text-xl font-bold",children:l.totalCourses})]}),a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de secciones"}),a.jsx("div",{className:"text-xl font-bold",children:l.totalSections})]}),a.jsxs("div",{className:"border rounded p-3",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Modo"}),a.jsx("div",{className:"text-xl font-bold",children:"Front-only"})]})]})]}),a.jsxs(Tt,{children:[a.jsx(pr,{className:"pb-3",children:a.jsx(gr,{className:"text-lg",children:"Herramientas"})}),a.jsxs(Et,{children:[a.jsx(nb,{search:n,onSearchChange:o,onAdd:g,onImportCourses:()=>y("courses"),onImportSections:()=>y("sections"),onExportCourses:()=>h("courses"),onExportSections:()=>h("sections")}),a.jsx(qs,{className:"my-4"}),a.jsx(ob,{courses:(d||[]).slice(0,200),onEdit:v=>c({open:!0,target:v}),onDelete:b}),d&&d.length>200&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Mostrando 200 de ",d.length," cursos (paginacin vendr luego)"]})]})]}),i.target&&a.jsx(cb,{open:i.open,onClose:()=>c({open:!1,target:null}),course:i.target,allCourses:t??[],onSave:v=>{if(!t)return;const x=t.map(w=>w.id===i.target.id?v:w),p=db(x);if(lb(p)){alert(" La edicin introduce un ciclo de prerequisitos. Revsalos.");return}e(x),Ot.saveCourses(x),c({open:!1,target:null}),alert(" Curso actualizado (recuerda Exportar JSON para persistir en el repo)")},getSectionsForCourse:u,setSectionsForCourse:m}),a.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:"Prximo: CRUD de secciones + edicin integrada (tab Secciones) y verificador de choques de horario."})]})}const fb=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/medicina-pwa-final/sw.js");e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),e.onupdatefound=()=>{const r=e.installing;r&&(r.onstatechange=()=>{r.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nueva versin disponible. Se aplicar en la prxima visita.")})}}catch(t){console.error("SW registration failed:",t)}};fb();const Rf=new URLSearchParams(window.location.search).get("admin")==="1"||localStorage.getItem("admin")==="1";document.title=Rf?"Pensum Medicina  Admin":"Pensum Medicina";Ca.createRoot(document.getElementById("root")).render(a.jsx(ve.StrictMode,{children:Rf?a.jsx(ub,{}):a.jsx(sb,{})}));
