var bi=t=>{throw TypeError(t)};var Pa=(t,e,s)=>e.has(t)||bi("Cannot "+s);var j=(t,e,s)=>(Pa(t,e,"read from private field"),s?s.call(t):e.get(t)),ne=(t,e,s)=>e.has(t)?bi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),G=(t,e,s,r)=>(Pa(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),pe=(t,e,s)=>(Pa(t,e,"access private method"),s);var Tn=(t,e,s,r)=>({set _(n){G(t,e,n,s)},get _(){return j(t,e,r)}});import{j as o,P as we,c as Ol,a as Zs,u as Oe,B as Of,b as Fn,d as Ws,e as ft,f as de,R as If,g as Il,h as pt,i as Df,D as Dl,k as Lf,S as Ll,l as Ff,m as Vf,n as $f,F as zf,o as Ao,p as Hf,q as Fl,O as Vl,C as $l,r as Bf,T as zl,s as Hl,t as Uf,v as qf,w as Zf,L as Bl,x as Ul,y as ql,z as Wf}from"./ui-CDRCKRVj.js";import{r as f,c as Gf,a as gn,R as ye}from"./react-CX2mysxk.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();function Kf(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,r,n,a,i=[],l="",c=t.split("/");for(c[0]||c.shift();n=c.shift();)s=n[0],s==="*"?(i.push(s),l+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=n.indexOf("?",1),a=n.indexOf(".",1),i.push(n.substring(1,~r?r:~a?a:n.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+n.substring(a))):l+="/"+n;return{keys:i,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var Zl={exports:{}},Wl={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=f;function Qf(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yf=typeof Object.is=="function"?Object.is:Qf,Xf=vr.useState,Jf=vr.useEffect,eh=vr.useLayoutEffect,th=vr.useDebugValue;function sh(t,e){var s=e(),r=Xf({inst:{value:s,getSnapshot:e}}),n=r[0].inst,a=r[1];return eh(function(){n.value=s,n.getSnapshot=e,Ra(n)&&a({inst:n})},[t,s,e]),Jf(function(){return Ra(n)&&a({inst:n}),t(function(){Ra(n)&&a({inst:n})})},[t]),th(s),s}function Ra(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Yf(t,s)}catch{return!0}}function rh(t,e){return e()}var nh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rh:sh;Wl.useSyncExternalStore=vr.useSyncExternalStore!==void 0?vr.useSyncExternalStore:nh;Zl.exports=Wl;var ah=Zl.exports;const oh=Gf.useInsertionEffect,ih=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lh=ih?f.useLayoutEffect:f.useEffect,ch=oh||lh,Gl=t=>{const e=f.useRef([t,(...s)=>e[0](...s)]).current;return ch(()=>{e[0]=t}),e[1]},dh="popstate",Po="pushState",Ro="replaceState",uh="hashchange",wi=[dh,Po,Ro,uh],fh=t=>{for(const e of wi)addEventListener(e,t);return()=>{for(const e of wi)removeEventListener(e,t)}},Kl=(t,e)=>ah.useSyncExternalStore(fh,t,e),hh=()=>location.search,mh=({ssrSearch:t=""}={})=>Kl(hh,()=>t),Si=()=>location.pathname,ph=({ssrPath:t}={})=>Kl(Si,t?()=>t:Si),gh=(t,{replace:e=!1,state:s=null}={})=>history[e?Ro:Po](s,"",t),xh=(t={})=>[ph(t),gh],ji=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ji]>"u"){for(const t of[Po,Ro]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,ji,{value:!0})}const vh=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Ql=(t="")=>t==="/"?"":t,yh=(t,e)=>t[0]==="~"?t.slice(1):Ql(e)+t,bh=(t="",e)=>vh(Ci(Ql(t)),Ci(e)),Ci=t=>{try{return decodeURI(t)}catch{return t}},Yl={hook:xh,searchHook:mh,parser:Kf,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Xl=f.createContext(Yl),ia=()=>f.useContext(Xl),Jl={},ec=f.createContext(Jl),wh=()=>f.useContext(ec),Mo=t=>{const[e,s]=t.hook(t);return[bh(t.base,e),Gl((r,n)=>s(yh(r,t.base),n))]},tc=(t,e,s,r)=>{const{pattern:n,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),i=n.exec(s)||[],[l,...c]=i;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,g)=>[h,c[g]])):i.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},sc=({children:t,...e})=>{var u,h;const s=ia(),r=e.hook?Yl:s;let n=r;const[a,i]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];i&&(e.ssrSearch=i,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=f.useRef({}),c=l.current,d=c;for(let g in r){const y=g==="base"?r[g]+(e[g]||""):e[g]||r[g];c===d&&y!==d[g]&&(l.current=d={...d}),d[g]=y,y!==r[g]&&(n=d)}return f.createElement(Xl.Provider,{value:n,children:t})},_i=({children:t,component:e},s)=>e?f.createElement(e,{params:s}):typeof t=="function"?t(s):t,Sh=t=>{let e=f.useRef(Jl),s=e.current;for(const r in t)t[r]!==s[r]&&(s=t);return Object.keys(t).length===0&&(s=t),e.current=s},En=({path:t,nest:e,match:s,...r})=>{const n=ia(),[a]=Mo(n),[i,l,c]=s??tc(n.parser,t,a,e),d=Sh({...wh(),...l});if(!i)return null;const u=c?f.createElement(sc,{base:c},_i(r,d)):_i(r,d);return f.createElement(ec.Provider,{value:d,children:u})},yr=f.forwardRef((t,e)=>{const s=ia(),[r,n]=Mo(s),{to:a="",href:i=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:g,...y}=t,b=Gl(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),n(i,t)))}),m=s.hrefs(i[0]==="~"?i.slice(1):s.base+i,s);return c&&f.isValidElement(d)?f.cloneElement(d,{onClick:b,href:m}):f.createElement("a",{...y,onClick:b,href:m,className:u!=null&&u.call?u(r===i):u,children:d,ref:e})}),rc=t=>Array.isArray(t)?t.flatMap(e=>rc(e&&e.type===f.Fragment?e.props.children:e)):[t],jh=({children:t,location:e})=>{const s=ia(),[r]=Mo(s);for(const n of rc(t)){let a=0;if(f.isValidElement(n)&&(a=tc(s.parser,n.props.path,e||r,n.props.nest))[0])return f.cloneElement(n,{match:a})}return null};var Tr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vs=typeof window>"u"||"Deno"in globalThis;function xt(){}function Ch(t,e){return typeof t=="function"?t(e):t}function Ha(t){return typeof t=="number"&&t>=0&&t!==1/0}function nc(t,e){return Math.max(t+(e||0)-Date.now(),0)}function er(t,e){return typeof t=="function"?t(e):t}function St(t,e){return typeof t=="function"?t(e):t}function Ni(t,e){const{type:s="all",exact:r,fetchStatus:n,predicate:a,queryKey:i,stale:l}=t;if(i){if(r){if(e.queryHash!==Oo(i,e.options))return!1}else if(!Zr(e.queryKey,i))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||n&&n!==e.state.fetchStatus||a&&!a(e))}function Ti(t,e){const{exact:s,status:r,predicate:n,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if($s(e.options.mutationKey)!==$s(a))return!1}else if(!Zr(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function Oo(t,e){return((e==null?void 0:e.queryKeyHashFn)||$s)(t)}function $s(t){return JSON.stringify(t,(e,s)=>Ba(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function Zr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Zr(t[s],e[s])):!1}function ac(t,e){if(t===e)return t;const s=Ei(t)&&Ei(e);if(s||Ba(t)&&Ba(e)){const r=s?t:Object.keys(t),n=r.length,a=s?e:Object.keys(e),i=a.length,l=s?[]:{};let c=0;for(let d=0;d<i;d++){const u=s?d:a[d];(!s&&r.includes(u)||s)&&t[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=ac(t[u],e[u]),l[u]===t[u]&&t[u]!==void 0&&c++)}return n===i&&c===n?t:l}return e}function Vn(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Ei(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ba(t){if(!ki(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!ki(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ki(t){return Object.prototype.toString.call(t)==="[object Object]"}function _h(t){return new Promise(e=>{setTimeout(e,t)})}function Ua(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?ac(t,e):e}function Nh(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function Th(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var Io=Symbol();function oc(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Io?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ks,ls,ar,Cl,Eh=(Cl=class extends Tr{constructor(){super();ne(this,ks);ne(this,ls);ne(this,ar);G(this,ar,e=>{if(!Vs&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){j(this,ls)||this.setEventListener(j(this,ar))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,ls))==null||e.call(this),G(this,ls,void 0))}setEventListener(e){var s;G(this,ar,e),(s=j(this,ls))==null||s.call(this),G(this,ls,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,ks)!==e&&(G(this,ks,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof j(this,ks)=="boolean"?j(this,ks):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ks=new WeakMap,ls=new WeakMap,ar=new WeakMap,Cl),Do=new Eh,or,cs,ir,_l,kh=(_l=class extends Tr{constructor(){super();ne(this,or,!0);ne(this,cs);ne(this,ir);G(this,ir,e=>{if(!Vs&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,cs)||this.setEventListener(j(this,ir))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,cs))==null||e.call(this),G(this,cs,void 0))}setEventListener(e){var s;G(this,ir,e),(s=j(this,cs))==null||s.call(this),G(this,cs,e(this.setOnline.bind(this)))}setOnline(e){j(this,or)!==e&&(G(this,or,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,or)}},or=new WeakMap,cs=new WeakMap,ir=new WeakMap,_l),$n=new kh;function qa(){let t,e;const s=new Promise((n,a)=>{t=n,e=a});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},s.reject=n=>{r({status:"rejected",reason:n}),e(n)},s}function Ah(t){return Math.min(1e3*2**t,3e4)}function ic(t){return(t??"online")==="online"?$n.isOnline():!0}var lc=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ma(t){return t instanceof lc}function cc(t){let e=!1,s=0,r=!1,n;const a=qa(),i=m=>{var v;r||(g(new lc(m)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Do.isFocused()&&(t.networkMode==="always"||$n.isOnline())&&t.canRun(),u=()=>ic(t.networkMode)&&t.canRun(),h=m=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,m),n==null||n(),a.resolve(m))},g=m=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,m),n==null||n(),a.reject(m))},y=()=>new Promise(m=>{var v;n=x=>{(r||d())&&m(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;n=void 0,r||(m=t.onContinue)==null||m.call(t)}),b=()=>{if(r)return;let m;const v=s===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(h).catch(x=>{var N;if(r)return;const p=t.retry??(Vs?0:3),w=t.retryDelay??Ah,C=typeof w=="function"?w(s,x):w,_=p===!0||typeof p=="number"&&s<p||typeof p=="function"&&p(s,x);if(e||!_){g(x);return}s++,(N=t.onFail)==null||N.call(t,s,x),_h(C).then(()=>d()?void 0:y()).then(()=>{e?g(x):b()})})};return{promise:a,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?b():y().then(b),a)}}function Ph(){let t=[],e=0,s=l=>{l()},r=l=>{l()},n=l=>setTimeout(l,0);const a=l=>{e?t.push(l):n(()=>{s(l)})},i=()=>{const l=t;t=[],l.length&&n(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{n=l}}}var Ge=Ph(),As,Nl,dc=(Nl=class{constructor(){ne(this,As)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ha(this.gcTime)&&G(this,As,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vs?1/0:5*60*1e3))}clearGcTimeout(){j(this,As)&&(clearTimeout(j(this,As)),G(this,As,void 0))}},As=new WeakMap,Nl),lr,cr,gt,Ye,fn,Ps,wt,Gt,Tl,Rh=(Tl=class extends dc{constructor(e){super();ne(this,wt);ne(this,lr);ne(this,cr);ne(this,gt);ne(this,Ye);ne(this,fn);ne(this,Ps);G(this,Ps,!1),G(this,fn,e.defaultOptions),this.setOptions(e.options),this.observers=[],G(this,gt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,G(this,lr,Mh(this.options)),this.state=e.state??j(this,lr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=j(this,Ye))==null?void 0:e.promise}setOptions(e){this.options={...j(this,fn),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,gt).remove(this)}setData(e,s){const r=Ua(this.state.data,e,this.options);return pe(this,wt,Gt).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){pe(this,wt,Gt).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,n;const s=(r=j(this,Ye))==null?void 0:r.promise;return(n=j(this,Ye))==null||n.cancel(e),s?s.then(xt).catch(xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,lr))}isActive(){return this.observers.some(e=>St(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Io||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!nc(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=j(this,Ye))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=j(this,Ye))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),j(this,gt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(j(this,Ye)&&(j(this,Ps)?j(this,Ye).cancel({revert:!0}):j(this,Ye).cancelRetry()),this.scheduleGc()),j(this,gt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,wt,Gt).call(this,{type:"invalidate"})}fetch(e,s){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(j(this,Ye))return j(this,Ye).continueRetry(),j(this,Ye).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(G(this,Ps,!0),r.signal)})},a=()=>{const h=oc(this.options,s),g={queryKey:this.queryKey,meta:this.meta};return n(g),G(this,Ps,!1),this.options.persister?this.options.persister(h,g,this):h(g)},i={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};n(i),(c=this.options.behavior)==null||c.onFetch(i,this),G(this,cr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=i.fetchOptions)==null?void 0:d.meta))&&pe(this,wt,Gt).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const l=h=>{var g,y,b,m;Ma(h)&&h.silent||pe(this,wt,Gt).call(this,{type:"error",error:h}),Ma(h)||((y=(g=j(this,gt).config).onError)==null||y.call(g,h,this),(m=(b=j(this,gt).config).onSettled)==null||m.call(b,this.state.data,h,this)),this.scheduleGc()};return G(this,Ye,cc({initialPromise:s==null?void 0:s.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var g,y,b,m;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(y=(g=j(this,gt).config).onSuccess)==null||y.call(g,h,this),(m=(b=j(this,gt).config).onSettled)==null||m.call(b,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,g)=>{pe(this,wt,Gt).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{pe(this,wt,Gt).call(this,{type:"pause"})},onContinue:()=>{pe(this,wt,Gt).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),j(this,Ye).start()}},lr=new WeakMap,cr=new WeakMap,gt=new WeakMap,Ye=new WeakMap,fn=new WeakMap,Ps=new WeakMap,wt=new WeakSet,Gt=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...uc(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Ma(n)&&n.revert&&j(this,cr)?{...j(this,cr),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),Ge.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,gt).notify({query:this,type:"updated",action:e})})},Tl);function uc(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ic(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Mh(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Mt,El,Oh=(El=class extends Tr{constructor(e={}){super();ne(this,Mt);this.config=e,G(this,Mt,new Map)}build(e,s,r){const n=s.queryKey,a=s.queryHash??Oo(n,s);let i=this.get(a);return i||(i=new Rh({cache:this,queryKey:n,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){j(this,Mt).has(e.queryHash)||(j(this,Mt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=j(this,Mt).get(e.queryHash);s&&(e.destroy(),s===e&&j(this,Mt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ge.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Mt).get(e)}getAll(){return[...j(this,Mt).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Ni(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>Ni(e,r)):s}notify(e){Ge.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){Ge.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ge.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mt=new WeakMap,El),Ot,Je,Rs,It,os,kl,Ih=(kl=class extends dc{constructor(e){super();ne(this,It);ne(this,Ot);ne(this,Je);ne(this,Rs);this.mutationId=e.mutationId,G(this,Je,e.mutationCache),G(this,Ot,[]),this.state=e.state||fc(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){j(this,Ot).includes(e)||(j(this,Ot).push(e),this.clearGcTimeout(),j(this,Je).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){G(this,Ot,j(this,Ot).filter(s=>s!==e)),this.scheduleGc(),j(this,Je).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){j(this,Ot).length||(this.state.status==="pending"?this.scheduleGc():j(this,Je).remove(this))}continue(){var e;return((e=j(this,Rs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,a,i,l,c,d,u,h,g,y,b,m,v,x,p,w,C,_,N,E;G(this,Rs,cc({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,M)=>{pe(this,It,os).call(this,{type:"failed",failureCount:R,error:M})},onPause:()=>{pe(this,It,os).call(this,{type:"pause"})},onContinue:()=>{pe(this,It,os).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Je).canRun(this)}));const s=this.state.status==="pending",r=!j(this,Rs).canStart();try{if(!s){pe(this,It,os).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(n=j(this,Je).config).onMutate)==null?void 0:a.call(n,e,this));const M=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,e));M!==this.state.context&&pe(this,It,os).call(this,{type:"pending",context:M,variables:e,isPaused:r})}const R=await j(this,Rs).start();return await((d=(c=j(this,Je).config).onSuccess)==null?void 0:d.call(c,R,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,R,e,this.state.context)),await((y=(g=j(this,Je).config).onSettled)==null?void 0:y.call(g,R,null,this.state.variables,this.state.context,this)),await((m=(b=this.options).onSettled)==null?void 0:m.call(b,R,null,e,this.state.context)),pe(this,It,os).call(this,{type:"success",data:R}),R}catch(R){try{throw await((x=(v=j(this,Je).config).onError)==null?void 0:x.call(v,R,e,this.state.context,this)),await((w=(p=this.options).onError)==null?void 0:w.call(p,R,e,this.state.context)),await((_=(C=j(this,Je).config).onSettled)==null?void 0:_.call(C,void 0,R,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,void 0,R,e,this.state.context)),R}finally{pe(this,It,os).call(this,{type:"error",error:R})}}finally{j(this,Je).runNext(this)}}},Ot=new WeakMap,Je=new WeakMap,Rs=new WeakMap,It=new WeakSet,os=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Ge.batch(()=>{j(this,Ot).forEach(r=>{r.onMutationUpdate(e)}),j(this,Je).notify({mutation:this,type:"updated",action:e})})},kl);function fc(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ct,hn,Al,Dh=(Al=class extends Tr{constructor(e={}){super();ne(this,ct);ne(this,hn);this.config=e,G(this,ct,new Map),G(this,hn,Date.now())}build(e,s,r){const n=new Ih({mutationCache:this,mutationId:++Tn(this,hn)._,options:e.defaultMutationOptions(s),state:r});return this.add(n),n}add(e){const s=kn(e),r=j(this,ct).get(s)??[];r.push(e),j(this,ct).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=kn(e);if(j(this,ct).has(s)){const n=(r=j(this,ct).get(s))==null?void 0:r.filter(a=>a!==e);n&&(n.length===0?j(this,ct).delete(s):j(this,ct).set(s,n))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=j(this,ct).get(kn(e)))==null?void 0:r.find(n=>n.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=j(this,ct).get(kn(e)))==null?void 0:r.find(n=>n!==e&&n.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Ge.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...j(this,ct).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Ti(s,r))}findAll(e={}){return this.getAll().filter(s=>Ti(e,s))}notify(e){Ge.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return Ge.batch(()=>Promise.all(e.map(s=>s.continue().catch(xt))))}},ct=new WeakMap,hn=new WeakMap,Al);function kn(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Ai(t){return{onFetch:(e,s)=>{var u,h,g,y,b;const r=e.options,n=(g=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:g.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],i=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},x=oc(e.options,e.fetchOptions),p=async(w,C,_)=>{if(m)return Promise.reject();if(C==null&&w.pages.length)return Promise.resolve(w);const N={queryKey:e.queryKey,pageParam:C,direction:_?"backward":"forward",meta:e.options.meta};v(N);const E=await x(N),{maxPages:R}=e.options,M=_?Th:Nh;return{pages:M(w.pages,E,R),pageParams:M(w.pageParams,C,R)}};if(n&&a.length){const w=n==="backward",C=w?Lh:Pi,_={pages:a,pageParams:i},N=C(r,_);l=await p(_,N,w)}else{const w=t??a.length;do{const C=c===0?i[0]??r.initialPageParam:Pi(r,l);if(c>0&&C==null)break;l=await p(l,C),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function Pi(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function Lh(t,{pages:e,pageParams:s}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s):void 0}var De,ds,us,dr,ur,fs,fr,hr,Pl,Fh=(Pl=class{constructor(t={}){ne(this,De);ne(this,ds);ne(this,us);ne(this,dr);ne(this,ur);ne(this,fs);ne(this,fr);ne(this,hr);G(this,De,t.queryCache||new Oh),G(this,ds,t.mutationCache||new Dh),G(this,us,t.defaultOptions||{}),G(this,dr,new Map),G(this,ur,new Map),G(this,fs,0)}mount(){Tn(this,fs)._++,j(this,fs)===1&&(G(this,fr,Do.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,De).onFocus())})),G(this,hr,$n.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,De).onOnline())})))}unmount(){var t,e;Tn(this,fs)._--,j(this,fs)===0&&((t=j(this,fr))==null||t.call(this),G(this,fr,void 0),(e=j(this,hr))==null||e.call(this),G(this,hr,void 0))}isFetching(t){return j(this,De).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,ds).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=j(this,De).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=j(this,De).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(er(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return j(this,De).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),n=j(this,De).get(r.queryHash),a=n==null?void 0:n.state.data,i=Ch(e,a);if(i!==void 0)return j(this,De).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(t,e,s){return Ge.batch(()=>j(this,De).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=j(this,De).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=j(this,De);Ge.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=j(this,De),r={type:"active",...t};return Ge.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=Ge.batch(()=>j(this,De).findAll(t).map(n=>n.cancel(s)));return Promise.all(r).then(xt).catch(xt)}invalidateQueries(t={},e={}){return Ge.batch(()=>{if(j(this,De).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ge.batch(()=>j(this,De).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let a=n.fetch(void 0,s);return s.throwOnError||(a=a.catch(xt)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(xt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=j(this,De).build(this,e);return s.isStaleByTime(er(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xt).catch(xt)}fetchInfiniteQuery(t){return t.behavior=Ai(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xt).catch(xt)}ensureInfiniteQueryData(t){return t.behavior=Ai(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $n.isOnline()?j(this,ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,De)}getMutationCache(){return j(this,ds)}getDefaultOptions(){return j(this,us)}setDefaultOptions(t){G(this,us,t)}setQueryDefaults(t,e){j(this,dr).set($s(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,dr).values()];let s={};return e.forEach(r=>{Zr(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){j(this,ur).set($s(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,ur).values()];let s={};return e.forEach(r=>{Zr(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Oo(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Io&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,De).clear(),j(this,ds).clear()}},De=new WeakMap,ds=new WeakMap,us=new WeakMap,dr=new WeakMap,ur=new WeakMap,fs=new WeakMap,fr=new WeakMap,hr=new WeakMap,Pl),it,xe,mn,et,Ms,mr,hs,Dt,pn,pr,gr,Os,Is,ms,xr,Te,Vr,Za,Wa,Ga,Ka,Qa,Ya,Xa,hc,Rl,Vh=(Rl=class extends Tr{constructor(e,s){super();ne(this,Te);ne(this,it);ne(this,xe);ne(this,mn);ne(this,et);ne(this,Ms);ne(this,mr);ne(this,hs);ne(this,Dt);ne(this,pn);ne(this,pr);ne(this,gr);ne(this,Os);ne(this,Is);ne(this,ms);ne(this,xr,new Set);this.options=s,G(this,it,e),G(this,Dt,null),G(this,hs,qa()),this.options.experimental_prefetchInRender||j(this,hs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,xe).addObserver(this),Ri(j(this,xe),this.options)?pe(this,Te,Vr).call(this):this.updateResult(),pe(this,Te,Ka).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ja(j(this,xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ja(j(this,xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Te,Qa).call(this),pe(this,Te,Ya).call(this),j(this,xe).removeObserver(this)}setOptions(e,s){const r=this.options,n=j(this,xe);if(this.options=j(this,it).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof St(this.options.enabled,j(this,xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Te,Xa).call(this),j(this,xe).setOptions(this.options),r._defaulted&&!Vn(this.options,r)&&j(this,it).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,xe),observer:this});const a=this.hasListeners();a&&Mi(j(this,xe),n,this.options,r)&&pe(this,Te,Vr).call(this),this.updateResult(s),a&&(j(this,xe)!==n||St(this.options.enabled,j(this,xe))!==St(r.enabled,j(this,xe))||er(this.options.staleTime,j(this,xe))!==er(r.staleTime,j(this,xe)))&&pe(this,Te,Za).call(this);const i=pe(this,Te,Wa).call(this);a&&(j(this,xe)!==n||St(this.options.enabled,j(this,xe))!==St(r.enabled,j(this,xe))||i!==j(this,ms))&&pe(this,Te,Ga).call(this,i)}getOptimisticResult(e){const s=j(this,it).getQueryCache().build(j(this,it),e),r=this.createResult(s,e);return zh(this,r)&&(G(this,et,r),G(this,mr,this.options),G(this,Ms,j(this,xe).state)),r}getCurrentResult(){return j(this,et)}trackResult(e,s){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),s==null||s(n),e[n])})}),r}trackProp(e){j(this,xr).add(e)}getCurrentQuery(){return j(this,xe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=j(this,it).defaultQueryOptions(e),r=j(this,it).getQueryCache().build(j(this,it),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return pe(this,Te,Vr).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,et)))}createResult(e,s){var R;const r=j(this,xe),n=this.options,a=j(this,et),i=j(this,Ms),l=j(this,mr),d=e!==r?e.state:j(this,mn),{state:u}=e;let h={...u},g=!1,y;if(s._optimisticResults){const M=this.hasListeners(),z=!M&&Ri(e,s),L=M&&Mi(e,r,s,n);(z||L)&&(h={...h,...uc(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:m,status:v}=h;if(s.select&&h.data!==void 0)if(a&&h.data===(i==null?void 0:i.data)&&s.select===j(this,pn))y=j(this,pr);else try{G(this,pn,s.select),y=s.select(h.data),y=Ua(a==null?void 0:a.data,y,s),G(this,pr,y),G(this,Dt,null)}catch(M){G(this,Dt,M)}else y=h.data;if(s.placeholderData!==void 0&&y===void 0&&v==="pending"){let M;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))M=a.data;else if(M=typeof s.placeholderData=="function"?s.placeholderData((R=j(this,gr))==null?void 0:R.state.data,j(this,gr)):s.placeholderData,s.select&&M!==void 0)try{M=s.select(M),G(this,Dt,null)}catch(z){G(this,Dt,z)}M!==void 0&&(v="success",y=Ua(a==null?void 0:a.data,M,s),g=!0)}j(this,Dt)&&(b=j(this,Dt),y=j(this,pr),m=Date.now(),v="error");const x=h.fetchStatus==="fetching",p=v==="pending",w=v==="error",C=p&&x,_=y!==void 0,E={status:v,fetchStatus:h.fetchStatus,isPending:p,isSuccess:v==="success",isError:w,isInitialLoading:C,isLoading:C,data:y,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!p,isLoadingError:w&&!_,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:w&&_,isStale:Lo(e,s),refetch:this.refetch,promise:j(this,hs)};if(this.options.experimental_prefetchInRender){const M=I=>{E.status==="error"?I.reject(E.error):E.data!==void 0&&I.resolve(E.data)},z=()=>{const I=G(this,hs,E.promise=qa());M(I)},L=j(this,hs);switch(L.status){case"pending":e.queryHash===r.queryHash&&M(L);break;case"fulfilled":(E.status==="error"||E.data!==L.value)&&z();break;case"rejected":(E.status!=="error"||E.error!==L.reason)&&z();break}}return E}updateResult(e){const s=j(this,et),r=this.createResult(j(this,xe),this.options);if(G(this,Ms,j(this,xe).state),G(this,mr,this.options),j(this,Ms).data!==void 0&&G(this,gr,j(this,xe)),Vn(r,s))return;G(this,et,r);const n={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!j(this,xr).size)return!0;const c=new Set(l??j(this,xr));return this.options.throwOnError&&c.add("error"),Object.keys(j(this,et)).some(d=>{const u=d;return j(this,et)[u]!==s[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(n.listeners=!0),pe(this,Te,hc).call(this,{...n,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Te,Ka).call(this)}},it=new WeakMap,xe=new WeakMap,mn=new WeakMap,et=new WeakMap,Ms=new WeakMap,mr=new WeakMap,hs=new WeakMap,Dt=new WeakMap,pn=new WeakMap,pr=new WeakMap,gr=new WeakMap,Os=new WeakMap,Is=new WeakMap,ms=new WeakMap,xr=new WeakMap,Te=new WeakSet,Vr=function(e){pe(this,Te,Xa).call(this);let s=j(this,xe).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(xt)),s},Za=function(){pe(this,Te,Qa).call(this);const e=er(this.options.staleTime,j(this,xe));if(Vs||j(this,et).isStale||!Ha(e))return;const r=nc(j(this,et).dataUpdatedAt,e)+1;G(this,Os,setTimeout(()=>{j(this,et).isStale||this.updateResult()},r))},Wa=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,xe)):this.options.refetchInterval)??!1},Ga=function(e){pe(this,Te,Ya).call(this),G(this,ms,e),!(Vs||St(this.options.enabled,j(this,xe))===!1||!Ha(j(this,ms))||j(this,ms)===0)&&G(this,Is,setInterval(()=>{(this.options.refetchIntervalInBackground||Do.isFocused())&&pe(this,Te,Vr).call(this)},j(this,ms)))},Ka=function(){pe(this,Te,Za).call(this),pe(this,Te,Ga).call(this,pe(this,Te,Wa).call(this))},Qa=function(){j(this,Os)&&(clearTimeout(j(this,Os)),G(this,Os,void 0))},Ya=function(){j(this,Is)&&(clearInterval(j(this,Is)),G(this,Is,void 0))},Xa=function(){const e=j(this,it).getQueryCache().build(j(this,it),this.options);if(e===j(this,xe))return;const s=j(this,xe);G(this,xe,e),G(this,mn,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},hc=function(e){Ge.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(j(this,et))}),j(this,it).getQueryCache().notify({query:j(this,xe),type:"observerResultsUpdated"})})},Rl);function $h(t,e){return St(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ri(t,e){return $h(t,e)||t.state.data!==void 0&&Ja(t,e,e.refetchOnMount)}function Ja(t,e,s){if(St(e.enabled,t)!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&Lo(t,e)}return!1}function Mi(t,e,s,r){return(t!==e||St(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Lo(t,s)}function Lo(t,e){return St(e.enabled,t)!==!1&&t.isStaleByTime(er(e.staleTime,t))}function zh(t,e){return!Vn(t.getCurrentResult(),e)}var ps,gs,lt,Yt,Xt,Mn,eo,Ml,Hh=(Ml=class extends Tr{constructor(s,r){super();ne(this,Xt);ne(this,ps);ne(this,gs);ne(this,lt);ne(this,Yt);G(this,ps,s),this.setOptions(r),this.bindMethods(),pe(this,Xt,Mn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var n;const r=this.options;this.options=j(this,ps).defaultMutationOptions(s),Vn(this.options,r)||j(this,ps).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,lt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&$s(r.mutationKey)!==$s(this.options.mutationKey)?this.reset():((n=j(this,lt))==null?void 0:n.state.status)==="pending"&&j(this,lt).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=j(this,lt))==null||s.removeObserver(this)}onMutationUpdate(s){pe(this,Xt,Mn).call(this),pe(this,Xt,eo).call(this,s)}getCurrentResult(){return j(this,gs)}reset(){var s;(s=j(this,lt))==null||s.removeObserver(this),G(this,lt,void 0),pe(this,Xt,Mn).call(this),pe(this,Xt,eo).call(this)}mutate(s,r){var n;return G(this,Yt,r),(n=j(this,lt))==null||n.removeObserver(this),G(this,lt,j(this,ps).getMutationCache().build(j(this,ps),this.options)),j(this,lt).addObserver(this),j(this,lt).execute(s)}},ps=new WeakMap,gs=new WeakMap,lt=new WeakMap,Yt=new WeakMap,Xt=new WeakSet,Mn=function(){var r;const s=((r=j(this,lt))==null?void 0:r.state)??fc();G(this,gs,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},eo=function(s){Ge.batch(()=>{var r,n,a,i,l,c,d,u;if(j(this,Yt)&&this.hasListeners()){const h=j(this,gs).variables,g=j(this,gs).context;(s==null?void 0:s.type)==="success"?((n=(r=j(this,Yt)).onSuccess)==null||n.call(r,s.data,h,g),(i=(a=j(this,Yt)).onSettled)==null||i.call(a,s.data,null,h,g)):(s==null?void 0:s.type)==="error"&&((c=(l=j(this,Yt)).onError)==null||c.call(l,s.error,h,g),(u=(d=j(this,Yt)).onSettled)==null||u.call(d,void 0,s.error,h,g))}this.listeners.forEach(h=>{h(j(this,gs))})})},Ml),mc=f.createContext(void 0),pc=t=>{const e=f.useContext(mc);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bh=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(mc.Provider,{value:t,children:e})),gc=f.createContext(!1),Uh=()=>f.useContext(gc);gc.Provider;function qh(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Zh=f.createContext(qh()),Wh=()=>f.useContext(Zh);function xc(t,e){return typeof t=="function"?t(...e):!!t}function to(){}var Gh=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Kh=t=>{f.useEffect(()=>{t.clearReset()},[t])},Qh=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&xc(s,[t.error,r]),Yh=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Xh=(t,e)=>t.isLoading&&t.isFetching&&!e,Jh=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Oi=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function em(t,e,s){var u,h,g,y,b;const r=pc(),n=Uh(),a=Wh(),i=r.defaultQueryOptions(t);(h=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,i),i._optimisticResults=n?"isRestoring":"optimistic",Yh(i),Gh(i,a),Kh(a);const l=!r.getQueryCache().get(i.queryHash),[c]=f.useState(()=>new e(r,i)),d=c.getOptimisticResult(i);if(f.useSyncExternalStore(f.useCallback(m=>{const v=n?to:c.subscribe(Ge.batchCalls(m));return c.updateResult(),v},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),Jh(i,d))throw Oi(i,c,a);if(Qh({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw d.error;if((y=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,i,d),i.experimental_prefetchInRender&&!Vs&&Xh(d,n)){const m=l?Oi(i,c,a):(b=r.getQueryCache().get(i.queryHash))==null?void 0:b.promise;m==null||m.catch(to).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function so(t,e){return em(t,Vh)}function tr(t,e){const s=pc(),[r]=f.useState(()=>new Hh(s,t));f.useEffect(()=>{r.setOptions(t)},[r,t]);const n=f.useSyncExternalStore(f.useCallback(i=>r.subscribe(Ge.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=f.useCallback((i,l)=>{r.mutate(i,l).catch(to)},[r]);if(n.error&&xc(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}async function vc(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Ds(t,e,s){const r=await fetch(e,{method:t,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await vc(r),r}const tm=({on401:t})=>async({queryKey:e})=>{const s=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&s.status===401?null:(await vc(s),await s.json())},Ls=new Fh({defaultOptions:{queries:{queryFn:tm({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),sm=1,rm=1e6;let Oa=0;function nm(){return Oa=(Oa+1)%Number.MAX_SAFE_INTEGER,Oa.toString()}const Ia=new Map,Ii=t=>{if(Ia.has(t))return;const e=setTimeout(()=>{Ia.delete(t),Br({type:"REMOVE_TOAST",toastId:t})},rm);Ia.set(t,e)},am=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,sm)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?Ii(s):t.toasts.forEach(r=>{Ii(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},On=[];let In={toasts:[]};function Br(t){In=am(In,t),On.forEach(e=>{e(In)})}function om({...t}){const e=nm(),s=n=>Br({type:"UPDATE_TOAST",toast:{...n,id:e}}),r=()=>Br({type:"DISMISS_TOAST",toastId:e});return Br({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||r()}}}),{id:e,dismiss:r,update:s}}function la(){const[t,e]=f.useState(In);return f.useEffect(()=>(On.push(e),()=>{const s=On.indexOf(e);s>-1&&On.splice(s,1)}),[t]),{...t,toast:om,dismiss:s=>Br({type:"DISMISS_TOAST",toastId:s})}}var im="VisuallyHidden",xn=f.forwardRef((t,e)=>o.jsx(we.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));xn.displayName=im;var lm=xn,Fo="ToastProvider",[Vo,cm,dm]=Ol("Toast"),[yc,_b]=Zs("Toast",[dm]),[um,ca]=yc(Fo),bc=t=>{const{__scopeToast:e,label:s="Notification",duration:r=5e3,swipeDirection:n="right",swipeThreshold:a=50,children:i}=t,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),g=f.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Fo}\`. Expected non-empty \`string\`.`),o.jsx(Vo.Provider,{scope:e,children:o.jsx(um,{scope:e,label:s,duration:r,swipeDirection:n,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(y=>y+1),[]),onToastRemove:f.useCallback(()=>u(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:g,children:i})})};bc.displayName=Fo;var wc="ToastViewport",fm=["F8"],ro="toast.viewportPause",no="toast.viewportResume",Sc=f.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:r=fm,label:n="Notifications ({hotkey})",...a}=t,i=ca(wc,s),l=cm(s),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),g=Oe(e,h,i.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;f.useEffect(()=>{const v=x=>{var w;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),f.useEffect(()=>{const v=c.current,x=h.current;if(b&&v&&x){const p=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(ro);x.dispatchEvent(N),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(no);x.dispatchEvent(N),i.isClosePausedRef.current=!1}},C=N=>{!v.contains(N.relatedTarget)&&w()},_=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",p),v.addEventListener("focusout",C),v.addEventListener("pointermove",p),v.addEventListener("pointerleave",_),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",p),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",p),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const m=f.useCallback(({tabbingDirection:v})=>{const p=l().map(w=>{const C=w.ref.current,_=[C,..._m(C)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?p.reverse():p).flat()},[l]);return f.useEffect(()=>{const v=h.current;if(v){const x=p=>{var _,N,E;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const R=document.activeElement,M=p.shiftKey;if(p.target===v&&M){(_=d.current)==null||_.focus();return}const I=m({tabbingDirection:M?"backwards":"forwards"}),A=I.findIndex(T=>T===R);Da(I.slice(A+1))?p.preventDefault():M?(N=d.current)==null||N.focus():(E=u.current)==null||E.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,m]),o.jsxs(Of,{ref:c,role:"region","aria-label":n.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&o.jsx(ao,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});Da(v)}}),o.jsx(Vo.Slot,{scope:s,children:o.jsx(we.ol,{tabIndex:-1,...a,ref:g})}),b&&o.jsx(ao,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});Da(v)}})]})});Sc.displayName=wc;var jc="ToastFocusProxy",ao=f.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...n}=t,a=ca(jc,s);return o.jsx(xn,{"aria-hidden":!0,tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:i=>{var d;const l=i.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});ao.displayName=jc;var da="Toast",hm="toast.swipeStart",mm="toast.swipeMove",pm="toast.swipeCancel",gm="toast.swipeEnd",Cc=f.forwardRef((t,e)=>{const{forceMount:s,open:r,defaultOpen:n,onOpenChange:a,...i}=t,[l=!0,c]=Fn({prop:r,defaultProp:n,onChange:a});return o.jsx(Ws,{present:s||l,children:o.jsx(ym,{open:l,...i,ref:e,onClose:()=>c(!1),onPause:ft(t.onPause),onResume:ft(t.onResume),onSwipeStart:de(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:de(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:de(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:de(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Cc.displayName=da;var[xm,vm]=yc(da,{onClose(){}}),ym=f.forwardRef((t,e)=>{const{__scopeToast:s,type:r="foreground",duration:n,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:y,...b}=t,m=ca(da,s),[v,x]=f.useState(null),p=Oe(e,T=>x(T)),w=f.useRef(null),C=f.useRef(null),_=n||m.duration,N=f.useRef(0),E=f.useRef(_),R=f.useRef(0),{onToastAdd:M,onToastRemove:z}=m,L=ft(()=>{var V;(v==null?void 0:v.contains(document.activeElement))&&((V=m.viewport)==null||V.focus()),i()}),I=f.useCallback(T=>{!T||T===1/0||(window.clearTimeout(R.current),N.current=new Date().getTime(),R.current=window.setTimeout(L,T))},[L]);f.useEffect(()=>{const T=m.viewport;if(T){const V=()=>{I(E.current),d==null||d()},D=()=>{const W=new Date().getTime()-N.current;E.current=E.current-W,window.clearTimeout(R.current),c==null||c()};return T.addEventListener(ro,D),T.addEventListener(no,V),()=>{T.removeEventListener(ro,D),T.removeEventListener(no,V)}}},[m.viewport,_,c,d,I]),f.useEffect(()=>{a&&!m.isClosePausedRef.current&&I(_)},[a,_,m.isClosePausedRef,I]),f.useEffect(()=>(M(),()=>z()),[M,z]);const A=f.useMemo(()=>v?Pc(v):null,[v]);return m.viewport?o.jsxs(o.Fragment,{children:[A&&o.jsx(bm,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),o.jsx(xm,{scope:s,onClose:L,children:gn.createPortal(o.jsx(Vo.ItemSlot,{scope:s,children:o.jsx(If,{asChild:!0,onEscapeKeyDown:de(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...b,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:de(t.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:de(t.onPointerDown,T=>{T.button===0&&(w.current={x:T.clientX,y:T.clientY})}),onPointerMove:de(t.onPointerMove,T=>{if(!w.current)return;const V=T.clientX-w.current.x,D=T.clientY-w.current.y,W=!!C.current,H=["left","right"].includes(m.swipeDirection),re=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ce=H?re(0,V):0,P=H?0:re(0,D),Y=T.pointerType==="touch"?10:2,te={x:ce,y:P},fe={originalEvent:T,delta:te};W?(C.current=te,An(mm,h,fe,{discrete:!1})):Di(te,m.swipeDirection,Y)?(C.current=te,An(hm,u,fe,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(V)>Y||Math.abs(D)>Y)&&(w.current=null)}),onPointerUp:de(t.onPointerUp,T=>{const V=C.current,D=T.target;if(D.hasPointerCapture(T.pointerId)&&D.releasePointerCapture(T.pointerId),C.current=null,w.current=null,V){const W=T.currentTarget,H={originalEvent:T,delta:V};Di(V,m.swipeDirection,m.swipeThreshold)?An(gm,y,H,{discrete:!0}):An(pm,g,H,{discrete:!0}),W.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),bm=t=>{const{__scopeToast:e,children:s,...r}=t,n=ca(da,e),[a,i]=f.useState(!1),[l,c]=f.useState(!1);return jm(()=>i(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:o.jsx(Il,{asChild:!0,children:o.jsx(xn,{...r,children:a&&o.jsxs(o.Fragment,{children:[n.label," ",s]})})})},wm="ToastTitle",_c=f.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return o.jsx(we.div,{...r,ref:e})});_c.displayName=wm;var Sm="ToastDescription",Nc=f.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return o.jsx(we.div,{...r,ref:e})});Nc.displayName=Sm;var Tc="ToastAction",Ec=f.forwardRef((t,e)=>{const{altText:s,...r}=t;return s.trim()?o.jsx(Ac,{altText:s,asChild:!0,children:o.jsx($o,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Tc}\`. Expected non-empty \`string\`.`),null)});Ec.displayName=Tc;var kc="ToastClose",$o=f.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t,n=vm(kc,s);return o.jsx(Ac,{asChild:!0,children:o.jsx(we.button,{type:"button",...r,ref:e,onClick:de(t.onClick,n.onClose)})})});$o.displayName=kc;var Ac=f.forwardRef((t,e)=>{const{__scopeToast:s,altText:r,...n}=t;return o.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...n,ref:e})});function Pc(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Cm(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!n)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...Pc(r))}}),e}function An(t,e,s,{discrete:r}){const n=s.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&n.addEventListener(t,e,{once:!0}),r?Df(n,a):n.dispatchEvent(a)}var Di=(t,e,s=0)=>{const r=Math.abs(t.x),n=Math.abs(t.y),a=r>n;return e==="left"||e==="right"?a&&r>s:!a&&n>s};function jm(t=()=>{}){const e=ft(t);pt(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[e])}function Cm(t){return t.nodeType===t.ELEMENT_NODE}function _m(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function Da(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var Nm=bc,Rc=Sc,Mc=Cc,Oc=_c,Ic=Nc,Dc=Ec,Lc=$o;function Fc(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(s=Fc(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function Vc(){for(var t,e,s=0,r="",n=arguments.length;s<n;s++)(t=arguments[s])&&(e=Fc(t))&&(r&&(r+=" "),r+=e);return r}const Li=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fi=Vc,vn=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return Fi(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:a}=e,i=Object.keys(n).map(d=>{const u=s==null?void 0:s[d],h=a==null?void 0:a[d];if(u===null)return null;const g=Li(u)||Li(h);return n[d][g]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,g]=u;return g===void 0||(d[h]=g),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:g,...y}=u;return Object.entries(y).every(b=>{let[m,v]=b;return Array.isArray(v)?v.includes({...a,...l}[m]):{...a,...l}[m]===v})?[...d,h,g]:d},[]);return Fi(t,i,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$c=(...t)=>t.filter((e,s,r)=>!!e&&r.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Em={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...Em,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:$c("lucide",n),...l},[...i.map(([d,u])=>f.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const s=f.forwardRef(({className:r,...n},a)=>f.createElement(km,{ref:a,iconNode:e,className:$c(`lucide-${Tm(t)}`,r),...n}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Ie("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Ie("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Ie("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ie("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ie("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Ie("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ho="-",qm=t=>{const e=Wm(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const l=i.split(Ho);return l[0]===""&&l.length!==1&&l.shift(),Zc(l,e)||Zm(i)},getConflictingClassGroupIds:(i,l)=>{const c=s[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},Zc=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),n=r?Zc(t.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const a=t.join(Ho);return(i=e.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},$i=/^\[(.+)\]$/,Zm=t=>{if($i.test(t)){const e=$i.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},Wm=t=>{const{theme:e,prefix:s}=t,r={nextPart:new Map,validators:[]};return Km(Object.entries(t.classGroups),s).forEach(([a,i])=>{oo(i,r,a,e)}),r},oo=(t,e,s,r)=>{t.forEach(n=>{if(typeof n=="string"){const a=n===""?e:zi(e,n);a.classGroupId=s;return}if(typeof n=="function"){if(Gm(n)){oo(n(r),e,s,r);return}e.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([a,i])=>{oo(i,zi(e,a),s,r)})})},zi=(t,e)=>{let s=t;return e.split(Ho).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},Gm=t=>t.isThemeGetter,Km=(t,e)=>e?t.map(([s,r])=>{const n=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[e+i,l])):a);return[s,n]}):t,Qm=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const n=(a,i)=>{s.set(a,i),e++,e>t&&(e=0,r=s,s=new Map)};return{get(a){let i=s.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return n(a,i),i},set(a,i){s.has(a)?s.set(a,i):n(a,i)}}},Wc="!",Ym=t=>{const{separator:e,experimentalParseClassName:s}=t,r=e.length===1,n=e[0],a=e.length,i=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let x=l[v];if(d===0){if(x===n&&(r||l.slice(v,v+a)===e)){c.push(l.slice(u,v)),u=v+a;continue}if(x==="/"){h=v;continue}}x==="["?d++:x==="]"&&d--}const g=c.length===0?l:l.substring(u),y=g.startsWith(Wc),b=y?g.substring(1):g,m=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:m}};return s?l=>s({className:l,parseClassName:i}):i},Xm=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},Jm=t=>({cache:Qm(t.cacheSize),parseClassName:Ym(t),...qm(t)}),ep=/\s+/,tp=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=e,a=[],i=t.trim().split(ep);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}=s(d);let b=!!y,m=r(b?g.substring(0,y):g);if(!m){if(!b){l=d+(l.length>0?" "+l:l);continue}if(m=r(g),!m){l=d+(l.length>0?" "+l:l);continue}b=!1}const v=Xm(u).join(":"),x=h?v+Wc:v,p=x+m;if(a.includes(p))continue;a.push(p);const w=n(m,b);for(let C=0;C<w.length;++C){const _=w[C];a.push(x+_)}l=d+(l.length>0?" "+l:l)}return l};function sp(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=Gc(e))&&(r&&(r+=" "),r+=s);return r}const Gc=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=Gc(t[r]))&&(s&&(s+=" "),s+=e);return s};function rp(t,...e){let s,r,n,a=i;function i(c){const d=e.reduce((u,h)=>h(u),t());return s=Jm(d),r=s.cache.get,n=s.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=tp(c,s);return n(c,u),u}return function(){return a(sp.apply(null,arguments))}}const Ae=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},Kc=/^\[(?:([a-z-]+):)?(.+)\]$/i,np=/^\d+\/\d+$/,ap=new Set(["px","full","screen"]),op=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ip=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cp=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dp=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zt=t=>sr(t)||ap.has(t)||np.test(t),ns=t=>Er(t,"length",vp),sr=t=>!!t&&!Number.isNaN(Number(t)),La=t=>Er(t,"number",sr),Ir=t=>!!t&&Number.isInteger(Number(t)),up=t=>t.endsWith("%")&&sr(t.slice(0,-1)),me=t=>Kc.test(t),as=t=>op.test(t),fp=new Set(["length","size","percentage"]),hp=t=>Er(t,fp,Qc),mp=t=>Er(t,"position",Qc),pp=new Set(["image","url"]),gp=t=>Er(t,pp,bp),xp=t=>Er(t,"",yp),Dr=()=>!0,Er=(t,e,s)=>{const r=Kc.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},vp=t=>ip.test(t)&&!lp.test(t),Qc=()=>!1,yp=t=>cp.test(t),bp=t=>dp.test(t),wp=()=>{const t=Ae("colors"),e=Ae("spacing"),s=Ae("blur"),r=Ae("brightness"),n=Ae("borderColor"),a=Ae("borderRadius"),i=Ae("borderSpacing"),l=Ae("borderWidth"),c=Ae("contrast"),d=Ae("grayscale"),u=Ae("hueRotate"),h=Ae("invert"),g=Ae("gap"),y=Ae("gradientColorStops"),b=Ae("gradientColorStopPositions"),m=Ae("inset"),v=Ae("margin"),x=Ae("opacity"),p=Ae("padding"),w=Ae("saturate"),C=Ae("scale"),_=Ae("sepia"),N=Ae("skew"),E=Ae("space"),R=Ae("translate"),M=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",me,e],I=()=>[me,e],A=()=>["",Zt,ns],T=()=>["auto",sr,me],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",me],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[sr,me];return{cacheSize:500,separator:":",theme:{colors:[Dr],spacing:[Zt,ns],blur:["none","",as,me],brightness:P(),borderColor:[t],borderRadius:["none","","full",as,me],borderSpacing:I(),borderWidth:A(),contrast:P(),grayscale:re(),hueRotate:P(),invert:re(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[up,ns],inset:L(),margin:L(),opacity:P(),padding:I(),saturate:P(),scale:P(),sepia:re(),skew:P(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[as]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),me]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ir,me]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Ir,me]}],"grid-cols":[{"grid-cols":[Dr]}],"col-start-end":[{col:["auto",{span:["full",Ir,me]},me]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Dr]}],"row-start-end":[{row:["auto",{span:[Ir,me]},me]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[as]},as]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",as,ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",La]}],"font-family":[{font:[Dr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",sr,La]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zt,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zt,ns]}],"underline-offset":[{"underline-offset":["auto",Zt,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),mp]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hp]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gp]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:D()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[Zt,me]}],"outline-w":[{outline:[Zt,ns]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Zt,ns]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",as,xp]}],"shadow-color":[{shadow:[Dr]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",as,me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ir,me]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Zt,ns,La]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Sp=rp(wp);function ee(...t){return Sp(Vc(t))}const jp=Nm,Yc=f.forwardRef(({className:t,...e},s)=>o.jsx(Rc,{ref:s,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Yc.displayName=Rc.displayName;const Cp=vn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Xc=f.forwardRef(({className:t,variant:e,...s},r)=>o.jsx(Mc,{ref:r,className:ee(Cp({variant:e}),t),...s}));Xc.displayName=Mc.displayName;const _p=f.forwardRef(({className:t,...e},s)=>o.jsx(Dc,{ref:s,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));_p.displayName=Dc.displayName;const Jc=f.forwardRef(({className:t,...e},s)=>o.jsx(Lc,{ref:s,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Wr,{className:"h-4 w-4"})}));Jc.displayName=Lc.displayName;const ed=f.forwardRef(({className:t,...e},s)=>o.jsx(Oc,{ref:s,className:ee("text-sm font-semibold",t),...e}));ed.displayName=Oc.displayName;const td=f.forwardRef(({className:t,...e},s)=>o.jsx(Ic,{ref:s,className:ee("text-sm opacity-90",t),...e}));td.displayName=Ic.displayName;function Np(){const{toasts:t}=la();return o.jsxs(jp,{children:[t.map(function({id:e,title:s,description:r,action:n,...a}){return o.jsxs(Xc,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[s&&o.jsx(ed,{children:s}),r&&o.jsx(td,{children:r})]}),n,o.jsx(Jc,{})]},e)}),o.jsx(Yc,{})]})}const Tp=["top","right","bottom","left"],vs=Math.min,ut=Math.max,zn=Math.round,Pn=Math.floor,Vt=t=>({x:t,y:t}),Ep={left:"right",right:"left",bottom:"top",top:"bottom"},kp={start:"end",end:"start"};function io(t,e,s){return ut(t,vs(e,s))}function Jt(t,e){return typeof t=="function"?t(e):t}function es(t){return t.split("-")[0]}function kr(t){return t.split("-")[1]}function Bo(t){return t==="x"?"y":"x"}function Uo(t){return t==="y"?"height":"width"}function ys(t){return["top","bottom"].includes(es(t))?"y":"x"}function qo(t){return Bo(ys(t))}function Ap(t,e,s){s===void 0&&(s=!1);const r=kr(t),n=qo(t),a=Uo(n);let i=n==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(i=Hn(i)),[i,Hn(i)]}function Pp(t){const e=Hn(t);return[lo(t),e,lo(e)]}function lo(t){return t.replace(/start|end/g,e=>kp[e])}function Rp(t,e,s){const r=["left","right"],n=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return s?e?n:r:e?r:n;case"left":case"right":return e?a:i;default:return[]}}function Mp(t,e,s,r){const n=kr(t);let a=Rp(es(t),s==="start",r);return n&&(a=a.map(i=>i+"-"+n),e&&(a=a.concat(a.map(lo)))),a}function Hn(t){return t.replace(/left|right|bottom|top/g,e=>Ep[e])}function Op(t){return{top:0,right:0,bottom:0,left:0,...t}}function sd(t){return typeof t!="number"?Op(t):{top:t,right:t,bottom:t,left:t}}function Bn(t){const{x:e,y:s,width:r,height:n}=t;return{width:r,height:n,top:s,left:e,right:e+r,bottom:s+n,x:e,y:s}}function Hi(t,e,s){let{reference:r,floating:n}=t;const a=ys(e),i=qo(e),l=Uo(i),c=es(e),d=a==="y",u=r.x+r.width/2-n.width/2,h=r.y+r.height/2-n.height/2,g=r[l]/2-n[l]/2;let y;switch(c){case"top":y={x:u,y:r.y-n.height};break;case"bottom":y={x:u,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-n.width,y:h};break;default:y={x:r.x,y:r.y}}switch(kr(e)){case"start":y[i]-=g*(s&&d?-1:1);break;case"end":y[i]+=g*(s&&d?-1:1);break}return y}const Ip=async(t,e,s)=>{const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:i}=s,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let d=await i.getElementRects({reference:t,floating:e,strategy:n}),{x:u,y:h}=Hi(d,r,c),g=r,y={},b=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:p,y:w,data:C,reset:_}=await x({x:u,y:h,initialPlacement:r,placement:g,strategy:n,middlewareData:y,rects:d,platform:i,elements:{reference:t,floating:e}});u=p??u,h=w??h,y={...y,[v]:{...y[v],...C}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(d=_.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:n}):_.rects),{x:u,y:h}=Hi(d,g,c)),m=-1)}return{x:u,y:h,placement:g,strategy:n,middlewareData:y}};async function Gr(t,e){var s;e===void 0&&(e={});const{x:r,y:n,platform:a,rects:i,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:g=!1,padding:y=0}=Jt(e,t),b=sd(y),v=l[g?h==="floating"?"reference":"floating":h],x=Bn(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(v)))==null||s?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),p=h==="floating"?{x:r,y:n,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),C=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},_=Bn(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:c}):p);return{top:(x.top-_.top+b.top)/C.y,bottom:(_.bottom-x.bottom+b.bottom)/C.y,left:(x.left-_.left+b.left)/C.x,right:(_.right-x.right+b.right)/C.x}}const Dp=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:r,placement:n,rects:a,platform:i,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Jt(t,e)||{};if(d==null)return{};const h=sd(u),g={x:s,y:r},y=qo(n),b=Uo(y),m=await i.getDimensions(d),v=y==="y",x=v?"top":"left",p=v?"bottom":"right",w=v?"clientHeight":"clientWidth",C=a.reference[b]+a.reference[y]-g[y]-a.floating[b],_=g[y]-a.reference[y],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let E=N?N[w]:0;(!E||!await(i.isElement==null?void 0:i.isElement(N)))&&(E=l.floating[w]||a.floating[b]);const R=C/2-_/2,M=E/2-m[b]/2-1,z=vs(h[x],M),L=vs(h[p],M),I=z,A=E-m[b]-L,T=E/2-m[b]/2+R,V=io(I,T,A),D=!c.arrow&&kr(n)!=null&&T!==V&&a.reference[b]/2-(T<I?z:L)-m[b]/2<0,W=D?T<I?T-I:T-A:0;return{[y]:g[y]+W,data:{[y]:V,centerOffset:T-V-W,...D&&{alignmentOffset:W}},reset:D}}}),Lp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,r;const{placement:n,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:m=!0,...v}=Jt(t,e);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const x=es(n),p=ys(l),w=es(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=g||(w||!m?[Hn(l)]:Pp(l)),N=b!=="none";!g&&N&&_.push(...Mp(l,m,b,C));const E=[l,..._],R=await Gr(e,v),M=[];let z=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&M.push(R[x]),h){const T=Ap(n,i,C);M.push(R[T[0]],R[T[1]])}if(z=[...z,{placement:n,overflows:M}],!M.every(T=>T<=0)){var L,I;const T=(((L=a.flip)==null?void 0:L.index)||0)+1,V=E[T];if(V)return{data:{index:T,overflows:z},reset:{placement:V}};let D=(I=z.filter(W=>W.overflows[0]<=0).sort((W,H)=>W.overflows[1]-H.overflows[1])[0])==null?void 0:I.placement;if(!D)switch(y){case"bestFit":{var A;const W=(A=z.filter(H=>{if(N){const re=ys(H.placement);return re===p||re==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(re=>re>0).reduce((re,ce)=>re+ce,0)]).sort((H,re)=>H[1]-re[1])[0])==null?void 0:A[0];W&&(D=W);break}case"initialPlacement":D=l;break}if(n!==D)return{reset:{placement:D}}}return{}}}};function Bi(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ui(t){return Tp.some(e=>t[e]>=0)}const Fp=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:r="referenceHidden",...n}=Jt(t,e);switch(r){case"referenceHidden":{const a=await Gr(e,{...n,elementContext:"reference"}),i=Bi(a,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ui(i)}}}case"escaped":{const a=await Gr(e,{...n,altBoundary:!0}),i=Bi(a,s.floating);return{data:{escapedOffsets:i,escaped:Ui(i)}}}default:return{}}}}};async function Vp(t,e){const{placement:s,platform:r,elements:n}=t,a=await(r.isRTL==null?void 0:r.isRTL(n.floating)),i=es(s),l=kr(s),c=ys(s)==="y",d=["left","top"].includes(i)?-1:1,u=a&&c?-1:1,h=Jt(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),c?{x:y*u,y:g*d}:{x:g*d,y:y*u}}const $p=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,r;const{x:n,y:a,placement:i,middlewareData:l}=e,c=await Vp(e,t);return i===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:n+c.x,y:a+c.y,data:{...c,placement:i}}}}},zp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:r,placement:n}=e,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x,y:p}=v;return{x,y:p}}},...c}=Jt(t,e),d={x:s,y:r},u=await Gr(e,c),h=ys(es(n)),g=Bo(h);let y=d[g],b=d[h];if(a){const v=g==="y"?"top":"left",x=g==="y"?"bottom":"right",p=y+u[v],w=y-u[x];y=io(p,y,w)}if(i){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",p=b+u[v],w=b-u[x];b=io(p,b,w)}const m=l.fn({...e,[g]:y,[h]:b});return{...m,data:{x:m.x-s,y:m.y-r,enabled:{[g]:a,[h]:i}}}}}},Hp=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:s,y:r,placement:n,rects:a,middlewareData:i}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Jt(t,e),u={x:s,y:r},h=ys(n),g=Bo(h);let y=u[g],b=u[h];const m=Jt(l,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=g==="y"?"height":"width",C=a.reference[g]-a.floating[w]+v.mainAxis,_=a.reference[g]+a.reference[w]-v.mainAxis;y<C?y=C:y>_&&(y=_)}if(d){var x,p;const w=g==="y"?"width":"height",C=["top","left"].includes(es(n)),_=a.reference[h]-a.floating[w]+(C&&((x=i.offset)==null?void 0:x[h])||0)+(C?0:v.crossAxis),N=a.reference[h]+a.reference[w]+(C?0:((p=i.offset)==null?void 0:p[h])||0)-(C?v.crossAxis:0);b<_?b=_:b>N&&(b=N)}return{[g]:y,[h]:b}}}},Bp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,r;const{placement:n,rects:a,platform:i,elements:l}=e,{apply:c=()=>{},...d}=Jt(t,e),u=await Gr(e,d),h=es(n),g=kr(n),y=ys(n)==="y",{width:b,height:m}=a.floating;let v,x;h==="top"||h==="bottom"?(v=h,x=g===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,v=g==="end"?"top":"bottom");const p=m-u.top-u.bottom,w=b-u.left-u.right,C=vs(m-u[v],p),_=vs(b-u[x],w),N=!e.middlewareData.shift;let E=C,R=_;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(R=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=p),N&&!g){const z=ut(u.left,0),L=ut(u.right,0),I=ut(u.top,0),A=ut(u.bottom,0);y?R=b-2*(z!==0||L!==0?z+L:ut(u.left,u.right)):E=m-2*(I!==0||A!==0?I+A:ut(u.top,u.bottom))}await c({...e,availableWidth:R,availableHeight:E});const M=await i.getDimensions(l.floating);return b!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function ua(){return typeof window<"u"}function Ar(t){return rd(t)?(t.nodeName||"").toLowerCase():"#document"}function ht(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ut(t){var e;return(e=(rd(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rd(t){return ua()?t instanceof Node||t instanceof ht(t).Node:!1}function kt(t){return ua()?t instanceof Element||t instanceof ht(t).Element:!1}function zt(t){return ua()?t instanceof HTMLElement||t instanceof ht(t).HTMLElement:!1}function qi(t){return!ua()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ht(t).ShadowRoot}function yn(t){const{overflow:e,overflowX:s,overflowY:r,display:n}=At(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+s)&&!["inline","contents"].includes(n)}function Up(t){return["table","td","th"].includes(Ar(t))}function fa(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Zo(t){const e=Wo(),s=kt(t)?At(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function qp(t){let e=bs(t);for(;zt(e)&&!br(e);){if(Zo(e))return e;if(fa(e))return null;e=bs(e)}return null}function Wo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function br(t){return["html","body","#document"].includes(Ar(t))}function At(t){return ht(t).getComputedStyle(t)}function ha(t){return kt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bs(t){if(Ar(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qi(t)&&t.host||Ut(t);return qi(e)?e.host:e}function nd(t){const e=bs(t);return br(e)?t.ownerDocument?t.ownerDocument.body:t.body:zt(e)&&yn(e)?e:nd(e)}function Kr(t,e,s){var r;e===void 0&&(e=[]),s===void 0&&(s=!0);const n=nd(t),a=n===((r=t.ownerDocument)==null?void 0:r.body),i=ht(n);if(a){const l=co(i);return e.concat(i,i.visualViewport||[],yn(n)?n:[],l&&s?Kr(l):[])}return e.concat(n,Kr(n,[],s))}function co(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ad(t){const e=At(t);let s=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const n=zt(t),a=n?t.offsetWidth:s,i=n?t.offsetHeight:r,l=zn(s)!==a||zn(r)!==i;return l&&(s=a,r=i),{width:s,height:r,$:l}}function Go(t){return kt(t)?t:t.contextElement}function rr(t){const e=Go(t);if(!zt(e))return Vt(1);const s=e.getBoundingClientRect(),{width:r,height:n,$:a}=ad(e);let i=(a?zn(s.width):s.width)/r,l=(a?zn(s.height):s.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Zp=Vt(0);function od(t){const e=ht(t);return!Wo()||!e.visualViewport?Zp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Wp(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==ht(t)?!1:e}function zs(t,e,s,r){e===void 0&&(e=!1),s===void 0&&(s=!1);const n=t.getBoundingClientRect(),a=Go(t);let i=Vt(1);e&&(r?kt(r)&&(i=rr(r)):i=rr(t));const l=Wp(a,s,r)?od(a):Vt(0);let c=(n.left+l.x)/i.x,d=(n.top+l.y)/i.y,u=n.width/i.x,h=n.height/i.y;if(a){const g=ht(a),y=r&&kt(r)?ht(r):r;let b=g,m=co(b);for(;m&&r&&y!==b;){const v=rr(m),x=m.getBoundingClientRect(),p=At(m),w=x.left+(m.clientLeft+parseFloat(p.paddingLeft))*v.x,C=x.top+(m.clientTop+parseFloat(p.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=w,d+=C,b=ht(m),m=co(b)}}return Bn({width:u,height:h,x:c,y:d})}function Ko(t,e){const s=ha(t).scrollLeft;return e?e.left+s:zs(Ut(t)).left+s}function id(t,e,s){s===void 0&&(s=!1);const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-(s?0:Ko(t,r)),a=r.top+e.scrollTop;return{x:n,y:a}}function Gp(t){let{elements:e,rect:s,offsetParent:r,strategy:n}=t;const a=n==="fixed",i=Ut(r),l=e?fa(e.floating):!1;if(r===i||l&&a)return s;let c={scrollLeft:0,scrollTop:0},d=Vt(1);const u=Vt(0),h=zt(r);if((h||!h&&!a)&&((Ar(r)!=="body"||yn(i))&&(c=ha(r)),zt(r))){const y=zs(r);d=rr(r),u.x=y.x+r.clientLeft,u.y=y.y+r.clientTop}const g=i&&!h&&!a?id(i,c,!0):Vt(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+g.x,y:s.y*d.y-c.scrollTop*d.y+u.y+g.y}}function Kp(t){return Array.from(t.getClientRects())}function Qp(t){const e=Ut(t),s=ha(t),r=t.ownerDocument.body,n=ut(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=ut(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-s.scrollLeft+Ko(t);const l=-s.scrollTop;return At(r).direction==="rtl"&&(i+=ut(e.clientWidth,r.clientWidth)-n),{width:n,height:a,x:i,y:l}}function Yp(t,e){const s=ht(t),r=Ut(t),n=s.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(n){a=n.width,i=n.height;const d=Wo();(!d||d&&e==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:a,height:i,x:l,y:c}}function Xp(t,e){const s=zs(t,!0,e==="fixed"),r=s.top+t.clientTop,n=s.left+t.clientLeft,a=zt(t)?rr(t):Vt(1),i=t.clientWidth*a.x,l=t.clientHeight*a.y,c=n*a.x,d=r*a.y;return{width:i,height:l,x:c,y:d}}function Zi(t,e,s){let r;if(e==="viewport")r=Yp(t,s);else if(e==="document")r=Qp(Ut(t));else if(kt(e))r=Xp(e,s);else{const n=od(t);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return Bn(r)}function ld(t,e){const s=bs(t);return s===e||!kt(s)||br(s)?!1:At(s).position==="fixed"||ld(s,e)}function Jp(t,e){const s=e.get(t);if(s)return s;let r=Kr(t,[],!1).filter(l=>kt(l)&&Ar(l)!=="body"),n=null;const a=At(t).position==="fixed";let i=a?bs(t):t;for(;kt(i)&&!br(i);){const l=At(i),c=Zo(i);!c&&l.position==="fixed"&&(n=null),(a?!c&&!n:!c&&l.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||yn(i)&&!c&&ld(t,i))?r=r.filter(u=>u!==i):n=l,i=bs(i)}return e.set(t,r),r}function eg(t){let{element:e,boundary:s,rootBoundary:r,strategy:n}=t;const i=[...s==="clippingAncestors"?fa(e)?[]:Jp(e,this._c):[].concat(s),r],l=i[0],c=i.reduce((d,u)=>{const h=Zi(e,u,n);return d.top=ut(h.top,d.top),d.right=vs(h.right,d.right),d.bottom=vs(h.bottom,d.bottom),d.left=ut(h.left,d.left),d},Zi(e,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tg(t){const{width:e,height:s}=ad(t);return{width:e,height:s}}function sg(t,e,s){const r=zt(e),n=Ut(e),a=s==="fixed",i=zs(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Vt(0);if(r||!r&&!a)if((Ar(e)!=="body"||yn(n))&&(l=ha(e)),r){const g=zs(e,!0,a,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else n&&(c.x=Ko(n));const d=n&&!r&&!a?id(n,l):Vt(0),u=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:i.width,height:i.height}}function Fa(t){return At(t).position==="static"}function Wi(t,e){if(!zt(t)||At(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return Ut(t)===s&&(s=s.ownerDocument.body),s}function cd(t,e){const s=ht(t);if(fa(t))return s;if(!zt(t)){let n=bs(t);for(;n&&!br(n);){if(kt(n)&&!Fa(n))return n;n=bs(n)}return s}let r=Wi(t,e);for(;r&&Up(r)&&Fa(r);)r=Wi(r,e);return r&&br(r)&&Fa(r)&&!Zo(r)?s:r||qp(t)||s}const rg=async function(t){const e=this.getOffsetParent||cd,s=this.getDimensions,r=await s(t.floating);return{reference:sg(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ng(t){return At(t).direction==="rtl"}const ag={convertOffsetParentRelativeRectToViewportRelativeRect:Gp,getDocumentElement:Ut,getClippingRect:eg,getOffsetParent:cd,getElementRects:rg,getClientRects:Kp,getDimensions:tg,getScale:rr,isElement:kt,isRTL:ng};function dd(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function og(t,e){let s=null,r;const n=Ut(t);function a(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:g,height:y}=d;if(l||e(),!g||!y)return;const b=Pn(h),m=Pn(n.clientWidth-(u+g)),v=Pn(n.clientHeight-(h+y)),x=Pn(u),w={rootMargin:-b+"px "+-m+"px "+-v+"px "+-x+"px",threshold:ut(0,vs(1,c))||1};let C=!0;function _(N){const E=N[0].intersectionRatio;if(E!==c){if(!C)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!dd(d,t.getBoundingClientRect())&&i(),C=!1}try{s=new IntersectionObserver(_,{...w,root:n.ownerDocument})}catch{s=new IntersectionObserver(_,w)}s.observe(t)}return i(!0),a}function ig(t,e,s,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Go(t),u=n||a?[...d?Kr(d):[],...Kr(e)]:[];u.forEach(x=>{n&&x.addEventListener("scroll",s,{passive:!0}),a&&x.addEventListener("resize",s)});const h=d&&l?og(d,s):null;let g=-1,y=null;i&&(y=new ResizeObserver(x=>{let[p]=x;p&&p.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=y)==null||w.observe(e)})),s()}),d&&!c&&y.observe(d),y.observe(e));let b,m=c?zs(t):null;c&&v();function v(){const x=zs(t);m&&!dd(m,x)&&s(),m=x,b=requestAnimationFrame(v)}return s(),()=>{var x;u.forEach(p=>{n&&p.removeEventListener("scroll",s),a&&p.removeEventListener("resize",s)}),h==null||h(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const lg=$p,cg=zp,dg=Lp,ug=Bp,fg=Fp,Gi=Dp,hg=Hp,mg=(t,e,s)=>{const r=new Map,n={platform:ag,...s},a={...n.platform,_c:r};return Ip(t,e,{...n,platform:a})};var Dn=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Un(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let s,r,n;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==e.length)return!1;for(r=s;r--!==0;)if(!Un(t[r],e[r]))return!1;return!0}if(n=Object.keys(t),s=n.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(e,n[r]))return!1;for(r=s;r--!==0;){const a=n[r];if(!(a==="_owner"&&t.$$typeof)&&!Un(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function ud(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ki(t,e){const s=ud(t);return Math.round(e*s)/s}function Va(t){const e=f.useRef(t);return Dn(()=>{e.current=t}),e}function pg(t){t===void 0&&(t={});const{placement:e="bottom",strategy:s="absolute",middleware:r=[],platform:n,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=f.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=f.useState(r);Un(g,r)||y(r);const[b,m]=f.useState(null),[v,x]=f.useState(null),p=f.useCallback(H=>{H!==N.current&&(N.current=H,m(H))},[]),w=f.useCallback(H=>{H!==E.current&&(E.current=H,x(H))},[]),C=a||b,_=i||v,N=f.useRef(null),E=f.useRef(null),R=f.useRef(u),M=c!=null,z=Va(c),L=Va(n),I=Va(d),A=f.useCallback(()=>{if(!N.current||!E.current)return;const H={placement:e,strategy:s,middleware:g};L.current&&(H.platform=L.current),mg(N.current,E.current,H).then(re=>{const ce={...re,isPositioned:I.current!==!1};T.current&&!Un(R.current,ce)&&(R.current=ce,gn.flushSync(()=>{h(ce)}))})},[g,e,s,L,I]);Dn(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[d]);const T=f.useRef(!1);Dn(()=>(T.current=!0,()=>{T.current=!1}),[]),Dn(()=>{if(C&&(N.current=C),_&&(E.current=_),C&&_){if(z.current)return z.current(C,_,A);A()}},[C,_,A,z,M]);const V=f.useMemo(()=>({reference:N,floating:E,setReference:p,setFloating:w}),[p,w]),D=f.useMemo(()=>({reference:C,floating:_}),[C,_]),W=f.useMemo(()=>{const H={position:s,left:0,top:0};if(!D.floating)return H;const re=Ki(D.floating,u.x),ce=Ki(D.floating,u.y);return l?{...H,transform:"translate("+re+"px, "+ce+"px)",...ud(D.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:re,top:ce}},[s,l,D.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:A,refs:V,elements:D,floatingStyles:W}),[u,A,V,D,W])}const gg=t=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:r,padding:n}=typeof t=="function"?t(s):t;return r&&e(r)?r.current!=null?Gi({element:r.current,padding:n}).fn(s):{}:r?Gi({element:r,padding:n}).fn(s):{}}}},xg=(t,e)=>({...lg(t),options:[t,e]}),vg=(t,e)=>({...cg(t),options:[t,e]}),yg=(t,e)=>({...hg(t),options:[t,e]}),bg=(t,e)=>({...dg(t),options:[t,e]}),wg=(t,e)=>({...ug(t),options:[t,e]}),Sg=(t,e)=>({...fg(t),options:[t,e]}),jg=(t,e)=>({...gg(t),options:[t,e]});var Cg="Arrow",fd=f.forwardRef((t,e)=>{const{children:s,width:r=10,height:n=5,...a}=t;return o.jsx(we.svg,{...a,ref:e,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});fd.displayName=Cg;var _g=fd;function hd(t){const[e,s]=f.useState(void 0);return pt(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const a=n[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=t.offsetWidth,l=t.offsetHeight;s({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else s(void 0)},[t]),e}var Qo="Popper",[md,ma]=Zs(Qo),[Ng,pd]=md(Qo),gd=t=>{const{__scopePopper:e,children:s}=t,[r,n]=f.useState(null);return o.jsx(Ng,{scope:e,anchor:r,onAnchorChange:n,children:s})};gd.displayName=Qo;var xd="PopperAnchor",vd=f.forwardRef((t,e)=>{const{__scopePopper:s,virtualRef:r,...n}=t,a=pd(xd,s),i=f.useRef(null),l=Oe(e,i);return f.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(we.div,{...n,ref:l})});vd.displayName=xd;var Yo="PopperContent",[Tg,Eg]=md(Yo),yd=f.forwardRef((t,e)=>{var Z,ae,Pe,Se,le,he;const{__scopePopper:s,side:r="bottom",sideOffset:n=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:b,...m}=t,v=pd(Yo,s),[x,p]=f.useState(null),w=Oe(e,ke=>p(ke)),[C,_]=f.useState(null),N=hd(C),E=(N==null?void 0:N.width)??0,R=(N==null?void 0:N.height)??0,M=r+(a!=="center"?"-"+a:""),z=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(d)?d:[d],I=L.length>0,A={padding:z,boundary:L.filter(Ag),altBoundary:I},{refs:T,floatingStyles:V,placement:D,isPositioned:W,middlewareData:H}=pg({strategy:"fixed",placement:M,whileElementsMounted:(...ke)=>ig(...ke,{animationFrame:y==="always"}),elements:{reference:v.anchor},middleware:[xg({mainAxis:n+R,alignmentAxis:i}),c&&vg({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?yg():void 0,...A}),c&&bg({...A}),wg({...A,apply:({elements:ke,rects:Ce,availableWidth:Ue,availableHeight:Re})=>{const{width:ot,height:Ts}=Ce.reference,Gs=ke.floating.style;Gs.setProperty("--radix-popper-available-width",`${Ue}px`),Gs.setProperty("--radix-popper-available-height",`${Re}px`),Gs.setProperty("--radix-popper-anchor-width",`${ot}px`),Gs.setProperty("--radix-popper-anchor-height",`${Ts}px`)}}),C&&jg({element:C,padding:l}),Pg({arrowWidth:E,arrowHeight:R}),g&&Sg({strategy:"referenceHidden",...A})]}),[re,ce]=Sd(D),P=ft(b);pt(()=>{W&&(P==null||P())},[W,P]);const Y=(Z=H.arrow)==null?void 0:Z.x,te=(ae=H.arrow)==null?void 0:ae.y,fe=((Pe=H.arrow)==null?void 0:Pe.centerOffset)!==0,[je,Ee]=f.useState();return pt(()=>{x&&Ee(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:W?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(Se=H.transformOrigin)==null?void 0:Se.x,(le=H.transformOrigin)==null?void 0:le.y].join(" "),...((he=H.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(Tg,{scope:s,placedSide:re,onArrowChange:_,arrowX:Y,arrowY:te,shouldHideArrow:fe,children:o.jsx(we.div,{"data-side":re,"data-align":ce,...m,ref:w,style:{...m.style,animation:W?void 0:"none"}})})})});yd.displayName=Yo;var bd="PopperArrow",kg={top:"bottom",right:"left",bottom:"top",left:"right"},wd=f.forwardRef(function(e,s){const{__scopePopper:r,...n}=e,a=Eg(bd,r),i=kg[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(_g,{...n,ref:s,style:{...n.style,display:"block"}})})});wd.displayName=bd;function Ag(t){return t!==null}var Pg=t=>({name:"transformOrigin",options:t,fn(e){var v,x,p;const{placement:s,rects:r,middlewareData:n}=e,i=((v=n.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[d,u]=Sd(s),h={start:"0%",center:"50%",end:"100%"}[u],g=(((x=n.arrow)==null?void 0:x.x)??0)+l/2,y=(((p=n.arrow)==null?void 0:p.y)??0)+c/2;let b="",m="";return d==="bottom"?(b=i?h:`${g}px`,m=`${-c}px`):d==="top"?(b=i?h:`${g}px`,m=`${r.floating.height+c}px`):d==="right"?(b=`${-c}px`,m=i?h:`${y}px`):d==="left"&&(b=`${r.floating.width+c}px`,m=i?h:`${y}px`),{data:{x:b,y:m}}}});function Sd(t){const[e,s="center"]=t.split("-");return[e,s]}var Rg=gd,jd=vd,Cd=yd,_d=wd,[pa,Nb]=Zs("Tooltip",[ma]),Xo=ma(),Nd="TooltipProvider",Mg=700,Qi="tooltip.open",[Og,Td]=pa(Nd),Ed=t=>{const{__scopeTooltip:e,delayDuration:s=Mg,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:a}=t,i=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),o.jsx(Og,{scope:e,isOpenDelayedRef:i,delayDuration:s,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:n,children:a})};Ed.displayName=Nd;var kd="Tooltip",[Tb,ga]=pa(kd),uo="TooltipTrigger",Ig=f.forwardRef((t,e)=>{const{__scopeTooltip:s,...r}=t,n=ga(uo,s),a=Td(uo,s),i=Xo(s),l=f.useRef(null),c=Oe(e,l,n.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(jd,{asChild:!0,...i,children:o.jsx(we.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:c,onPointerMove:de(t.onPointerMove,g=>{g.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:de(t.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:de(t.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:de(t.onFocus,()=>{d.current||n.onOpen()}),onBlur:de(t.onBlur,n.onClose),onClick:de(t.onClick,n.onClose)})})});Ig.displayName=uo;var Dg="TooltipPortal",[Eb,Lg]=pa(Dg,{forceMount:void 0}),wr="TooltipContent",Ad=f.forwardRef((t,e)=>{const s=Lg(wr,t.__scopeTooltip),{forceMount:r=s.forceMount,side:n="top",...a}=t,i=ga(wr,t.__scopeTooltip);return o.jsx(Ws,{present:r||i.open,children:i.disableHoverableContent?o.jsx(Pd,{side:n,...a,ref:e}):o.jsx(Fg,{side:n,...a,ref:e})})}),Fg=f.forwardRef((t,e)=>{const s=ga(wr,t.__scopeTooltip),r=Td(wr,t.__scopeTooltip),n=f.useRef(null),a=Oe(e,n),[i,l]=f.useState(null),{trigger:c,onClose:d}=s,u=n.current,{onPointerInTransitChange:h}=r,g=f.useCallback(()=>{l(null),h(!1)},[h]),y=f.useCallback((b,m)=>{const v=b.currentTarget,x={x:b.clientX,y:b.clientY},p=Bg(x,v.getBoundingClientRect()),w=Ug(x,p),C=qg(m.getBoundingClientRect()),_=Wg([...w,...C]);l(_),h(!0)},[h]);return f.useEffect(()=>()=>g(),[g]),f.useEffect(()=>{if(c&&u){const b=v=>y(v,u),m=v=>y(v,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",m)}}},[c,u,y,g]),f.useEffect(()=>{if(i){const b=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},p=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),w=!Zg(x,i);p?g():w&&(g(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,i,d,g]),o.jsx(Pd,{...t,ref:a})}),[Vg,$g]=pa(kd,{isInside:!1}),zg=Lf("TooltipContent"),Pd=f.forwardRef((t,e)=>{const{__scopeTooltip:s,children:r,"aria-label":n,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=t,c=ga(wr,s),d=Xo(s),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(Qi,u),()=>document.removeEventListener(Qi,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=g=>{const y=g.target;y!=null&&y.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),o.jsx(Dl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:o.jsxs(Cd,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(zg,{children:r}),o.jsx(Vg,{scope:s,isInside:!0,children:o.jsx(lm,{id:c.contentId,role:"tooltip",children:n||r})})]})})});Ad.displayName=wr;var Rd="TooltipArrow",Hg=f.forwardRef((t,e)=>{const{__scopeTooltip:s,...r}=t,n=Xo(s);return $g(Rd,s).isInside?null:o.jsx(_d,{...n,...r,ref:e})});Hg.displayName=Rd;function Bg(t,e){const s=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),n=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(s,r,n,a)){case a:return"left";case n:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ug(t,e,s=5){const r=[];switch(e){case"top":r.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":r.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":r.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":r.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return r}function qg(t){const{top:e,right:s,bottom:r,left:n}=t;return[{x:n,y:e},{x:s,y:e},{x:s,y:r},{x:n,y:r}]}function Zg(t,e){const{x:s,y:r}=t;let n=!1;for(let a=0,i=e.length-1;a<e.length;i=a++){const l=e[a].x,c=e[a].y,d=e[i].x,u=e[i].y;c>r!=u>r&&s<(d-l)*(r-c)/(u-c)+l&&(n=!n)}return n}function Wg(t){const e=t.slice();return e.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),Gg(e)}function Gg(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const n=t[r];for(;e.length>=2;){const a=e[e.length-1],i=e[e.length-2];if((a.x-i.x)*(n.y-i.y)>=(a.y-i.y)*(n.x-i.x))e.pop();else break}e.push(n)}e.pop();const s=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;s.length>=2;){const a=s[s.length-1],i=s[s.length-2];if((a.x-i.x)*(n.y-i.y)>=(a.y-i.y)*(n.x-i.x))s.pop();else break}s.push(n)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var Kg=Ed,Md=Ad;const Qg=Kg,Yg=f.forwardRef(({className:t,sideOffset:e=4,...s},r)=>o.jsx(Md,{ref:r,sideOffset:e,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...s}));Yg.displayName=Md.displayName;const Yi="medicina-student-progress",Od=f.createContext(void 0);function bn(){const t=f.useContext(Od);if(t===void 0)throw new Error("useStudentProgress must be used within a StudentProgressProvider");return t}function Xg({children:t}){const[e,s]=f.useState(new Map),[r,n]=f.useState([]);f.useEffect(()=>{const N=localStorage.getItem(Yi);if(N)try{const E=JSON.parse(N),R=new Map(Object.entries(E));s(R)}catch(E){console.error("Error loading progress:",E)}},[]);const a=N=>{console.log("[saveProgress] Updating progress state, size:",N.size),s(N);const E=Object.fromEntries(N);localStorage.setItem(Yi,JSON.stringify(E)),console.log("[saveProgress] localStorage updated:",Object.keys(E))},i=(N,E)=>{if(console.log("[markCoursePassed] Called for:",N),E&&!["A","B","C"].includes(E)){console.warn("[markCoursePassed] Grade must be C or above to pass. Received:",E);return}const R=new Map(e);R.set(N,{courseId:N,status:"passed",grade:E,completedAt:new Date().toISOString()}),console.log("[markCoursePassed] New progress size:",R.size),a(R)},l=(N,E)=>{const R=new Map(e);R.set(N,{courseId:N,status:"in_progress",sectionId:E}),a(R)},c=(N,E)=>{const R=new Map(e);R.set(N,{courseId:N,status:"planned",sectionId:E}),a(R)},d=N=>{const E=new Map(e);E.delete(N),a(E)},u=(N,E,R)=>{if(E.has(N.id))return"passed";if(N.prerequisites.length>0){for(const M of N.prerequisites)if(!E.has(M))return"blocked"}if(N.corequisites.length>0){const M=N.corequisites.some(I=>E.has(I)),z=N.corequisites.some(I=>{const A=e.get(I);return(A==null?void 0:A.status)==="planned"||(A==null?void 0:A.status)==="in_progress"}),L=R?N.corequisites.some(I=>R.has(I)):!1;if(!M&&!z&&!L&&N.prerequisites.length>0)return"blocked"}if(N.isElective){const M=h(E,R||new Set);if(N.electiveType==="general"&&M<6||N.electiveType==="professional"&&N.term<=11&&M<11||N.electiveType==="professional"&&N.term>11&&M<15)return"blocked"}return"available"},h=(N,E)=>{if(r.length===0)return 0;const R=new Set([...Array.from(N),...Array.from(E)]);let M=0;for(let z=1;z<=18;z++){const L=r.filter(A=>A.term===z&&!A.isElective),I=L.filter(A=>R.has(A.id));L.length>0&&I.length/L.length>=.5&&(M=z)}return M},g=()=>{const N=new Set;return e.forEach((E,R)=>{E.status==="passed"&&N.add(R)}),N},y=()=>{const N=new Set;return e.forEach((E,R)=>{(E.status==="planned"||E.status==="in_progress")&&N.add(R)}),N},b=N=>{let E=0,R=0,M=0;return N.forEach(z=>{M+=z.credits;const L=e.get(z.id);(L==null?void 0:L.status)==="passed"?E+=z.credits:((L==null?void 0:L.status)==="planned"||(L==null?void 0:L.status)==="in_progress")&&(R+=z.credits)}),{passed:E,planned:R,total:M}},m=()=>{let N=0,E=0;return e.forEach(R=>{if(R.status==="passed"&&R.grade){const M=p(R.grade);M!==null&&(N+=M*x(R.courseId),E+=x(R.courseId))}}),E>0?N/E:0},v=N=>{n(N)},x=N=>{const E=r.find(R=>R.id===N);return(E==null?void 0:E.credits)||3},p=N=>({A:4,B:3,C:2,D:1,F:0})[N]??null,w=f.useMemo(()=>{console.log("[passedCourses useMemo] Recalculating with progress size:",e.size);const N=new Set;return e.forEach((E,R)=>{E.status==="passed"&&N.add(R)}),console.log("[passedCourses useMemo] Passed courses:",Array.from(N)),N},[e]),C=f.useMemo(()=>{const N=new Set;return e.forEach((E,R)=>{(E.status==="planned"||E.status==="in_progress")&&N.add(R)}),N},[e]),_={progress:e,passedCourses:w,plannedCourses:C,markCoursePassed:i,markCourseInProgress:l,markCoursePlanned:c,removeCourseProgress:d,getCourseStatus:u,getPassedCourses:g,getPlannedCourses:y,getTotalCredits:b,calculateGPA:m,updateCourses:v};return o.jsx(Od.Provider,{value:_,children:t})}function Jg({onMenuClick:t}){return o.jsx("header",{className:"border-b bg-card text-card-foreground px-4 py-3 md:px-6 md:py-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"md:hidden p-2 -ml-2 text-muted-foreground hover:bg-muted rounded-md transition-colors","aria-label":"Abrir men",children:o.jsx(Fm,{className:"h-6 w-6"})}),o.jsx("div",{className:"p-2 bg-primary/10 rounded-lg shrink-0",children:o.jsx(Dm,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg md:text-2xl font-bold leading-tight",children:"Planificador Medicina"}),o.jsx("p",{className:"text-xs text-muted-foreground hidden md:block",children:"Programa UTESA 2013  18 Semestres + Proyecto Final"}),o.jsx("p",{className:"text-xs text-muted-foreground md:hidden",children:"Curriculum UTESA 2013"})]})]})})}const ex=vn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=f.forwardRef(({className:t,variant:e,size:s,asChild:r=!1,...n},a)=>{const i=r?Ll:"button";return o.jsx(i,{className:ee(ex({variant:e,size:s,className:t})),ref:a,...n})});se.displayName="Button";const ve=f.forwardRef(({className:t,type:e,...s},r)=>o.jsx("input",{type:e,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s}));ve.displayName="Input";function fo(t,[e,s]){return Math.min(s,Math.max(e,t))}function Id(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var tx=[" ","Enter","ArrowUp","ArrowDown"],sx=[" ","Enter"],wn="Select",[xa,va,rx]=Ol(wn),[Pr,kb]=Zs(wn,[rx,ma]),ya=ma(),[nx,_s]=Pr(wn),[ax,ox]=Pr(wn),Dd=t=>{const{__scopeSelect:e,children:s,open:r,defaultOpen:n,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:g,required:y,form:b}=t,m=ya(e),[v,x]=f.useState(null),[p,w]=f.useState(null),[C,_]=f.useState(!1),N=Fl(d),[E=!1,R]=Fn({prop:r,defaultProp:n,onChange:a}),[M,z]=Fn({prop:i,defaultProp:l,onChange:c}),L=f.useRef(null),I=v?b||!!v.closest("form"):!0,[A,T]=f.useState(new Set),V=Array.from(A).map(D=>D.props.value).join(";");return o.jsx(Rg,{...m,children:o.jsxs(nx,{required:y,scope:e,trigger:v,onTriggerChange:x,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:C,onValueNodeHasChildrenChange:_,contentId:Ao(),value:M,onValueChange:z,open:E,onOpenChange:R,dir:N,triggerPointerDownPosRef:L,disabled:g,children:[o.jsx(xa.Provider,{scope:e,children:o.jsx(ax,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(D=>{T(W=>new Set(W).add(D))},[]),onNativeOptionRemove:f.useCallback(D=>{T(W=>{const H=new Set(W);return H.delete(D),H})},[]),children:s})}),I?o.jsxs(iu,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:h,value:M,onChange:D=>z(D.target.value),disabled:g,form:b,children:[M===void 0?o.jsx("option",{value:""}):null,Array.from(A)]},V):null]})})};Dd.displayName=wn;var Ld="SelectTrigger",Fd=f.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:r=!1,...n}=t,a=ya(s),i=_s(Ld,s),l=i.disabled||r,c=Oe(e,i.onTriggerChange),d=va(s),u=f.useRef("touch"),[h,g,y]=lu(m=>{const v=d().filter(w=>!w.disabled),x=v.find(w=>w.value===i.value),p=cu(v,m,x);p!==void 0&&i.onValueChange(p.value)}),b=m=>{l||(i.onOpenChange(!0),y()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(jd,{asChild:!0,...a,children:o.jsx(we.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ou(i.value)?"":void 0,...n,ref:c,onClick:de(n.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&b(m)}),onPointerDown:de(n.onPointerDown,m=>{u.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(b(m),m.preventDefault())}),onKeyDown:de(n.onKeyDown,m=>{const v=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&g(m.key),!(v&&m.key===" ")&&tx.includes(m.key)&&(b(),m.preventDefault())})})})});Fd.displayName=Ld;var Vd="SelectValue",$d=f.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:n,children:a,placeholder:i="",...l}=t,c=_s(Vd,s),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=Oe(e,c.onValueNodeChange);return pt(()=>{d(u)},[d,u]),o.jsx(we.span,{...l,ref:h,style:{pointerEvents:"none"},children:ou(c.value)?o.jsx(o.Fragment,{children:i}):a})});$d.displayName=Vd;var ix="SelectIcon",zd=f.forwardRef((t,e)=>{const{__scopeSelect:s,children:r,...n}=t;return o.jsx(we.span,{"aria-hidden":!0,...n,ref:e,children:r||""})});zd.displayName=ix;var lx="SelectPortal",Hd=t=>o.jsx(Il,{asChild:!0,...t});Hd.displayName=lx;var Hs="SelectContent",Bd=f.forwardRef((t,e)=>{const s=_s(Hs,t.__scopeSelect),[r,n]=f.useState();if(pt(()=>{n(new DocumentFragment)},[]),!s.open){const a=r;return a?gn.createPortal(o.jsx(Ud,{scope:t.__scopeSelect,children:o.jsx(xa.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),a):null}return o.jsx(qd,{...t,ref:e})});Bd.displayName=Hs;var bt=10,[Ud,Ns]=Pr(Hs),cx="SelectContentImpl",dx=Hf("SelectContent.RemoveScroll"),qd=f.forwardRef((t,e)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:m,avoidCollisions:v,...x}=t,p=_s(Hs,s),[w,C]=f.useState(null),[_,N]=f.useState(null),E=Oe(e,Z=>C(Z)),[R,M]=f.useState(null),[z,L]=f.useState(null),I=va(s),[A,T]=f.useState(!1),V=f.useRef(!1);f.useEffect(()=>{if(w)return Ff(w)},[w]),Vf();const D=f.useCallback(Z=>{const[ae,...Pe]=I().map(he=>he.ref.current),[Se]=Pe.slice(-1),le=document.activeElement;for(const he of Z)if(he===le||(he==null||he.scrollIntoView({block:"nearest"}),he===ae&&_&&(_.scrollTop=0),he===Se&&_&&(_.scrollTop=_.scrollHeight),he==null||he.focus(),document.activeElement!==le))return},[I,_]),W=f.useCallback(()=>D([R,w]),[D,R,w]);f.useEffect(()=>{A&&W()},[A,W]);const{onOpenChange:H,triggerPointerDownPosRef:re}=p;f.useEffect(()=>{if(w){let Z={x:0,y:0};const ae=Se=>{var le,he;Z={x:Math.abs(Math.round(Se.pageX)-(((le=re.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((he=re.current)==null?void 0:he.y)??0))}},Pe=Se=>{Z.x<=10&&Z.y<=10?Se.preventDefault():w.contains(Se.target)||H(!1),document.removeEventListener("pointermove",ae),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[w,H,re]),f.useEffect(()=>{const Z=()=>H(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[H]);const[ce,P]=lu(Z=>{const ae=I().filter(le=>!le.disabled),Pe=ae.find(le=>le.ref.current===document.activeElement),Se=cu(ae,Z,Pe);Se&&setTimeout(()=>Se.ref.current.focus())}),Y=f.useCallback((Z,ae,Pe)=>{const Se=!V.current&&!Pe;(p.value!==void 0&&p.value===ae||Se)&&(M(Z),Se&&(V.current=!0))},[p.value]),te=f.useCallback(()=>w==null?void 0:w.focus(),[w]),fe=f.useCallback((Z,ae,Pe)=>{const Se=!V.current&&!Pe;(p.value!==void 0&&p.value===ae||Se)&&L(Z)},[p.value]),je=r==="popper"?ho:Zd,Ee=je===ho?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:g,collisionPadding:y,sticky:b,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(Ud,{scope:s,content:w,viewport:_,onViewportChange:N,itemRefCallback:Y,selectedItem:R,onItemLeave:te,itemTextRefCallback:fe,focusSelectedItem:W,selectedItemText:z,position:r,isPositioned:A,searchRef:ce,children:o.jsx($f,{as:dx,allowPinchZoom:!0,children:o.jsx(zf,{asChild:!0,trapped:p.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:de(n,Z=>{var ae;(ae=p.trigger)==null||ae.focus({preventScroll:!0}),Z.preventDefault()}),children:o.jsx(Dl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:o.jsx(je,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:Z=>Z.preventDefault(),...x,...Ee,onPlaced:()=>T(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:de(x.onKeyDown,Z=>{const ae=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!ae&&Z.key.length===1&&P(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let Se=I().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const le=Z.target,he=Se.indexOf(le);Se=Se.slice(he+1)}setTimeout(()=>D(Se)),Z.preventDefault()}})})})})})})});qd.displayName=cx;var ux="SelectItemAlignedPosition",Zd=f.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:r,...n}=t,a=_s(Hs,s),i=Ns(Hs,s),[l,c]=f.useState(null),[d,u]=f.useState(null),h=Oe(e,E=>u(E)),g=va(s),y=f.useRef(!1),b=f.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:p}=i,w=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&m&&v&&x){const E=a.trigger.getBoundingClientRect(),R=d.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),z=x.getBoundingClientRect();if(a.dir!=="rtl"){const le=z.left-R.left,he=M.left-le,ke=E.left-he,Ce=E.width+ke,Ue=Math.max(Ce,R.width),Re=window.innerWidth-bt,ot=fo(he,[bt,Math.max(bt,Re-Ue)]);l.style.minWidth=Ce+"px",l.style.left=ot+"px"}else{const le=R.right-z.right,he=window.innerWidth-M.right-le,ke=window.innerWidth-E.right-he,Ce=E.width+ke,Ue=Math.max(Ce,R.width),Re=window.innerWidth-bt,ot=fo(he,[bt,Math.max(bt,Re-Ue)]);l.style.minWidth=Ce+"px",l.style.right=ot+"px"}const L=g(),I=window.innerHeight-bt*2,A=m.scrollHeight,T=window.getComputedStyle(d),V=parseInt(T.borderTopWidth,10),D=parseInt(T.paddingTop,10),W=parseInt(T.borderBottomWidth,10),H=parseInt(T.paddingBottom,10),re=V+D+A+H+W,ce=Math.min(v.offsetHeight*5,re),P=window.getComputedStyle(m),Y=parseInt(P.paddingTop,10),te=parseInt(P.paddingBottom,10),fe=E.top+E.height/2-bt,je=I-fe,Ee=v.offsetHeight/2,Z=v.offsetTop+Ee,ae=V+D+Z,Pe=re-ae;if(ae<=fe){const le=L.length>0&&v===L[L.length-1].ref.current;l.style.bottom="0px";const he=d.clientHeight-m.offsetTop-m.offsetHeight,ke=Math.max(je,Ee+(le?te:0)+he+W),Ce=ae+ke;l.style.height=Ce+"px"}else{const le=L.length>0&&v===L[0].ref.current;l.style.top="0px";const ke=Math.max(fe,V+m.offsetTop+(le?Y:0)+Ee)+Pe;l.style.height=ke+"px",m.scrollTop=ae-fe+m.offsetTop}l.style.margin=`${bt}px 0`,l.style.minHeight=ce+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[g,a.trigger,a.valueNode,l,d,m,v,x,a.dir,r]);pt(()=>w(),[w]);const[C,_]=f.useState();pt(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const N=f.useCallback(E=>{E&&b.current===!0&&(w(),p==null||p(),b.current=!1)},[w,p]);return o.jsx(hx,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:N,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:o.jsx(we.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Zd.displayName=ux;var fx="SelectPopperPosition",ho=f.forwardRef((t,e)=>{const{__scopeSelect:s,align:r="start",collisionPadding:n=bt,...a}=t,i=ya(s);return o.jsx(Cd,{...i,...a,ref:e,align:r,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ho.displayName=fx;var[hx,Jo]=Pr(Hs,{}),mo="SelectViewport",Wd=f.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:r,...n}=t,a=Ns(mo,s),i=Jo(mo,s),l=Oe(e,a.onViewportChange),c=f.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(xa.Slot,{scope:s,children:o.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:de(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&h){const y=Math.abs(c.current-u.scrollTop);if(y>0){const b=window.innerHeight-bt*2,m=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),x=Math.max(m,v);if(x<b){const p=x+y,w=Math.min(b,p),C=p-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Wd.displayName=mo;var Gd="SelectGroup",[mx,px]=Pr(Gd),gx=f.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,n=Ao();return o.jsx(mx,{scope:s,id:n,children:o.jsx(we.div,{role:"group","aria-labelledby":n,...r,ref:e})})});gx.displayName=Gd;var Kd="SelectLabel",Qd=f.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,n=px(Kd,s);return o.jsx(we.div,{id:n.id,...r,ref:e})});Qd.displayName=Kd;var qn="SelectItem",[xx,Yd]=Pr(qn),Xd=f.forwardRef((t,e)=>{const{__scopeSelect:s,value:r,disabled:n=!1,textValue:a,...i}=t,l=_s(qn,s),c=Ns(qn,s),d=l.value===r,[u,h]=f.useState(a??""),[g,y]=f.useState(!1),b=Oe(e,p=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,p,r,n)}),m=Ao(),v=f.useRef("touch"),x=()=>{n||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(xx,{scope:s,value:r,disabled:n,textId:m,isSelected:d,onItemTextChange:f.useCallback(p=>{h(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:o.jsx(xa.ItemSlot,{scope:s,value:r,disabled:n,textValue:u,children:o.jsx(we.div,{role:"option","aria-labelledby":m,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:b,onFocus:de(i.onFocus,()=>y(!0)),onBlur:de(i.onBlur,()=>y(!1)),onClick:de(i.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:de(i.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:de(i.onPointerDown,p=>{v.current=p.pointerType}),onPointerMove:de(i.onPointerMove,p=>{var w;v.current=p.pointerType,n?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(i.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:de(i.onKeyDown,p=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&p.key===" "||(sx.includes(p.key)&&x(),p.key===" "&&p.preventDefault())})})})})});Xd.displayName=qn;var $r="SelectItemText",Jd=f.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:n,...a}=t,i=_s($r,s),l=Ns($r,s),c=Yd($r,s),d=ox($r,s),[u,h]=f.useState(null),g=Oe(e,x=>h(x),c.onItemTextChange,x=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,x,c.value,c.disabled)}),y=u==null?void 0:u.textContent,b=f.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=d;return pt(()=>(m(b),()=>v(b)),[m,v,b]),o.jsxs(o.Fragment,{children:[o.jsx(we.span,{id:c.textId,...a,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?gn.createPortal(a.children,i.valueNode):null]})});Jd.displayName=$r;var eu="SelectItemIndicator",tu=f.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return Yd(eu,s).isSelected?o.jsx(we.span,{"aria-hidden":!0,...r,ref:e}):null});tu.displayName=eu;var po="SelectScrollUpButton",su=f.forwardRef((t,e)=>{const s=Ns(po,t.__scopeSelect),r=Jo(po,t.__scopeSelect),[n,a]=f.useState(!1),i=Oe(e,r.onScrollButtonChange);return pt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?o.jsx(nu,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});su.displayName=po;var go="SelectScrollDownButton",ru=f.forwardRef((t,e)=>{const s=Ns(go,t.__scopeSelect),r=Jo(go,t.__scopeSelect),[n,a]=f.useState(!1),i=Oe(e,r.onScrollButtonChange);return pt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?o.jsx(nu,{...t,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ru.displayName=go;var nu=f.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:r,...n}=t,a=Ns("SelectScrollButton",s),i=f.useRef(null),l=va(s),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),pt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),o.jsx(we.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:de(n.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:de(n.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:de(n.onPointerLeave,()=>{c()})})}),vx="SelectSeparator",au=f.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return o.jsx(we.div,{"aria-hidden":!0,...r,ref:e})});au.displayName=vx;var xo="SelectArrow",yx=f.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,n=ya(s),a=_s(xo,s),i=Ns(xo,s);return a.open&&i.position==="popper"?o.jsx(_d,{...n,...r,ref:e}):null});yx.displayName=xo;function ou(t){return t===""||t===void 0}var iu=f.forwardRef((t,e)=>{const{value:s,...r}=t,n=f.useRef(null),a=Oe(e,n),i=Id(s);return f.useEffect(()=>{const l=n.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==s&&u){const h=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(h)}},[i,s]),o.jsx(xn,{asChild:!0,children:o.jsx("select",{...r,ref:a,defaultValue:s})})});iu.displayName="BubbleSelect";function lu(t){const e=ft(t),s=f.useRef(""),r=f.useRef(0),n=f.useCallback(i=>{const l=s.current+i;e(l),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=f.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,n,a]}function cu(t,e,s){const n=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let i=bx(t,Math.max(a,0));n.length===1&&(i=i.filter(d=>d!==s));const c=i.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==s?c:void 0}function bx(t,e){return t.map((s,r)=>t[(e+r)%t.length])}var wx=Dd,du=Fd,Sx=$d,jx=zd,Cx=Hd,uu=Bd,_x=Wd,fu=Qd,hu=Xd,Nx=Jd,Tx=tu,mu=su,pu=ru,gu=au;const ba=wx,wa=Sx,Sn=f.forwardRef(({className:t,children:e,...s},r)=>o.jsxs(du,{ref:r,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,o.jsx(jx,{asChild:!0,children:o.jsx(Hc,{className:"h-4 w-4 opacity-50"})})]}));Sn.displayName=du.displayName;const xu=f.forwardRef(({className:t,...e},s)=>o.jsx(mu,{ref:s,className:ee("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Pm,{className:"h-4 w-4"})}));xu.displayName=mu.displayName;const vu=f.forwardRef(({className:t,...e},s)=>o.jsx(pu,{ref:s,className:ee("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Hc,{className:"h-4 w-4"})}));vu.displayName=pu.displayName;const jn=f.forwardRef(({className:t,children:e,position:s="popper",...r},n)=>o.jsx(Cx,{children:o.jsxs(uu,{ref:n,className:ee("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[o.jsx(xu,{}),o.jsx(_x,{className:ee("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(vu,{})]})}));jn.displayName=uu.displayName;const Ex=f.forwardRef(({className:t,...e},s)=>o.jsx(fu,{ref:s,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ex.displayName=fu.displayName;const Sr=f.forwardRef(({className:t,children:e,...s},r)=>o.jsxs(hu,{ref:r,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Tx,{children:o.jsx(zc,{className:"h-4 w-4"})})}),o.jsx(Nx,{children:e})]}));Sr.displayName=hu.displayName;const kx=f.forwardRef(({className:t,...e},s)=>o.jsx(gu,{ref:s,className:ee("-mx-1 my-1 h-px bg-muted",t),...e}));kx.displayName=gu.displayName;var ei="Checkbox",[Ax,Ab]=Zs(ei),[Px,Rx]=Ax(ei),yu=f.forwardRef((t,e)=>{const{__scopeCheckbox:s,name:r,checked:n,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[g,y]=f.useState(null),b=Oe(e,C=>y(C)),m=f.useRef(!1),v=g?u||!!g.closest("form"):!0,[x=!1,p]=Fn({prop:n,defaultProp:a,onChange:d}),w=f.useRef(x);return f.useEffect(()=>{const C=g==null?void 0:g.form;if(C){const _=()=>p(w.current);return C.addEventListener("reset",_),()=>C.removeEventListener("reset",_)}},[g,p]),o.jsxs(Px,{scope:s,state:x,disabled:l,children:[o.jsx(we.button,{type:"button",role:"checkbox","aria-checked":xs(x)?"mixed":x,"aria-required":i,"data-state":Su(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:b,onKeyDown:de(t.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:de(t.onClick,C=>{p(_=>xs(_)?!0:!_),v&&(m.current=C.isPropagationStopped(),m.current||C.stopPropagation())})}),v&&o.jsx(Mx,{control:g,bubbles:!m.current,name:r,value:c,checked:x,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:xs(a)?!1:a})]})});yu.displayName=ei;var bu="CheckboxIndicator",wu=f.forwardRef((t,e)=>{const{__scopeCheckbox:s,forceMount:r,...n}=t,a=Rx(bu,s);return o.jsx(Ws,{present:r||xs(a.state)||a.state===!0,children:o.jsx(we.span,{"data-state":Su(a.state),"data-disabled":a.disabled?"":void 0,...n,ref:e,style:{pointerEvents:"none",...t.style}})})});wu.displayName=bu;var Mx=t=>{const{control:e,checked:s,bubbles:r=!0,defaultChecked:n,...a}=t,i=f.useRef(null),l=Id(s),c=hd(e);f.useEffect(()=>{const u=i.current,h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==s&&y){const b=new Event("click",{bubbles:r});u.indeterminate=xs(s),y.call(u,xs(s)?!1:s),u.dispatchEvent(b)}},[l,s,r]);const d=f.useRef(xs(s)?!1:s);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??d.current,...a,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xs(t){return t==="indeterminate"}function Su(t){return xs(t)?"indeterminate":t?"checked":"unchecked"}var ju=yu,Ox=wu;const Zn=f.forwardRef(({className:t,...e},s)=>o.jsx(ju,{ref:s,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(Ox,{className:ee("flex items-center justify-center text-current"),children:o.jsx(zc,{className:"h-4 w-4"})})}));Zn.displayName=ju.displayName;const yt=(...t)=>console.log("[LocalJsonProvider]",...t);class Ix{constructor(){this.coursesMem=null,this.sectionsMem=null}readLS(e){try{const s=localStorage.getItem(e);return s?JSON.parse(s):null}catch{return null}}async getCourses(){if(this.coursesMem)return yt("courses from mem:",this.coursesMem.length),this.coursesMem;const e=this.readLS("admin:courses");if(Array.isArray(e)&&e.length>0)return yt("courses from localStorage:",e.length),this.coursesMem=e,e;const s="/medicina-pwa-final/data/courses.json";yt("fetching courses:",s);const r=await fetch(s,{cache:"no-store"});if(!r.ok)throw new Error(`courses fetch ${r.status}`);const n=await r.json(),a=Array.isArray(n)?n:[];return yt("courses fetched count:",a.length),this.coursesMem=a,a}async getSections(){if(this.sectionsMem)return yt("sections from mem (type):",Array.isArray(this.sectionsMem)?"array":typeof this.sectionsMem),this.sectionsMem;const e=this.readLS("admin:sections");if(e&&(Array.isArray(e)&&e.length>0||e.courses))return yt("sections from localStorage (type):",Array.isArray(e)?"array":"object"),this.sectionsMem=e,e;const s="/medicina-pwa-final/data/sections.json";yt("fetching sections:",s);const r=await fetch(s,{cache:"no-store"});if(!r.ok)throw new Error(`sections fetch ${r.status}`);const a=await r.json()??[];return yt("sections fetched type:",Array.isArray(a)?"array":"object"),this.sectionsMem=a,a}async saveCourses(e){const s=Array.isArray(e)?e:[];this.coursesMem=s,localStorage.setItem("admin:courses",JSON.stringify(s)),yt("courses saved (ls) count:",s.length)}async saveSections(e){const s=e??(Array.isArray(e)?[]:{courses:[]});this.sectionsMem=s,localStorage.setItem("admin:sections",JSON.stringify(s)),yt("sections saved (ls) type:",Array.isArray(s)?"array":"object")}clearOverrides(){localStorage.removeItem("admin:courses"),localStorage.removeItem("admin:sections"),this.coursesMem=null,this.sectionsMem=null,yt("overrides cleared")}}const Rt=new Ix;function Sa(){const[t,e]=f.useState([]),[s,r]=f.useState([]),[n,a]=f.useState(!0);f.useEffect(()=>{let g=!1;return(async()=>{try{const[y,b]=await Promise.all([Rt.getCourses(),Rt.getSections()]);g||(e(Array.isArray(y)?y:[]),r(b??[]))}catch(y){console.error("[useCourseData] load error:",y)}finally{g||a(!1)}})(),()=>{g=!0}},[]);const i=f.useMemo(()=>{const g=new Map;for(const y of t){g.has(y.term)||g.set(y.term,{term:y.term,name:`CUATRIMESTRE ${y.term}`,block:y.block,credits:0,courseCount:0});const b=g.get(y.term);b.credits+=y.credits,b.courseCount+=1}return g},[t]);return{courses:t,sections:s,loading:n,getCourseById:g=>t.find(y=>y.id===g),getSectionsByCourse:g=>{var b;if(Array.isArray(s))return s.filter(m=>m.courseId===g);const y=(b=s==null?void 0:s.courses)==null?void 0:b.find(m=>m.id===g);return(y==null?void 0:y.sections)??[]},getCoursesByTerm:g=>t.filter(y=>y.term===g),getElectivesByType:g=>t.filter(y=>y.isElective&&y.electiveType===g),getAllTerms:()=>Array.from(i.values()).sort((g,y)=>g.term-y.term)}}function Xi({filters:t,onFiltersChange:e,activeView:s,onViewChange:r,onShowPlanModal:n}){var g;const{getAllTerms:a,courses:i}=Sa(),{calculateGPA:l,getTotalCredits:c}=bn(),d=a(),u=l(),h=y=>{e({...t,status:y==="all"?null:y})};return o.jsxs("nav",{className:"w-64 bg-card border-r border-border flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-border",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs(se,{variant:s==="courses"?"default":"ghost",className:"w-full justify-start gap-3",onClick:()=>r("courses"),"data-testid":"nav-course-list",children:[o.jsx(Lm,{className:"w-4 h-4"}),"Lista de Materias"]}),o.jsxs(se,{variant:"ghost",className:"w-full justify-start gap-3",onClick:n,"data-testid":"nav-my-plan",children:[o.jsx(Mm,{className:"w-4 h-4"}),"Mi Plan"]}),o.jsxs(se,{variant:s==="progress"?"default":"ghost",className:"w-full justify-start gap-3",onClick:()=>r("progress"),"data-testid":"nav-progress",children:[o.jsx(Um,{className:"w-4 h-4"}),"Progreso"]})]})}),o.jsx("div",{className:"p-4 flex-1",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Filtros"}),o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsxs(ba,{value:((g=t.term)==null?void 0:g.toString())||"",onValueChange:y=>e({...t,term:y&&y!=="all"?parseInt(y):null}),children:[o.jsx(Sn,{"data-testid":"filter-term",children:o.jsx(wa,{placeholder:"Todos los Semestres"})}),o.jsxs(jn,{children:[o.jsx(Sr,{value:"all",children:"Todos los Semestres"}),d.map(y=>o.jsxs(Sr,{value:y.term.toString(),children:["Semestre ",y.term," - ",y.block]},y.term))]})]}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.jsx(se,{size:"sm",variant:t.status===null?"default":"outline",className:"text-xs",onClick:()=>h("all"),"data-testid":"filter-all",children:"Todas"}),o.jsx(se,{size:"sm",variant:t.status==="available"?"default":"outline",className:"text-xs",onClick:()=>h("available"),"data-testid":"filter-available",children:"Disponibles"}),o.jsx(se,{size:"sm",variant:t.status==="blocked"?"default":"outline",className:"text-xs",onClick:()=>h("blocked"),"data-testid":"filter-blocked",children:"Bloqueadas"}),o.jsx(se,{size:"sm",variant:t.status==="passed"?"default":"outline",className:"text-xs",onClick:()=>h("passed"),"data-testid":"filter-passed",children:"Aprobadas"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Zn,{id:"electives",checked:t.electivesOnly,onCheckedChange:y=>e({...t,electivesOnly:!!y}),"data-testid":"filter-electives-only"}),o.jsx("label",{htmlFor:"electives",className:"text-sm text-foreground",children:"Solo electivas"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Zn,{id:"in-plan",checked:t.inPlanOnly,onCheckedChange:y=>e({...t,inPlanOnly:!!y}),"data-testid":"filter-in-plan"}),o.jsx("label",{htmlFor:"in-plan",className:"text-sm text-foreground",children:"En mi plan"})]})]})]})]}),o.jsxs("div",{className:"pt-4 border-t border-border",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Buscar"}),o.jsx(ve,{type:"text",placeholder:"Cdigo o nombre de materia...",className:"mt-2",value:t.searchTerm,onChange:y=>e({...t,searchTerm:y.target.value}),"data-testid":"search-input"})]})]})}),o.jsx("div",{className:"p-4 border-t border-border",children:o.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[o.jsxs("div",{"data-testid":"nav-credits",children:["Crditos del Plan: ",o.jsx("span",{className:"font-medium text-foreground",children:"0/22"})]}),o.jsxs("div",{"data-testid":"nav-gpa",children:["ndice: ",o.jsx("span",{className:"font-medium text-foreground",children:u.toFixed(2)})]})]})})]})}const Dx=vn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Lt({className:t,variant:e,...s}){return o.jsx("div",{className:ee(Dx({variant:e}),t),...s})}const Nt=f.forwardRef(({className:t,...e},s)=>o.jsx("div",{ref:s,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Nt.displayName="Card";const ts=f.forwardRef(({className:t,...e},s)=>o.jsx("div",{ref:s,className:ee("flex flex-col space-y-1.5 p-6",t),...e}));ts.displayName="CardHeader";const ss=f.forwardRef(({className:t,...e},s)=>o.jsx("div",{ref:s,className:ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));ss.displayName="CardTitle";const Lx=f.forwardRef(({className:t,...e},s)=>o.jsx("div",{ref:s,className:ee("text-sm text-muted-foreground",t),...e}));Lx.displayName="CardDescription";const Tt=f.forwardRef(({className:t,...e},s)=>o.jsx("div",{ref:s,className:ee("p-6 pt-0",t),...e}));Tt.displayName="CardContent";const Fx=f.forwardRef(({className:t,...e},s)=>o.jsx("div",{ref:s,className:ee("flex items-center p-6 pt-0",t),...e}));Fx.displayName="CardFooter";const Ji="medicina-course-plan";function Vx(){const[t,e]=f.useState([]);f.useEffect(()=>{const b=localStorage.getItem(Ji);if(b)try{const m=JSON.parse(b);e(m)}catch(m){console.error("Error loading course plan:",m)}},[]);const s=b=>{e(b),localStorage.setItem(Ji,JSON.stringify(b))},r=(b,m,v,x=1)=>{const p=[...t],w=p.findIndex(C=>C.courseId===b);w>=0?p[w]={courseId:b,plannedTerm:m,sectionId:v,priority:x}:p.push({courseId:b,plannedTerm:m,sectionId:v,priority:x}),s(p)},n=b=>{const m=t.filter(v=>v.courseId!==b);s(m)},a=(b,m)=>{const v=t.map(x=>x.courseId===b?{...x,sectionId:m}:x);s(v)},i=b=>{const m=[],v=t.filter(x=>x.sectionId).map(x=>b.find(p=>p.id===x.sectionId)).filter(x=>x!==void 0);for(let x=0;x<v.length;x++)for(let p=x+1;p<v.length;p++){const w=v[x],C=v[p],_=l(w,C);_&&m.push({course1:w.courseId,course2:C.courseId,conflictTime:_})}return m},l=(b,m)=>{for(const v of b.schedule)for(const x of m.schedule)if(v.day===x.day){const p=c(v.startTime),w=c(v.endTime),C=c(x.startTime),_=c(x.endTime);if(p<_&&w>C)return`${v.day} ${v.startTime}-${v.endTime}`}return null},c=b=>{const[m,v]=b.split(":").map(Number);return m*60+v},d=()=>new Set(t.map(b=>b.courseId)),u=(b,m)=>t.filter(v=>v.plannedTerm===b).reduce((v,x)=>{const p=m.find(w=>w.id===x.courseId);return v+((p==null?void 0:p.credits)||0)},0),h=(b,m,v,x,p=22)=>{const w=u(b,m),C=p-w,_=[];let N=0;const E=new Set(t.map(L=>L.courseId)),R=g(m,v,E),M=new Set,z=L=>{for(const I of R){if(I.some(D=>M.has(D)))continue;const A=I.map(D=>m.find(W=>W.id===D)).filter(Boolean);if(A.length===0||!A.some(L))continue;const T=A.reduce((D,W)=>D+W.credits,0);if(N+T>C)continue;let V=!1;if(A.length===1){const D=A[0];V=x(D,v,E)==="available"&&(!D.isElective||y(D,b))}else{const D=new Set([...Array.from(E),...I]);V=A.every(W=>x(W,v,D)==="available"&&(!W.isElective||y(W,b)))}V&&(I.forEach(D=>{_.push(D),M.add(D)}),N+=T)}};return z(L=>L.term===b&&!L.isElective),z(L=>L.isElective&&y(L,b)),z(L=>L.term<b&&!L.isElective),_},g=(b,m,v)=>{const x=[],p=new Set;for(const w of b)if(!(p.has(w.id)||m.has(w.id)||v.has(w.id)))if(!w.corequisites||w.corequisites.length===0)x.push([w.id]),p.add(w.id);else{const C=new Set([w.id]),_=[...w.corequisites];for(;_.length>0;){const E=_.shift();if(!C.has(E)&&!m.has(E)&&!v.has(E)){C.add(E);const R=b.find(M=>M.id===E);R&&R.corequisites&&R.corequisites.forEach(M=>{C.has(M)||_.push(M)})}}const N=Array.from(C);x.push(N),N.forEach(E=>p.add(E))}return x},y=(b,m)=>b.isElective?b.electiveType==="general"&&m>=6||b.electiveType==="professional"&&b.term<=11&&m>=11||b.electiveType==="professional"&&b.term>11&&m>=15:!1;return{coursePlan:t,addCourseToPlan:r,removeCourseFromPlan:n,updateSectionSelection:a,detectScheduleConflicts:i,getCoursesInPlan:d,getPlannedTermCredits:u,suggestCoursesForTerm:h,isElectiveAvailableForTerm:y,buildCorequisiteClusters:g}}function $x({filters:t,onCourseSelect:e,selectedCourse:s,onShowPlanModal:r}){const{courses:n,getAllTerms:a}=Sa(),{getCourseStatus:i,passedCourses:l,getPlannedCourses:c}=bn(),{getCoursesInPlan:d}=Vx(),u=d(),h=c(),g=a(),y=f.useMemo(()=>n.filter(p=>{if(t.term&&p.term!==t.term||t.status&&i(p,l,h)!==t.status||t.electivesOnly&&!p.isElective||t.inPlanOnly&&!u.has(p.id))return!1;if(t.searchTerm){const w=t.searchTerm.toLowerCase();if(!p.id.toLowerCase().includes(w)&&!p.name.toLowerCase().includes(w))return!1}return!0}),[n,t,l,u,h]),b=f.useMemo(()=>{const p=new Map,w=new Map;return y.forEach(_=>{if(_.isElective){const E={general:6,professional:_.term>11?15:11}[_.electiveType]||_.term;if(!w.has(E)){const R=_.electiveType==="general"?"Electivas Generales":E===11?"Electivas Profesionalizantes - Ciencias Bsicas":"Electivas Profesionalizantes - Ciencias Clnicas";w.set(E,{term:E,name:R,block:"ELECTIVAS",courses:[],isElective:!0,electiveType:_.electiveType})}w.get(E).courses.push(_)}else{if(!p.has(_.term)){const N=g.find(E=>E.term===_.term);p.set(_.term,{term:_.term,name:(N==null?void 0:N.name)||`Cuatrimestre ${_.term}`,block:(N==null?void 0:N.block)||_.block,courses:[],isElective:!1})}p.get(_.term).courses.push(_)}}),[...Array.from(p.values()),...Array.from(w.values())].sort((_,N)=>_.term!==N.term?_.term-N.term:_.isElective?1:-1)},[y,g]),m=p=>{switch(i(p,l,h)){case"available":return o.jsx(Lt,{variant:"default",className:"pill ok",children:"Disponible"});case"blocked":return o.jsx(Lt,{variant:"destructive",className:"pill bad",children:"Bloqueada"});case"passed":return o.jsx(Lt,{variant:"secondary",className:"pill passed",children:"Aprobada"})}},v=p=>{if(!p.isElective)return null;const w=p.electiveType==="general"?"tag-elec gen":"tag-elec professional",C=p.electiveType==="general"?"General":"Profesionalizante";return o.jsxs("span",{className:`tag ${w}`,children:["Electiva  ",C]})},x=()=>{r()};return o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx("div",{className:"p-6 border-b border-border bg-background",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Catlogo de Materias"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"course-count",children:[y.length," materias"]}),o.jsx(se,{size:"sm",onClick:x,"data-testid":"suggest-plan-btn",children:"Sugerir Plan"})]})]})}),o.jsx("div",{className:"flex-1 p-6 space-y-8",children:b.map(p=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:ee("sticky-header mobile-sticky-header py-4 px-6 -mx-6 bg-background/95 backdrop-blur-sm border-b border-border",p.isElective&&"bg-orange-50/80 dark:bg-orange-950/30 border-orange-200 dark:border-orange-800"),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:ee("w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",p.isElective?"bg-orange-500 text-white":"bg-primary text-primary-foreground"),children:p.isElective?"":p.term}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:p.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.block,"  ",p.courses.length," materias  ",p.courses.reduce((w,C)=>w+C.credits,0)," crditos",p.isElective&&"  Elige tus electivas"]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.courses.map(w=>{const C=i(w,l,h),_=C==="passed",N=C==="blocked",E=(s==null?void 0:s.id)===w.id;return o.jsx("div",{className:"space-y-0",children:o.jsxs(Nt,{className:ee("cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.02]",_&&"ring-2 ring-green-200 bg-green-50/50 dark:ring-green-800 dark:bg-green-950/20",N&&"opacity-60 bg-muted/30",E&&"ring-2 ring-primary bg-accent",p.isElective&&!_&&"border-orange-200 dark:border-orange-800"),onClick:()=>e(w),"data-testid":`course-item-${w.id}`,children:[o.jsx(ts,{className:"pb-3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx(ss,{className:"text-sm font-semibold text-primary truncate flex-1 min-w-0",children:w.id}),o.jsx("div",{className:"flex-shrink-0",children:m(w)})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm text-foreground font-medium line-clamp-3 leading-tight break-words",children:w.name}),v(w)]})]})}),o.jsx(Tt,{className:"pt-0 space-y-3",children:o.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[o.jsxs("div",{children:[w.credits," crditos"]}),o.jsxs("div",{children:["HT: ",w.theoreticalHours,"  HP: ",w.practicalHours]})]})})]})},w.id)})})]},`${p.term}-${p.isElective?"elective":"regular"}`))})]})}const Cn=Uf,Cu=Zf,zx=qf,_u=f.forwardRef(({className:t,...e},s)=>o.jsx(Vl,{ref:s,className:ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));_u.displayName=Vl.displayName;const Rr=f.forwardRef(({className:t,children:e,...s},r)=>o.jsxs(zx,{children:[o.jsx(_u,{}),o.jsxs($l,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,o.jsxs(Bf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Wr,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rr.displayName=$l.displayName;const Mr=({className:t,...e})=>o.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Mr.displayName="DialogHeader";const Nu=({className:t,...e})=>o.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Nu.displayName="DialogFooter";const Or=f.forwardRef(({className:t,...e},s)=>o.jsx(zl,{ref:s,className:ee("text-lg font-semibold leading-none tracking-tight",t),...e}));Or.displayName=zl.displayName;const ti=f.forwardRef(({className:t,...e},s)=>o.jsx(Hl,{ref:s,className:ee("text-sm text-muted-foreground",t),...e}));ti.displayName=Hl.displayName;var Hx="Label",Tu=f.forwardRef((t,e)=>o.jsx(we.label,{...t,ref:e,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Tu.displayName=Hx;var Eu=Tu;const Bx=vn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),si=f.forwardRef(({className:t,...e},s)=>o.jsx(Eu,{ref:s,className:ee(Bx(),t),...e}));si.displayName=Eu.displayName;const Ux=[{value:"A",label:"A (4.0)"},{value:"B",label:"B (3.0)"},{value:"C",label:"C (2.0)"},{value:"D",label:"D (1.0)"},{value:"F",label:"F (0.0)"}];function qx({open:t,onClose:e,onConfirm:s,courseName:r}){const[n,a]=f.useState(""),i=()=>{n&&(s(n),a(""),e())},l=()=>{a(""),e()};return o.jsx(Cn,{open:t,onOpenChange:e,children:o.jsxs(Rr,{className:"sm:max-w-md",children:[o.jsx(Mr,{children:o.jsxs(Or,{children:["Ingresa la calificacion para ",r]})}),o.jsx("div",{className:"space-y-4 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(si,{htmlFor:"grade-select",children:"Calificacin"}),o.jsxs(ba,{value:n,onValueChange:a,children:[o.jsx(Sn,{id:"grade-select","data-testid":"grade-select",children:o.jsx(wa,{placeholder:"Selecciona una calificacin"})}),o.jsx(jn,{children:Ux.map(c=>o.jsx(Sr,{value:c.value,"data-testid":`grade-${c.value}`,children:c.label},c.value))})]})]})}),o.jsxs(Nu,{children:[o.jsx(se,{variant:"outline",onClick:l,"data-testid":"grade-cancel",children:"Cancelar"}),o.jsx(se,{onClick:i,disabled:!n,"data-testid":"grade-confirm",children:"Marcar como Aprobada"})]})]})})}function el({course:t}){const{getCourseById:e}=Sa(),{getCourseStatus:s,getPassedCourses:r,getPlannedCourses:n,markCoursePassed:a,removeCourseProgress:i}=bn(),[l,c]=f.useState(!1);if(!t)return null;const d=r(),u=n(),h=s(t,d,u),g=h==="passed",y=h==="blocked",b=()=>{switch(h){case"available":return o.jsx(Lt,{variant:"default",className:"pill ok",children:"Disponible"});case"blocked":return o.jsx(Lt,{variant:"destructive",className:"pill bad",children:"Bloqueada"});case"passed":return o.jsx(Lt,{variant:"secondary",className:"pill passed",children:"Aprobada"})}},m=()=>{if(!t.isElective)return null;const C=t.electiveType==="general"?"tag-elec gen":"tag-elec professional",_=t.electiveType==="general"?"General":"Profesionalizante";return o.jsxs("span",{className:`tag ${C}`,children:["Electiva  ",_]})},v=()=>{c(!0)},x=()=>{i(t.id)},p=C=>{a(t.id,C),c(!1)},w=()=>{c(!1)};return o.jsxs("div",{className:"space-y-4 p-4 h-full overflow-y-auto",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("h3",{className:"text-sm font-semibold text-foreground leading-tight break-words",children:[t.id," - ",t.name]})}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[b(),m()]}),o.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[o.jsx("div",{children:t.block}),o.jsxs("div",{children:[t.credits," crditos  HT ",t.theoreticalHours,"  HP ",t.practicalHours]})]}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3 leading-relaxed",children:t.description||"Sin descripcin disponible."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-foreground mb-2 text-sm",children:"Prerrequisitos"}),o.jsx("div",{className:"space-y-2",children:t.prerequisites.length>0?t.prerequisites.map(C=>{const _=e(C);return o.jsxs("div",{className:"text-xs","data-testid":`prereq-${C}`,children:[o.jsx(Lt,{variant:"outline",className:"text-xs mr-2",children:C}),_&&o.jsx("span",{className:"text-muted-foreground break-words",children:_.name})]},C)}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Ninguno"})}),t.prerequisites.length>0&&o.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Debes completar estas materias antes de tomar esta."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-foreground mb-2 text-sm",children:"Correquisitos"}),o.jsx("div",{className:"space-y-2",children:t.corequisites.length>0?t.corequisites.map(C=>{const _=e(C);return o.jsxs("div",{className:"text-xs","data-testid":`coreq-${C}`,children:[o.jsx(Lt,{variant:"outline",className:"text-xs mr-2",children:C}),_&&o.jsx("span",{className:"text-muted-foreground break-words",children:_.name})]},C)}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Ninguno"})}),t.corequisites.length>0&&o.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Debes tomar estas materias al mismo tiempo."})]})]}),o.jsxs("div",{className:"border-t border-border pt-4",children:[o.jsx("h4",{className:"font-medium text-foreground text-sm mb-3",children:"Gestin de Calificaciones"}),o.jsxs("div",{className:"space-y-2",children:[g?o.jsx(se,{size:"sm",variant:"destructive",onClick:x,"data-testid":`undo-passed-${t.id}`,className:"w-full",children:" Deshacer Aprobacin"}):o.jsx(se,{size:"sm",variant:"default",disabled:y,onClick:v,"data-testid":`mark-passed-${t.id}`,className:"w-full",children:" Marcar como Aprobada"}),y&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completa los prerrequisitos para poder aprobar esta materia."})]})]}),o.jsx(qx,{open:l,onClose:w,onConfirm:p,courseName:`${t.id} - ${t.name}`})]})}function Zx(t,e){return f.useReducer((s,r)=>e[s][r]??s,t)}var ri="ScrollArea",[ku,Pb]=Zs(ri),[Wx,vt]=ku(ri),Au=f.forwardRef((t,e)=>{const{__scopeScrollArea:s,type:r="hover",dir:n,scrollHideDelay:a=600,...i}=t,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,g]=f.useState(null),[y,b]=f.useState(null),[m,v]=f.useState(null),[x,p]=f.useState(0),[w,C]=f.useState(0),[_,N]=f.useState(!1),[E,R]=f.useState(!1),M=Oe(e,L=>c(L)),z=Fl(n);return o.jsx(Wx,{scope:s,type:r,dir:z,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:g,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:R,onCornerWidthChange:p,onCornerHeightChange:C,children:o.jsx(we.div,{dir:z,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});Au.displayName=ri;var Pu="ScrollAreaViewport",Ru=f.forwardRef((t,e)=>{const{__scopeScrollArea:s,children:r,nonce:n,...a}=t,i=vt(Pu,s),l=f.useRef(null),c=Oe(e,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(we.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Ru.displayName=Pu;var qt="ScrollAreaScrollbar",ni=f.forwardRef((t,e)=>{const{forceMount:s,...r}=t,n=vt(qt,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=n,l=t.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),n.type==="hover"?o.jsx(Gx,{...r,ref:e,forceMount:s}):n.type==="scroll"?o.jsx(Kx,{...r,ref:e,forceMount:s}):n.type==="auto"?o.jsx(Mu,{...r,ref:e,forceMount:s}):n.type==="always"?o.jsx(ai,{...r,ref:e}):null});ni.displayName=qt;var Gx=f.forwardRef((t,e)=>{const{forceMount:s,...r}=t,n=vt(qt,t.__scopeScrollArea),[a,i]=f.useState(!1);return f.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},u=()=>{c=window.setTimeout(()=>i(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),o.jsx(Ws,{present:s||a,children:o.jsx(Mu,{"data-state":a?"visible":"hidden",...r,ref:e})})}),Kx=f.forwardRef((t,e)=>{const{forceMount:s,...r}=t,n=vt(qt,t.__scopeScrollArea),a=t.orientation==="horizontal",i=Ca(()=>c("SCROLL_END"),100),[l,c]=Zx("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,n.scrollHideDelay,c]),f.useEffect(()=>{const d=n.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const g=()=>{const y=d[u];h!==y&&(c("SCROLL"),i()),h=y};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[n.viewport,a,c,i]),o.jsx(Ws,{present:s||l!=="hidden",children:o.jsx(ai,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:de(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:de(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Mu=f.forwardRef((t,e)=>{const s=vt(qt,t.__scopeScrollArea),{forceMount:r,...n}=t,[a,i]=f.useState(!1),l=t.orientation==="horizontal",c=Ca(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;i(l?d:u)}},10);return jr(s.viewport,c),jr(s.content,c),o.jsx(Ws,{present:r||a,children:o.jsx(ai,{"data-state":a?"visible":"hidden",...n,ref:e})})}),ai=f.forwardRef((t,e)=>{const{orientation:s="vertical",...r}=t,n=vt(qt,t.__scopeScrollArea),a=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Fu(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:g=>i.current=g};function h(g,y){return tv(g,i.current,l,y)}return s==="horizontal"?o.jsx(Qx,{...u,ref:e,onThumbPositionChange:()=>{if(n.viewport&&a.current){const g=n.viewport.scrollLeft,y=tl(g,l,n.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollLeft=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollLeft=h(g,n.dir))}}):s==="vertical"?o.jsx(Yx,{...u,ref:e,onThumbPositionChange:()=>{if(n.viewport&&a.current){const g=n.viewport.scrollTop,y=tl(g,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:g=>{n.viewport&&(n.viewport.scrollTop=g)},onDragScroll:g=>{n.viewport&&(n.viewport.scrollTop=h(g))}}):null}),Qx=f.forwardRef((t,e)=>{const{sizes:s,onSizesChange:r,...n}=t,a=vt(qt,t.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),d=Oe(e,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Iu,{"data-orientation":"horizontal",...n,ref:d,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ja(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const g=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(g),$u(g,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gn(i.paddingLeft),paddingEnd:Gn(i.paddingRight)}})}})}),Yx=f.forwardRef((t,e)=>{const{sizes:s,onSizesChange:r,...n}=t,a=vt(qt,t.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),d=Oe(e,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Iu,{"data-orientation":"vertical",...n,ref:d,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ja(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const g=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(g),$u(g,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gn(i.paddingTop),paddingEnd:Gn(i.paddingBottom)}})}})}),[Xx,Ou]=ku(qt),Iu=f.forwardRef((t,e)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:n,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...g}=t,y=vt(qt,s),[b,m]=f.useState(null),v=Oe(e,M=>m(M)),x=f.useRef(null),p=f.useRef(""),w=y.viewport,C=r.content-r.viewport,_=ft(u),N=ft(c),E=Ca(h,10);function R(M){if(x.current){const z=M.clientX-x.current.left,L=M.clientY-x.current.top;d({x:z,y:L})}}return f.useEffect(()=>{const M=z=>{const L=z.target;(b==null?void 0:b.contains(L))&&_(z,C)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[w,b,C,_]),f.useEffect(N,[r,N]),jr(b,E),jr(y.content,E),o.jsx(Xx,{scope:s,scrollbar:b,hasThumb:n,onThumbChange:ft(a),onThumbPointerUp:ft(i),onThumbPositionChange:N,onThumbPointerDown:ft(l),children:o.jsx(we.div,{...g,ref:v,style:{position:"absolute",...g.style},onPointerDown:de(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),x.current=b.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),R(M))}),onPointerMove:de(t.onPointerMove,R),onPointerUp:de(t.onPointerUp,M=>{const z=M.target;z.hasPointerCapture(M.pointerId)&&z.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=p.current,y.viewport&&(y.viewport.style.scrollBehavior=""),x.current=null})})})}),Wn="ScrollAreaThumb",Du=f.forwardRef((t,e)=>{const{forceMount:s,...r}=t,n=Ou(Wn,t.__scopeScrollArea);return o.jsx(Ws,{present:s||n.hasThumb,children:o.jsx(Jx,{ref:e,...r})})}),Jx=f.forwardRef((t,e)=>{const{__scopeScrollArea:s,style:r,...n}=t,a=vt(Wn,s),i=Ou(Wn,s),{onThumbPositionChange:l}=i,c=Oe(e,h=>i.onThumbChange(h)),d=f.useRef(void 0),u=Ca(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=a.viewport;if(h){const g=()=>{if(u(),!d.current){const y=sv(h,l);d.current=y,l()}};return l(),h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[a.viewport,u,l]),o.jsx(we.div,{"data-state":i.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:de(t.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),b=h.clientX-y.left,m=h.clientY-y.top;i.onThumbPointerDown({x:b,y:m})}),onPointerUp:de(t.onPointerUp,i.onThumbPointerUp)})});Du.displayName=Wn;var oi="ScrollAreaCorner",Lu=f.forwardRef((t,e)=>{const s=vt(oi,t.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?o.jsx(ev,{...t,ref:e}):null});Lu.displayName=oi;var ev=f.forwardRef((t,e)=>{const{__scopeScrollArea:s,...r}=t,n=vt(oi,s),[a,i]=f.useState(0),[l,c]=f.useState(0),d=!!(a&&l);return jr(n.scrollbarX,()=>{var h;const u=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(u),c(u)}),jr(n.scrollbarY,()=>{var h;const u=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(u),i(u)}),d?o.jsx(we.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Gn(t){return t?parseInt(t,10):0}function Fu(t,e){const s=t/e;return isNaN(s)?0:s}function ja(t){const e=Fu(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-s)*e;return Math.max(r,18)}function tv(t,e,s,r="ltr"){const n=ja(s),a=n/2,i=e||a,l=n-i,c=s.scrollbar.paddingStart+i,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return Vu([c,d],h)(t)}function tl(t,e,s="ltr"){const r=ja(e),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-n,i=e.content-e.viewport,l=a-r,c=s==="ltr"?[0,i]:[i*-1,0],d=fo(t,c);return Vu([0,i],[0,l])(d)}function Vu(t,e){return s=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(s-t[0])}}function $u(t,e){return t>0&&t<e}var sv=(t,e=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},r=0;return function n(){const a={left:t.scrollLeft,top:t.scrollTop},i=s.left!==a.left,l=s.top!==a.top;(i||l)&&e(),s=a,r=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(r)};function Ca(t,e){const s=ft(t),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,e)},[s,e])}function jr(t,e){const s=ft(e);pt(()=>{let r=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return n.observe(t),()=>{window.cancelAnimationFrame(r),n.unobserve(t)}}},[t,s])}var zu=Au,rv=Ru,nv=Lu;const Hu=f.forwardRef(({className:t,children:e,...s},r)=>o.jsxs(zu,{ref:r,className:ee("relative overflow-hidden",t),...s,children:[o.jsx(rv,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(Bu,{}),o.jsx(nv,{})]}));Hu.displayName=zu.displayName;const Bu=f.forwardRef(({className:t,orientation:e="vertical",...s},r)=>o.jsx(ni,{ref:r,orientation:e,className:ee("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:o.jsx(Du,{className:"relative flex-1 rounded-full bg-border"})}));Bu.displayName=ni.displayName;const av=vn("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vo=f.forwardRef(({className:t,variant:e,...s},r)=>o.jsx("div",{ref:r,role:"alert",className:ee(av({variant:e}),t),...s}));vo.displayName="Alert";const ov=f.forwardRef(({className:t,...e},s)=>o.jsx("h5",{ref:s,className:ee("mb-1 font-medium leading-none tracking-tight",t),...e}));ov.displayName="AlertTitle";const yo=f.forwardRef(({className:t,...e},s)=>o.jsx("div",{ref:s,className:ee("text-sm [&_p]:leading-relaxed",t),...e}));yo.displayName="AlertDescription";var iv="Separator",sl="horizontal",lv=["horizontal","vertical"],Uu=f.forwardRef((t,e)=>{const{decorative:s,orientation:r=sl,...n}=t,a=cv(r)?r:sl,l=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(we.div,{"data-orientation":a,...l,...n,ref:e})});Uu.displayName=iv;function cv(t){return lv.includes(t)}var qu=Uu;const Qr=f.forwardRef(({className:t,orientation:e="horizontal",decorative:s=!0,...r},n)=>o.jsx(qu,{ref:n,decorative:s,orientation:e,className:ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Qr.displayName=qu.displayName;function dv(t){try{const e=t.match(/^([LMIJVS]+)/);if(!e)return null;const s=e[1],r=[];let n=0;for(;n<s.length;)n<s.length-1&&s.substr(n,2)==="MI"?(r.push("MI"),n+=2):n<s.length-1&&s.substr(n,2)==="MA"?(r.push("MA"),n+=2):(r.push(s[n]),n+=1);const a=t.match(/(\d+):(\d+)\s+a\s+(\d+):(\d+)\s+(am|pm)/i);if(!a)return null;const[,i,l,c,d,u]=a;let h=parseInt(i)*60+parseInt(l),g=parseInt(c)*60+parseInt(d);const y=u.toLowerCase()==="am",b=u.toLowerCase()==="pm";return b&&parseInt(i)!==12&&(h+=12*60),b&&parseInt(c)!==12&&(g+=12*60),y&&parseInt(i)===12&&(h-=12*60),y&&parseInt(c)===12&&(g-=12*60,g<0&&(g=0)),g<h&&parseInt(c)===12&&y&&(g+=12*60),{start:h,end:g,days:r}}catch(e){return console.warn("Failed to parse time from label:",t,e),null}}function uv(t){const e={...t},s=dv(t.label);if(s){const{start:r,end:n,days:a}=s,i={L:0,MA:1440,MI:2880,J:4320,V:5760,S:7200};e.slots=a.map(l=>({day:l,start:(i[l]||0)+r,end:(i[l]||0)+n}))}else e.slots=t.slots.map(r=>{const a={L:0,MA:1440,MI:2880,J:4320,V:5760,S:7200}[r.day]||0,i=r.start-a,l=r.end-a;return l<i?{...r,end:a+l+720}:r});return e}function fv(t){return{courses:t.courses.map(e=>({...e,sections:e.sections.map(uv)}))}}function bo(t,e){for(const s of t.slots)for(const r of e.slots)if(s.day===r.day&&!(s.end<=r.start||r.end<=s.start))return!0;return!1}function Rn(t){const e=t%1440,s=Math.floor(e/60),r=e%60,n=s>=12?"PM":"AM";return`${s===0?12:s>12?s-12:s}:${r.toString().padStart(2,"0")} ${n}`}function rl(t){if(t.label.toLowerCase().includes("virtual"))return t.label;const e={L:"Lun",MI:"Mi",J:"Jue",V:"Vie",S:"Sb",MA:"Mar"};if(t.slots.length===0)return t.label;const s=new Map;t.slots.forEach(i=>{const l=i.day==="L"?0:i.day==="MA"?1440:i.day==="MI"?2880:i.day==="J"?4320:i.day==="V"?5760:i.day==="S"?7200:0,c=i.start-l,d=i.end-l;s.has(i.day)||s.set(i.day,{start:c,end:d})});const r=Array.from(s.values());if(r.every(i=>i.start===r[0].start&&i.end===r[0].end)&&r.length>0){const i=Array.from(s.keys()).map(d=>e[d]||d).join("/"),l=Rn(r[0].start),c=Rn(r[0].end);return`${i} ${l} a ${c}`}return Array.from(s.entries()).map(([i,l])=>{const c=e[i]||i,d=Rn(l.start),u=Rn(l.end);return`${c} ${d} a ${u}`}).join(", ")}const nl=t=>{const e=t.match(/^([A-Z]{3})(\d{3})(\d{3})$/);return e?`${e[1]}-${e[2]}-${e[3]}`:t};function hv({open:t,onClose:e}){const{courses:s,getAllTerms:r}=Sa(),{getCourseStatus:n,getPassedCourses:a}=bn(),[i,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(!1),[g,y]=f.useState("plan"),b=a(),[m,v]=f.useState(null);f.useEffect(()=>{let A=!1;return(async()=>{try{const V=await(await fetch("/medicina-pwa-final/data/sections.json")).json();A||v(V)}catch(T){console.error("Error cargando sections.json",T),A||v([])}})(),()=>{A=!0}},[]);const x=f.useMemo(()=>m?fv(m):null,[m]);f.useEffect(()=>{if(t&&u){const A=localStorage.getItem("savedCoursePlan");if(A)try{const T=JSON.parse(A);l(T.selectedSections||[])}catch(T){console.error("Error loading saved plan:",T)}h(!1)}},[t,u]),f.useEffect(()=>{t||y("plan")},[t]);const p=r(),w=f.useMemo(()=>{const A=new Map;return s.forEach(T=>{n(T,b)==="available"&&(A.has(T.term)||A.set(T.term,[]),A.get(T.term).push(T))}),Array.from(A.entries()).sort(([T],[V])=>T-V).map(([T,V])=>({term:T,termInfo:p.find(D=>D.term===T),courses:V.sort((D,W)=>D.name.localeCompare(W.name))}))},[s,p,b,n]),C=A=>{if(!x||!x.courses)return[];const T=x.courses.find(V=>V.name===A||V.name.toLowerCase()===A.toLowerCase());return(T==null?void 0:T.sections.filter(V=>!V.closed))||[]},_=i.reduce((A,T)=>{const V=s.find(D=>D.id===T.courseId);return A+((V==null?void 0:V.credits)||0)},0);f.useEffect(()=>{const A=[];for(let T=0;T<i.length;T++)for(let V=T+1;V<i.length;V++){const D=i[T],W=i[V];if(bo(D.section,W.section)){const H=s.find(ce=>ce.id===D.courseId),re=s.find(ce=>ce.id===W.courseId);H&&re&&A.push(`Conflicto de horario: ${H.name} y ${re.name}`)}}d(A)},[i,s]);const N=(A,T)=>{const V=s.find(H=>H.id===A);if(!V)return;const W=C(V.name).find(H=>H.crn===T);W&&l(H=>[...H.filter(ce=>ce.courseId!==A),{courseId:A,sectionCrn:T,section:W}])},E=A=>{l(T=>T.filter(V=>V.courseId!==A))},R=()=>{if(c.length>0){alert(` No se puede guardar el plan debido a conflictos de horario.

Por favor resuelve los conflictos primero.`);return}if(_>31){alert(` No se puede guardar el plan.

El lmite de crditos es 31.`);return}const A={selectedSections:i,totalCredits:_,savedAt:new Date().toISOString()};localStorage.setItem("savedCoursePlan",JSON.stringify(A)),console.log("Saving plan:",i),alert(" Plan guardado exitosamente!"),e()},M=()=>{l([])},z=()=>{const A=localStorage.getItem("savedCoursePlan");if(A)try{const T=JSON.parse(A);l(T.selectedSections||[]),y("saved")}catch(T){console.error("Error loading saved plan:",T),alert("Error al cargar el plan guardado.")}else alert("No hay plan guardado disponible.")},L=()=>{y("plan")},I=c.length===0&&_<=31&&i.length>0;return o.jsx(Cn,{open:t,onOpenChange:e,children:o.jsxs(Rr,{className:"max-w-6xl max-h-[95vh] overflow-hidden",children:[o.jsxs(Mr,{children:[o.jsx(Or,{className:"text-xl font-bold",children:g==="saved"?"Plan Guardado":"Mi Plan de Estudios Completo"}),o.jsx(ti,{className:"sr-only",children:"Planificador de materias y secciones para generar tu horario sin conflictos."}),o.jsxs("div",{className:"flex items-center justify-between mt-4 p-4 bg-muted rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"Crditos Seleccionados:"}),o.jsxs("span",{className:`ml-2 font-bold ${_>31?"text-destructive":"text-foreground"}`,children:[_," / 31"]})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"Materias Seleccionadas:"}),o.jsx("span",{className:"ml-2 font-bold",children:i.length})]})]}),o.jsx("div",{className:"flex gap-2",children:g==="saved"?o.jsxs(o.Fragment,{children:[o.jsxs(se,{variant:"outline",size:"sm",onClick:L,"data-testid":"button-back-to-plan",children:[o.jsx(zo,{className:"w-4 h-4 mr-2"}),"Volver a Todas las Materias"]}),o.jsxs(se,{variant:"outline",size:"sm",onClick:()=>y("plan"),"data-testid":"button-edit-schedule",children:[o.jsx(Hm,{className:"w-4 h-4 mr-2"}),"Editar Horario"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(se,{variant:"outline",size:"sm",onClick:z,"data-testid":"button-load-saved-plan",children:[o.jsx(Im,{className:"w-4 h-4 mr-2"}),"Ver Plan Guardado"]}),o.jsxs(se,{variant:"outline",size:"sm",onClick:M,disabled:i.length===0,"data-testid":"button-clear-plan",children:[o.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Limpiar"]}),o.jsxs(se,{onClick:R,size:"sm",disabled:!I,className:"bg-green-600 hover:bg-green-700","data-testid":"button-save-plan",children:[o.jsx($m,{className:"w-4 h-4 mr-2"}),"Guardar Plan"]})]})})]}),c.length>0&&o.jsxs(vo,{className:"border-destructive",children:[o.jsx(Vi,{className:"h-4 w-4"}),o.jsxs(yo,{children:[o.jsx("div",{className:"font-medium text-destructive mb-2",children:"Conflictos de Horario:"}),o.jsx("ul",{className:"list-disc list-inside space-y-1",children:c.map((A,T)=>o.jsx("li",{className:"text-sm",children:A},T))})]})]}),_>31&&o.jsxs(vo,{className:"border-destructive",children:[o.jsx(Vi,{className:"h-4 w-4"}),o.jsx(yo,{className:"text-destructive",children:"Has excedido el lmite de 31 crditos. Reduce la seleccin para continuar."})]})]}),o.jsx(Hu,{className:"flex-1 max-h-[65vh]",children:o.jsx("div",{className:"p-6 space-y-6",children:g==="saved"?i.length>0?o.jsxs(Nt,{children:[o.jsx(ts,{className:"pb-3",children:o.jsx(ss,{className:"text-lg",children:"Materias y Secciones Seleccionadas"})}),o.jsx(Tt,{className:"pt-0",children:o.jsx("div",{className:"space-y-4",children:i.map(A=>{const T=s.find(V=>V.id===A.courseId);return T?o.jsx("div",{className:"border rounded-lg p-4 bg-muted/50","data-testid":`saved-course-${A.courseId}`,children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"font-medium text-base",children:[T.id," - ",T.name]}),o.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[T.credits," crditos  HT ",T.theoreticalHours,"  HP ",T.practicalHours]})]}),T.isElective&&o.jsxs(Lt,{className:"bg-indigo-500/20 text-indigo-300 border-indigo-500/30 text-xs",children:["Electiva  ",T.electiveType==="general"?"General":"Profesionalizante"]})]}),o.jsx(Qr,{}),o.jsxs("div",{className:"bg-background rounded-md p-3",children:[o.jsxs("div",{className:"font-medium text-sm mb-1",children:[nl(A.sectionCrn),"  ",T.name]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[rl(A.section),"  ",A.section.room]})]})]})},A.courseId):null})})})]}):o.jsx(Nt,{children:o.jsx(Tt,{className:"p-8 text-center text-muted-foreground",children:"No hay materias seleccionadas en el plan guardado."})}):w.map(({term:A,termInfo:T,courses:V})=>o.jsxs(Nt,{children:[o.jsx(ts,{className:"pb-3",children:o.jsxs(ss,{className:"text-lg flex items-center gap-3",children:[o.jsx("span",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-sm",children:A}),o.jsxs("div",{children:[o.jsx("div",{children:(T==null?void 0:T.name)||`Semestre ${A}`}),o.jsxs("div",{className:"text-sm font-normal text-muted-foreground",children:[T==null?void 0:T.block,"  ",V.length," materias disponibles"]})]})]})}),o.jsx(Tt,{className:"pt-0",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(D=>{const W=C(D.name),H=i.find(ce=>ce.courseId===D.id),re=!!H;return o.jsxs("div",{className:"border rounded-lg p-4 space-y-3","data-testid":`course-card-${D.id}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h4",{className:"font-medium text-sm leading-tight break-words",children:[D.id," - ",D.name]}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[D.credits," crditos  HT ",D.theoreticalHours,"  HP ",D.practicalHours]})]}),re&&o.jsx(se,{size:"sm",variant:"destructive",className:"ml-2 h-6 w-6 p-0",onClick:()=>E(D.id),"data-testid":`button-remove-${D.id}`,children:o.jsx(Wr,{className:"w-3 h-3"})})]}),D.isElective&&o.jsxs(Lt,{className:"bg-indigo-500/20 text-indigo-300 border-indigo-500/30 text-xs",children:["Electiva  ",D.electiveType==="general"?"General":"Profesionalizante"]})]}),W.length>0?o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Seleccionar Seccin:"}),o.jsxs(ba,{value:(H==null?void 0:H.sectionCrn)||"",onValueChange:ce=>N(D.id,ce),children:[o.jsx(Sn,{className:"mt-1 h-8 text-xs","data-testid":`select-section-${D.id}`,children:o.jsx(wa,{placeholder:"Elige una seccin..."})}),o.jsx(jn,{className:"max-h-[400px]",children:W.map(ce=>o.jsx(Sr,{value:ce.crn,"data-testid":`section-option-${ce.crn}`,children:o.jsxs("div",{className:"max-w-full py-1",children:[o.jsxs("div",{className:"font-medium truncate",children:[nl(ce.crn),"  ",D.name]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[rl(ce),"  ",ce.room]})]})},ce.crn))})]})]}):o.jsx("div",{className:"text-xs text-muted-foreground bg-muted p-2 rounded",children:"No hay secciones disponibles"})]},D.id)})})})]},A))})})]})})}function mv(){const[t,e]=f.useState(!1),[s,r]=f.useState(!1),{toast:n}=la();f.useEffect(()=>{const i=new URLSearchParams(window.location.search);e(i.has("admin"))},[]);const a=async()=>{if(confirm("This will load all courses and sections from the JSON files into the database. Continue?")){r(!0);try{const l=await(await Ds("POST","/api/admin/seed-database")).json();n({title:"Success!",description:l.message})}catch(i){n({title:"Error",description:"Failed to seed database. Check console for details.",variant:"destructive"}),console.error("Seed error:",i)}finally{r(!1)}}};return t?o.jsxs(Nt,{className:"fixed bottom-4 right-4 w-80 shadow-lg z-50","data-testid":"admin-panel",children:[o.jsx(ts,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ss,{className:"text-sm font-semibold flex items-center gap-2",children:[o.jsx(zm,{className:"h-4 w-4"}),"Admin Panel"]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"?admin=true"})]})}),o.jsxs(Tt,{className:"space-y-3",children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Manage courses and sections in the system"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(yr,{href:"/admin/courses",children:o.jsx(se,{size:"sm",className:"w-full text-xs","data-testid":"admin-courses-btn",children:"Manage Courses"})}),o.jsx(yr,{href:"/admin/sections",children:o.jsx(se,{size:"sm",variant:"outline",className:"w-full text-xs","data-testid":"admin-sections-btn",children:"Manage Sections"})}),o.jsxs(se,{size:"sm",variant:"secondary",className:"w-full text-xs",onClick:a,disabled:s,"data-testid":"admin-seed-btn",children:[o.jsx(Om,{className:"h-3 w-3 mr-1"}),s?"Seeding...":"Seed Database"]})]})]})]}):null}var ii="Progress",li=100,[pv,Rb]=Zs(ii),[gv,xv]=pv(ii),Zu=f.forwardRef((t,e)=>{const{__scopeProgress:s,value:r=null,max:n,getValueLabel:a=vv,...i}=t;(n||n===0)&&!al(n)&&console.error(yv(`${n}`,"Progress"));const l=al(n)?n:li;r!==null&&!ol(r,l)&&console.error(bv(`${r}`,"Progress"));const c=ol(r,l)?r:null,d=Kn(c)?a(c,l):void 0;return o.jsx(gv,{scope:s,value:c,max:l,children:o.jsx(we.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Kn(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Ku(c,l),"data-value":c??void 0,"data-max":l,...i,ref:e})})});Zu.displayName=ii;var Wu="ProgressIndicator",Gu=f.forwardRef((t,e)=>{const{__scopeProgress:s,...r}=t,n=xv(Wu,s);return o.jsx(we.div,{"data-state":Ku(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:e})});Gu.displayName=Wu;function vv(t,e){return`${Math.round(t/e*100)}%`}function Ku(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Kn(t){return typeof t=="number"}function al(t){return Kn(t)&&!isNaN(t)&&t>0}function ol(t,e){return Kn(t)&&!isNaN(t)&&t<=e&&t>=0}function yv(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${li}\`.`}function bv(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${li} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Qu=Zu,wv=Gu;const wo=f.forwardRef(({className:t,value:e,...s},r)=>o.jsx(Qu,{ref:r,className:ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:o.jsx(wv,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));wo.displayName=Qu.displayName;function Sv(){const{passedCourses:t}=bn(),[e,s]=f.useState([]),[r,n]=f.useState(!0);if(f.useEffect(()=>{fetch("data/courses.json").then(h=>h.json()).then(h=>{s(h),n(!1)}).catch(h=>{console.error("Error loading courses:",h),n(!1)})},[]),r)return o.jsx("div",{className:"p-8 text-center",children:"Cargando estadsticas..."});const a=e.length,i=t.size,l=a>0?Math.round(i/a*100):0,c=e.reduce((h,g)=>h+(g.credits||0),0),d=e.filter(h=>t.has(h.id)).reduce((h,g)=>h+(g.credits||0),0),u=c>0?Math.round(d/c*100):0;return o.jsxs("div",{className:"p-4 md:p-8 space-y-6 max-w-4xl mx-auto animate-in fade-in duration-500",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight mb-2",children:"Tu Progreso"}),o.jsx("p",{className:"text-muted-foreground",children:"Resumen detallado de tu avance en la carrera."})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(Nt,{children:[o.jsx(ts,{className:"pb-2",children:o.jsx(ss,{className:"text-sm font-medium text-muted-foreground",children:"Materias Aprobadas"})}),o.jsxs(Tt,{children:[o.jsxs("div",{className:"text-4xl font-bold mb-4",children:[i," ",o.jsxs("span",{className:"text-muted-foreground text-xl font-normal",children:["/ ",a]})]}),o.jsx(wo,{value:l,className:"h-3 mb-2"}),o.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[l,"% completado"]})]})]}),o.jsxs(Nt,{children:[o.jsx(ts,{className:"pb-2",children:o.jsx(ss,{className:"text-sm font-medium text-muted-foreground",children:"Crditos Acumulados"})}),o.jsxs(Tt,{children:[o.jsxs("div",{className:"text-4xl font-bold mb-4",children:[d," ",o.jsxs("span",{className:"text-muted-foreground text-xl font-normal",children:["/ ",c]})]}),o.jsx(wo,{value:u,className:"h-3 mb-2"}),o.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[u,"% completado"]})]})]})]})]})}function jv(){const[t,e]=f.useState(!0),[s,r]=f.useState(!1),[n,a]=f.useState(!1),[i,l]=f.useState("courses"),[c,d]=f.useState(),[u,h]=f.useState(!1),[g,y]=f.useState({term:null,status:null,electivesOnly:!1,inPlanOnly:!1,searchTerm:""}),b=f.useRef(null);f.useEffect(()=>{const p=setTimeout(()=>e(!1),2800);return()=>clearTimeout(p)},[]),f.useEffect(()=>{const p=b.current;if(!p)return;const w=()=>{a(p.scrollTop>300)};return p.addEventListener("scroll",w),()=>p.removeEventListener("scroll",w)},[t]);const m=()=>{var p;(p=b.current)==null||p.scrollTo({top:0,behavior:"smooth"})},v=p=>d(p),x=p=>{l(p),r(!1)};return t?o.jsxs("div",{className:"fixed inset-0 bg-[#0f172a] z-[100] flex flex-col items-center justify-center animate-fade-out pointer-events-none",children:[o.jsx("div",{className:"p-4 bg-primary/20 rounded-full mb-4 animate-bounce",children:o.jsx(Bm,{className:"h-16 w-16 text-primary"})}),o.jsx("h1",{className:"text-3xl font-bold text-white tracking-wider",children:"MEDICINA PWA"}),o.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Organizador Curricular"})]}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground font-sans antialiased relative",children:[o.jsx(Jg,{onMenuClick:()=>r(!0)}),o.jsxs("div",{className:"flex flex-col md:flex-row min-h-[calc(100vh-80px)]",children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(Xi,{filters:g,onFiltersChange:y,activeView:i,onViewChange:l,onShowPlanModal:()=>h(!0)})}),s&&o.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>r(!1)}),o.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-3/4 max-w-xs bg-background shadow-xl border-r p-4 animate-slide-in overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Men"}),o.jsx("button",{onClick:()=>r(!1),className:"p-2 bg-muted rounded-full",children:o.jsx(Wr,{className:"h-5 w-5"})})]}),o.jsx(Xi,{filters:g,onFiltersChange:y,activeView:i,onViewChange:x,onShowPlanModal:()=>{h(!0),r(!1)}})]})]}),o.jsxs("main",{ref:b,className:"flex-1 overflow-auto w-full relative h-[calc(100vh-65px)]",children:[i==="progress"?o.jsx(Sv,{}):o.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[o.jsx("div",{className:"w-full md:w-2/3 border-r-0 md:border-r border-border",children:o.jsx($x,{filters:g,onCourseSelect:v,selectedCourse:c,onShowPlanModal:()=>h(!0)})}),o.jsx("div",{className:"hidden md:block md:w-1/3 bg-background sticky top-0 h-screen overflow-y-auto",children:c?o.jsx(el,{course:c}):o.jsx("div",{className:"p-6 h-full flex items-center justify-center text-center",children:o.jsx("div",{className:"text-muted-foreground",children:o.jsx("p",{children:"Selecciona una materia para ver detalles"})})})})]}),n&&o.jsx("button",{onClick:m,className:"fixed bottom-6 right-6 z-30 p-3 bg-primary text-primary-foreground rounded-full shadow-lg hover:bg-primary/90 transition-all animate-in zoom-in","aria-label":"Volver arriba",children:o.jsx(Am,{className:"h-6 w-6"})})]})]}),c&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center bg-black/80 backdrop-blur-sm md:hidden animate-in fade-in",children:o.jsxs("div",{className:"bg-background w-full rounded-t-xl shadow-2xl overflow-hidden max-h-[85vh] flex flex-col animate-in slide-in-from-bottom-10",children:[o.jsx("div",{className:"p-2 border-b flex justify-end bg-muted/20",children:o.jsx("button",{onClick:()=>d(void 0),className:"p-2 bg-muted rounded-full",children:o.jsx(Wr,{className:"h-5 w-5"})})}),o.jsx("div",{className:"overflow-y-auto p-1 pb-8",children:o.jsx(el,{course:c})})]})}),o.jsx(hv,{open:u,onClose:()=>h(!1)}),o.jsx(mv,{})]})}const ci=f.forwardRef(({className:t,...e},s)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:s,className:ee("w-full caption-bottom text-sm",t),...e})}));ci.displayName="Table";const di=f.forwardRef(({className:t,...e},s)=>o.jsx("thead",{ref:s,className:ee("[&_tr]:border-b",t),...e}));di.displayName="TableHeader";const ui=f.forwardRef(({className:t,...e},s)=>o.jsx("tbody",{ref:s,className:ee("[&_tr:last-child]:border-0",t),...e}));ui.displayName="TableBody";const Cv=f.forwardRef(({className:t,...e},s)=>o.jsx("tfoot",{ref:s,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Cv.displayName="TableFooter";const Yr=f.forwardRef(({className:t,...e},s)=>o.jsx("tr",{ref:s,className:ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Yr.displayName="TableRow";const rt=f.forwardRef(({className:t,...e},s)=>o.jsx("th",{ref:s,className:ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));rt.displayName="TableHead";const nt=f.forwardRef(({className:t,...e},s)=>o.jsx("td",{ref:s,className:ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));nt.displayName="TableCell";const _v=f.forwardRef(({className:t,...e},s)=>o.jsx("caption",{ref:s,className:ee("mt-4 text-sm text-muted-foreground",t),...e}));_v.displayName="TableCaption";var _n=t=>t.type==="checkbox",Es=t=>t instanceof Date,st=t=>t==null;const Yu=t=>typeof t=="object";var Be=t=>!st(t)&&!Array.isArray(t)&&Yu(t)&&!Es(t),Xu=t=>Be(t)&&t.target?_n(t.target)?t.target.checked:t.target.value:t,Nv=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Ju=(t,e)=>t.has(Nv(e)),Tv=t=>{const e=t.constructor&&t.constructor.prototype;return Be(e)&&e.hasOwnProperty("isPrototypeOf")},fi=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ke(t){let e;const s=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(fi&&(t instanceof Blob||r))&&(s||Be(t)))if(e=s?[]:{},!s&&!Tv(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Ke(t[n]));else return t;return e}var _a=t=>Array.isArray(t)?t.filter(Boolean):[],He=t=>t===void 0,U=(t,e,s)=>{if(!e||!Be(t))return s;const r=_a(e.split(/[,[\].]+?/)).reduce((n,a)=>st(n)?n:n[a],t);return He(r)||r===t?He(t[e])?s:t[e]:r},dt=t=>typeof t=="boolean",hi=t=>/^\w*$/.test(t),ef=t=>_a(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(t,e,s)=>{let r=-1;const n=hi(e)?[e]:ef(e),a=n.length,i=a-1;for(;++r<a;){const l=n[r];let c=s;if(r!==i){const d=t[l];c=Be(d)||Array.isArray(d)?d:isNaN(+n[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Qn={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},jt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tf=ye.createContext(null),Na=()=>ye.useContext(tf),Ev=t=>{const{children:e,...s}=t;return ye.createElement(tf.Provider,{value:s},e)};var sf=(t,e,s,r=!0)=>{const n={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(n,a,{get:()=>{const i=a;return e._proxyFormState[i]!==jt.all&&(e._proxyFormState[i]=!r||jt.all),s&&(s[i]=!0),t[i]}});return n};function kv(t){const e=Na(),{control:s=e.control,disabled:r,name:n,exact:a}=t||{},[i,l]=ye.useState(s._formState),c=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ye.useRef(n);return d.current=n,ye.useEffect(()=>s._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!r&&l({...s._formState,...u})}}),[s,r,a]),ye.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),ye.useMemo(()=>sf(i,s,c.current,!1),[i,s])}var Ft=t=>typeof t=="string",rf=(t,e,s,r,n)=>Ft(t)?(r&&e.watch.add(t),U(s,t,n)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),U(s,a))):(r&&(e.watchAll=!0),s);function Av(t){const e=Na(),{control:s=e.control,name:r,defaultValue:n,disabled:a,exact:i}=t||{},l=ye.useRef(r),c=ye.useRef(n);l.current=r,ye.useEffect(()=>s._subscribe({name:l.current,formState:{values:!0},exact:i,callback:h=>!a&&u(rf(l.current,s._names,h.values||s._formValues,!1,c.current))}),[s,a,i]);const[d,u]=ye.useState(s._getWatch(r,n));return ye.useEffect(()=>s._removeUnmounted()),d}function Pv(t){const e=Na(),{name:s,disabled:r,control:n=e.control,shouldUnregister:a}=t,i=Ju(n._names.array,s),l=Av({control:n,name:s,defaultValue:U(n._formValues,s,U(n._defaultValues,s,t.defaultValue)),exact:!0}),c=kv({control:n,name:s,exact:!0}),d=ye.useRef(t),u=ye.useRef(n.register(s,{...t.rules,value:l,...dt(t.disabled)?{disabled:t.disabled}:{}})),h=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!U(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!U(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!U(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!U(c.validatingFields,s)},error:{enumerable:!0,get:()=>U(c.errors,s)}}),[c,s]),g=ye.useCallback(v=>u.current.onChange({target:{value:Xu(v),name:s},type:Qn.CHANGE}),[s]),y=ye.useCallback(()=>u.current.onBlur({target:{value:U(n._formValues,s),name:s},type:Qn.BLUR}),[s,n._formValues]),b=ye.useCallback(v=>{const x=U(n._fields,s);x&&v&&(x._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:p=>v.setCustomValidity(p),reportValidity:()=>v.reportValidity()})},[n._fields,s]),m=ye.useMemo(()=>({name:s,value:l,...dt(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:g,onBlur:y,ref:b}),[s,r,c.disabled,g,y,b,l]);return ye.useEffect(()=>{const v=n._options.shouldUnregister||a;n.register(s,{...d.current.rules,...dt(d.current.disabled)?{disabled:d.current.disabled}:{}});const x=(p,w)=>{const C=U(n._fields,p);C&&C._f&&(C._f.mount=w)};if(x(s,!0),v){const p=Ke(U(n._options.defaultValues,s));Ne(n._defaultValues,s,p),He(U(n._formValues,s))&&Ne(n._formValues,s,p)}return!i&&n.register(s),()=>{(i?v&&!n._state.action:v)?n.unregister(s):x(s,!1)}},[s,n,i,a]),ye.useEffect(()=>{n._setDisabledField({disabled:r,name:s})},[r,s,n]),ye.useMemo(()=>({field:m,formState:c,fieldState:h}),[m,c,h])}const Rv=t=>t.render(Pv(t));var nf=(t,e,s,r,n)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:n||!0}}:{},Ur=t=>Array.isArray(t)?t:[t],il=()=>{let t=[];return{get observers(){return t},next:n=>{for(const a of t)a.next&&a.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(a=>a!==n)}}),unsubscribe:()=>{t=[]}}},So=t=>st(t)||!Yu(t);function is(t,e){if(So(t)||So(e))return t===e;if(Es(t)&&Es(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(const n of s){const a=t[n];if(!r.includes(n))return!1;if(n!=="ref"){const i=e[n];if(Es(a)&&Es(i)||Be(a)&&Be(i)||Array.isArray(a)&&Array.isArray(i)?!is(a,i):a!==i)return!1}}return!0}var tt=t=>Be(t)&&!Object.keys(t).length,mi=t=>t.type==="file",Ct=t=>typeof t=="function",Yn=t=>{if(!fi)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},af=t=>t.type==="select-multiple",pi=t=>t.type==="radio",Mv=t=>pi(t)||_n(t),$a=t=>Yn(t)&&t.isConnected;function Ov(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=He(t)?r++:t[e[r++]];return t}function Iv(t){for(const e in t)if(t.hasOwnProperty(e)&&!He(t[e]))return!1;return!0}function We(t,e){const s=Array.isArray(e)?e:hi(e)?[e]:ef(e),r=s.length===1?t:Ov(t,s),n=s.length-1,a=s[n];return r&&delete r[a],n!==0&&(Be(r)&&tt(r)||Array.isArray(r)&&Iv(r))&&We(t,s.slice(0,-1)),t}var of=t=>{for(const e in t)if(Ct(t[e]))return!0;return!1};function Xn(t,e={}){const s=Array.isArray(t);if(Be(t)||s)for(const r in t)Array.isArray(t[r])||Be(t[r])&&!of(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Xn(t[r],e[r])):st(t[r])||(e[r]=!0);return e}function lf(t,e,s){const r=Array.isArray(t);if(Be(t)||r)for(const n in t)Array.isArray(t[n])||Be(t[n])&&!of(t[n])?He(e)||So(s[n])?s[n]=Array.isArray(t[n])?Xn(t[n],[]):{...Xn(t[n])}:lf(t[n],st(e)?{}:e[n],s[n]):s[n]=!is(t[n],e[n]);return s}var Lr=(t,e)=>lf(t,e,Xn(e));const ll={value:!1,isValid:!1},cl={value:!0,isValid:!0};var cf=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!He(t[0].attributes.value)?He(t[0].value)||t[0].value===""?cl:{value:t[0].value,isValid:!0}:cl:ll}return ll},df=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>He(t)?t:e?t===""?NaN:t&&+t:s&&Ft(t)?new Date(t):r?r(t):t;const dl={isValid:!1,value:null};var uf=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,dl):dl;function ul(t){const e=t.ref;return mi(e)?e.files:pi(e)?uf(t.refs).value:af(e)?[...e.selectedOptions].map(({value:s})=>s):_n(e)?cf(t.refs).value:df(He(e.value)?t.ref.value:e.value,t)}var Dv=(t,e,s,r)=>{const n={};for(const a of t){const i=U(e,a);i&&Ne(n,a,i._f)}return{criteriaMode:s,names:[...t],fields:n,shouldUseNativeValidation:r}},Jn=t=>t instanceof RegExp,Fr=t=>He(t)?t:Jn(t)?t.source:Be(t)?Jn(t.value)?t.value.source:t.value:t,fl=t=>({isOnSubmit:!t||t===jt.onSubmit,isOnBlur:t===jt.onBlur,isOnChange:t===jt.onChange,isOnAll:t===jt.all,isOnTouch:t===jt.onTouched});const hl="AsyncFunction";var Lv=t=>!!t&&!!t.validate&&!!(Ct(t.validate)&&t.validate.constructor.name===hl||Be(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===hl)),Fv=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),ml=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const qr=(t,e,s,r)=>{for(const n of s||Object.keys(t)){const a=U(t,n);if(a){const{_f:i,...l}=a;if(i){if(i.refs&&i.refs[0]&&e(i.refs[0],n)&&!r)return!0;if(i.ref&&e(i.ref,i.name)&&!r)return!0;if(qr(l,e))break}else if(Be(l)&&qr(l,e))break}}};function pl(t,e,s){const r=U(t,s);if(r||hi(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const a=n.join("."),i=U(e,a),l=U(t,a);if(i&&!Array.isArray(i)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};n.pop()}return{name:s}}var Vv=(t,e,s,r)=>{s(t);const{name:n,...a}=t;return tt(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(i=>e[i]===(!r||jt.all))},$v=(t,e,s)=>!t||!e||t===e||Ur(t).some(r=>r&&(s?r===e:r.startsWith(e)||e.startsWith(r))),zv=(t,e,s,r,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(e||t):(s?r.isOnBlur:n.isOnBlur)?!t:(s?r.isOnChange:n.isOnChange)?t:!0,Hv=(t,e)=>!_a(U(t,e)).length&&We(t,e),Bv=(t,e,s)=>{const r=Ur(U(t,s));return Ne(r,"root",e[s]),Ne(t,s,r),t},Ln=t=>Ft(t);function gl(t,e,s="validate"){if(Ln(t)||Array.isArray(t)&&t.every(Ln)||dt(t)&&!t)return{type:s,message:Ln(t)?t:"",ref:e}}var Ks=t=>Be(t)&&!Jn(t)?t:{value:t,message:""},xl=async(t,e,s,r,n,a)=>{const{ref:i,refs:l,required:c,maxLength:d,minLength:u,min:h,max:g,pattern:y,validate:b,name:m,valueAsNumber:v,mount:x}=t._f,p=U(s,m);if(!x||e.has(m))return{};const w=l?l[0]:i,C=I=>{n&&w.reportValidity&&(w.setCustomValidity(dt(I)?"":I||""),w.reportValidity())},_={},N=pi(i),E=_n(i),R=N||E,M=(v||mi(i))&&He(i.value)&&He(p)||Yn(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,z=nf.bind(null,m,r,_),L=(I,A,T,V=Wt.maxLength,D=Wt.minLength)=>{const W=I?A:T;_[m]={type:I?V:D,message:W,ref:i,...z(I?V:D,W)}};if(a?!Array.isArray(p)||!p.length:c&&(!R&&(M||st(p))||dt(p)&&!p||E&&!cf(l).isValid||N&&!uf(l).isValid)){const{value:I,message:A}=Ln(c)?{value:!!c,message:c}:Ks(c);if(I&&(_[m]={type:Wt.required,message:A,ref:w,...z(Wt.required,A)},!r))return C(A),_}if(!M&&(!st(h)||!st(g))){let I,A;const T=Ks(g),V=Ks(h);if(!st(p)&&!isNaN(p)){const D=i.valueAsNumber||p&&+p;st(T.value)||(I=D>T.value),st(V.value)||(A=D<V.value)}else{const D=i.valueAsDate||new Date(p),W=ce=>new Date(new Date().toDateString()+" "+ce),H=i.type=="time",re=i.type=="week";Ft(T.value)&&p&&(I=H?W(p)>W(T.value):re?p>T.value:D>new Date(T.value)),Ft(V.value)&&p&&(A=H?W(p)<W(V.value):re?p<V.value:D<new Date(V.value))}if((I||A)&&(L(!!I,T.message,V.message,Wt.max,Wt.min),!r))return C(_[m].message),_}if((d||u)&&!M&&(Ft(p)||a&&Array.isArray(p))){const I=Ks(d),A=Ks(u),T=!st(I.value)&&p.length>+I.value,V=!st(A.value)&&p.length<+A.value;if((T||V)&&(L(T,I.message,A.message),!r))return C(_[m].message),_}if(y&&!M&&Ft(p)){const{value:I,message:A}=Ks(y);if(Jn(I)&&!p.match(I)&&(_[m]={type:Wt.pattern,message:A,ref:i,...z(Wt.pattern,A)},!r))return C(A),_}if(b){if(Ct(b)){const I=await b(p,s),A=gl(I,w);if(A&&(_[m]={...A,...z(Wt.validate,A.message)},!r))return C(A.message),_}else if(Be(b)){let I={};for(const A in b){if(!tt(I)&&!r)break;const T=gl(await b[A](p,s),w,A);T&&(I={...T,...z(A,T.message)},C(T.message),r&&(_[m]=I))}if(!tt(I)&&(_[m]={ref:w,...I},!r))return _}}return C(!0),_};const Uv={mode:jt.onSubmit,reValidateMode:jt.onChange,shouldFocusError:!0};function qv(t={}){let e={...Uv,...t},s={submitCount:0,isDirty:!1,isLoading:Ct(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let n=Be(e.defaultValues)||Be(e.values)?Ke(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:Ke(n),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const g={array:il(),state:il()},y=fl(e.mode),b=fl(e.reValidateMode),m=e.criteriaMode===jt.all,v=S=>k=>{clearTimeout(d),d=setTimeout(S,k)},x=async S=>{if(!e.disabled&&(u.isValid||h.isValid||S)){const k=e.resolver?tt((await M()).errors):await L(r,!0);k!==s.isValid&&g.state.next({isValid:k})}},p=(S,k)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((S||Array.from(l.mount)).forEach(O=>{O&&(k?Ne(s.validatingFields,O,k):We(s.validatingFields,O))}),g.state.next({validatingFields:s.validatingFields,isValidating:!tt(s.validatingFields)}))},w=(S,k=[],O,Q,B=!0,$=!0)=>{if(Q&&O&&!e.disabled){if(i.action=!0,$&&Array.isArray(U(r,S))){const X=O(U(r,S),Q.argA,Q.argB);B&&Ne(r,S,X)}if($&&Array.isArray(U(s.errors,S))){const X=O(U(s.errors,S),Q.argA,Q.argB);B&&Ne(s.errors,S,X),Hv(s.errors,S)}if((u.touchedFields||h.touchedFields)&&$&&Array.isArray(U(s.touchedFields,S))){const X=O(U(s.touchedFields,S),Q.argA,Q.argB);B&&Ne(s.touchedFields,S,X)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=Lr(n,a)),g.state.next({name:S,isDirty:A(S,k),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Ne(a,S,k)},C=(S,k)=>{Ne(s.errors,S,k),g.state.next({errors:s.errors})},_=S=>{s.errors=S,g.state.next({errors:s.errors,isValid:!1})},N=(S,k,O,Q)=>{const B=U(r,S);if(B){const $=U(a,S,He(O)?U(n,S):O);He($)||Q&&Q.defaultChecked||k?Ne(a,S,k?$:ul(B._f)):D(S,$),i.mount&&x()}},E=(S,k,O,Q,B)=>{let $=!1,X=!1;const _e={name:S};if(!e.disabled){if(!O||Q){(u.isDirty||h.isDirty)&&(X=s.isDirty,s.isDirty=_e.isDirty=A(),$=X!==_e.isDirty);const qe=is(U(n,S),k);X=!!U(s.dirtyFields,S),qe?We(s.dirtyFields,S):Ne(s.dirtyFields,S,!0),_e.dirtyFields=s.dirtyFields,$=$||(u.dirtyFields||h.dirtyFields)&&X!==!qe}if(O){const qe=U(s.touchedFields,S);qe||(Ne(s.touchedFields,S,O),_e.touchedFields=s.touchedFields,$=$||(u.touchedFields||h.touchedFields)&&qe!==O)}$&&B&&g.state.next(_e)}return $?_e:{}},R=(S,k,O,Q)=>{const B=U(s.errors,S),$=(u.isValid||h.isValid)&&dt(k)&&s.isValid!==k;if(e.delayError&&O?(c=v(()=>C(S,O)),c(e.delayError)):(clearTimeout(d),c=null,O?Ne(s.errors,S,O):We(s.errors,S)),(O?!is(B,O):B)||!tt(Q)||$){const X={...Q,...$&&dt(k)?{isValid:k}:{},errors:s.errors,name:S};s={...s,...X},g.state.next(X)}},M=async S=>{p(S,!0);const k=await e.resolver(a,e.context,Dv(S||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return p(S),k},z=async S=>{const{errors:k}=await M(S);if(S)for(const O of S){const Q=U(k,O);Q?Ne(s.errors,O,Q):We(s.errors,O)}else s.errors=k;return k},L=async(S,k,O={valid:!0})=>{for(const Q in S){const B=S[Q];if(B){const{_f:$,...X}=B;if($){const _e=l.array.has($.name),qe=B._f&&Lv(B._f);qe&&u.validatingFields&&p([Q],!0);const Qe=await xl(B,l.disabled,a,m,e.shouldUseNativeValidation&&!k,_e);if(qe&&u.validatingFields&&p([Q]),Qe[$.name]&&(O.valid=!1,k))break;!k&&(U(Qe,$.name)?_e?Bv(s.errors,Qe,$.name):Ne(s.errors,$.name,Qe[$.name]):We(s.errors,$.name))}!tt(X)&&await L(X,k,O)}}return O.valid},I=()=>{for(const S of l.unMount){const k=U(r,S);k&&(k._f.refs?k._f.refs.every(O=>!$a(O)):!$a(k._f.ref))&&Pe(S)}l.unMount=new Set},A=(S,k)=>!e.disabled&&(S&&k&&Ne(a,S,k),!is(Y(),n)),T=(S,k,O)=>rf(S,l,{...i.mount?a:He(k)?n:Ft(S)?{[S]:k}:k},O,k),V=S=>_a(U(i.mount?a:n,S,e.shouldUnregister?U(n,S,[]):[])),D=(S,k,O={})=>{const Q=U(r,S);let B=k;if(Q){const $=Q._f;$&&(!$.disabled&&Ne(a,S,df(k,$)),B=Yn($.ref)&&st(k)?"":k,af($.ref)?[...$.ref.options].forEach(X=>X.selected=B.includes(X.value)):$.refs?_n($.ref)?$.refs.length>1?$.refs.forEach(X=>(!X.defaultChecked||!X.disabled)&&(X.checked=Array.isArray(B)?!!B.find(_e=>_e===X.value):B===X.value)):$.refs[0]&&($.refs[0].checked=!!B):$.refs.forEach(X=>X.checked=X.value===B):mi($.ref)?$.ref.value="":($.ref.value=B,$.ref.type||g.state.next({name:S,values:Ke(a)})))}(O.shouldDirty||O.shouldTouch)&&E(S,B,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&P(S)},W=(S,k,O)=>{for(const Q in k){const B=k[Q],$=`${S}.${Q}`,X=U(r,$);(l.array.has(S)||Be(B)||X&&!X._f)&&!Es(B)?W($,B,O):D($,B,O)}},H=(S,k,O={})=>{const Q=U(r,S),B=l.array.has(S),$=Ke(k);Ne(a,S,$),B?(g.array.next({name:S,values:Ke(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&O.shouldDirty&&g.state.next({name:S,dirtyFields:Lr(n,a),isDirty:A(S,$)})):Q&&!Q._f&&!st($)?W(S,$,O):D(S,$,O),ml(S,l)&&g.state.next({...s}),g.state.next({name:i.mount?S:void 0,values:Ke(a)})},re=async S=>{i.mount=!0;const k=S.target;let O=k.name,Q=!0;const B=U(r,O),$=X=>{Q=Number.isNaN(X)||Es(X)&&isNaN(X.getTime())||is(X,U(a,O,X))};if(B){let X,_e;const qe=k.type?ul(B._f):Xu(S),Qe=S.type===Qn.BLUR||S.type===Qn.FOCUS_OUT,Pf=!Fv(B._f)&&!e.resolver&&!U(s.errors,O)&&!B._f.deps||zv(Qe,U(s.touchedFields,O),s.isSubmitted,b,y),ka=ml(O,l,Qe);Ne(a,O,qe),Qe?(B._f.onBlur&&B._f.onBlur(S),c&&c(0)):B._f.onChange&&B._f.onChange(S);const Aa=E(O,qe,Qe),Rf=!tt(Aa)||ka;if(!Qe&&g.state.next({name:O,type:S.type,values:Ke(a)}),Pf)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?Qe&&x():Qe||x()),Rf&&g.state.next({name:O,...ka?{}:Aa});if(!Qe&&ka&&g.state.next({...s}),e.resolver){const{errors:vi}=await M([O]);if($(qe),Q){const Mf=pl(s.errors,r,O),yi=pl(vi,r,Mf.name||O);X=yi.error,O=yi.name,_e=tt(vi)}}else p([O],!0),X=(await xl(B,l.disabled,a,m,e.shouldUseNativeValidation))[O],p([O]),$(qe),Q&&(X?_e=!1:(u.isValid||h.isValid)&&(_e=await L(r,!0)));Q&&(B._f.deps&&P(B._f.deps),R(O,_e,X,Aa))}},ce=(S,k)=>{if(U(s.errors,k)&&S.focus)return S.focus(),1},P=async(S,k={})=>{let O,Q;const B=Ur(S);if(e.resolver){const $=await z(He(S)?S:B);O=tt($),Q=S?!B.some(X=>U($,X)):O}else S?(Q=(await Promise.all(B.map(async $=>{const X=U(r,$);return await L(X&&X._f?{[$]:X}:X)}))).every(Boolean),!(!Q&&!s.isValid)&&x()):Q=O=await L(r);return g.state.next({...!Ft(S)||(u.isValid||h.isValid)&&O!==s.isValid?{}:{name:S},...e.resolver||!S?{isValid:O}:{},errors:s.errors}),k.shouldFocus&&!Q&&qr(r,ce,S?B:l.mount),Q},Y=S=>{const k={...i.mount?a:n};return He(S)?k:Ft(S)?U(k,S):S.map(O=>U(k,O))},te=(S,k)=>({invalid:!!U((k||s).errors,S),isDirty:!!U((k||s).dirtyFields,S),error:U((k||s).errors,S),isValidating:!!U(s.validatingFields,S),isTouched:!!U((k||s).touchedFields,S)}),fe=S=>{S&&Ur(S).forEach(k=>We(s.errors,k)),g.state.next({errors:S?s.errors:{}})},je=(S,k,O)=>{const Q=(U(r,S,{_f:{}})._f||{}).ref,B=U(s.errors,S)||{},{ref:$,message:X,type:_e,...qe}=B;Ne(s.errors,S,{...qe,...k,ref:Q}),g.state.next({name:S,errors:s.errors,isValid:!1}),O&&O.shouldFocus&&Q&&Q.focus&&Q.focus()},Ee=(S,k)=>Ct(S)?g.state.subscribe({next:O=>S(T(void 0,k),O)}):T(S,k,!0),Z=S=>g.state.subscribe({next:k=>{$v(S.name,k.name,S.exact)&&Vv(k,S.formState||u,Gs,S.reRenderRoot)&&S.callback({values:{...a},...s,...k})}}).unsubscribe,ae=S=>(i.mount=!0,h={...h,...S.formState},Z({...S,formState:h})),Pe=(S,k={})=>{for(const O of S?Ur(S):l.mount)l.mount.delete(O),l.array.delete(O),k.keepValue||(We(r,O),We(a,O)),!k.keepError&&We(s.errors,O),!k.keepDirty&&We(s.dirtyFields,O),!k.keepTouched&&We(s.touchedFields,O),!k.keepIsValidating&&We(s.validatingFields,O),!e.shouldUnregister&&!k.keepDefaultValue&&We(n,O);g.state.next({values:Ke(a)}),g.state.next({...s,...k.keepDirty?{isDirty:A()}:{}}),!k.keepIsValid&&x()},Se=({disabled:S,name:k})=>{(dt(S)&&i.mount||S||l.disabled.has(k))&&(S?l.disabled.add(k):l.disabled.delete(k))},le=(S,k={})=>{let O=U(r,S);const Q=dt(k.disabled)||dt(e.disabled);return Ne(r,S,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:S}},name:S,mount:!0,...k}}),l.mount.add(S),O?Se({disabled:dt(k.disabled)?k.disabled:e.disabled,name:S}):N(S,!0,k.value),{...Q?{disabled:k.disabled||e.disabled}:{},...e.progressive?{required:!!k.required,min:Fr(k.min),max:Fr(k.max),minLength:Fr(k.minLength),maxLength:Fr(k.maxLength),pattern:Fr(k.pattern)}:{},name:S,onChange:re,onBlur:re,ref:B=>{if(B){le(S,k),O=U(r,S);const $=He(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,X=Mv($),_e=O._f.refs||[];if(X?_e.find(qe=>qe===$):$===O._f.ref)return;Ne(r,S,{_f:{...O._f,...X?{refs:[..._e.filter($a),$,...Array.isArray(U(n,S))?[{}]:[]],ref:{type:$.type,name:S}}:{ref:$}}}),N(S,!1,void 0,$)}else O=U(r,S,{}),O._f&&(O._f.mount=!1),(e.shouldUnregister||k.shouldUnregister)&&!(Ju(l.array,S)&&i.action)&&l.unMount.add(S)}}},he=()=>e.shouldFocusError&&qr(r,ce,l.mount),ke=S=>{dt(S)&&(g.state.next({disabled:S}),qr(r,(k,O)=>{const Q=U(r,O);Q&&(k.disabled=Q._f.disabled||S,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(B=>{B.disabled=Q._f.disabled||S}))},0,!1))},Ce=(S,k)=>async O=>{let Q;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let B=Ke(a);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:$,values:X}=await M();s.errors=$,B=X}else await L(r);if(l.disabled.size)for(const $ of l.disabled)Ne(B,$,void 0);if(We(s.errors,"root"),tt(s.errors)){g.state.next({errors:{}});try{await S(B,O)}catch($){Q=$}}else k&&await k({...s.errors},O),he(),setTimeout(he);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tt(s.errors)&&!Q,submitCount:s.submitCount+1,errors:s.errors}),Q)throw Q},Ue=(S,k={})=>{U(r,S)&&(He(k.defaultValue)?H(S,Ke(U(n,S))):(H(S,k.defaultValue),Ne(n,S,Ke(k.defaultValue))),k.keepTouched||We(s.touchedFields,S),k.keepDirty||(We(s.dirtyFields,S),s.isDirty=k.defaultValue?A(S,Ke(U(n,S))):A()),k.keepError||(We(s.errors,S),u.isValid&&x()),g.state.next({...s}))},Re=(S,k={})=>{const O=S?Ke(S):n,Q=Ke(O),B=tt(S),$=B?n:Q;if(k.keepDefaultValues||(n=O),!k.keepValues){if(k.keepDirtyValues){const X=new Set([...l.mount,...Object.keys(Lr(n,a))]);for(const _e of Array.from(X))U(s.dirtyFields,_e)?Ne($,_e,U(a,_e)):H(_e,U($,_e))}else{if(fi&&He(S))for(const X of l.mount){const _e=U(r,X);if(_e&&_e._f){const qe=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Yn(qe)){const Qe=qe.closest("form");if(Qe){Qe.reset();break}}}}for(const X of l.mount)H(X,U($,X))}a=Ke($),g.array.next({values:{...$}}),g.state.next({values:{...$}})}l={mount:k.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!k.keepIsValid||!!k.keepDirtyValues,i.watch=!!e.shouldUnregister,g.state.next({submitCount:k.keepSubmitCount?s.submitCount:0,isDirty:B?!1:k.keepDirty?s.isDirty:!!(k.keepDefaultValues&&!is(S,n)),isSubmitted:k.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:B?{}:k.keepDirtyValues?k.keepDefaultValues&&a?Lr(n,a):s.dirtyFields:k.keepDefaultValues&&S?Lr(n,S):k.keepDirty?s.dirtyFields:{},touchedFields:k.keepTouched?s.touchedFields:{},errors:k.keepErrors?s.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},ot=(S,k)=>Re(Ct(S)?S(a):S,k),Ts=(S,k={})=>{const O=U(r,S),Q=O&&O._f;if(Q){const B=Q.refs?Q.refs[0]:Q.ref;B.focus&&(B.focus(),k.shouldSelect&&Ct(B.select)&&B.select())}},Gs=S=>{s={...s,...S}},xi={control:{register:le,unregister:Pe,getFieldState:te,handleSubmit:Ce,setError:je,_subscribe:Z,_runSchema:M,_getWatch:T,_getDirty:A,_setValid:x,_setFieldArray:w,_setDisabledField:Se,_setErrors:_,_getFieldArray:V,_reset:Re,_resetDefaultValues:()=>Ct(e.defaultValues)&&e.defaultValues().then(S=>{ot(S,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:ke,_subjects:g,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return i},set _state(S){i=S},get _defaultValues(){return n},get _names(){return l},set _names(S){l=S},get _formState(){return s},get _options(){return e},set _options(S){e={...e,...S}}},subscribe:ae,trigger:P,register:le,handleSubmit:Ce,watch:Ee,setValue:H,getValues:Y,reset:ot,resetField:Ue,clearErrors:fe,unregister:Pe,setError:je,setFocus:Ts,getFieldState:te};return{...xi,formControl:xi}}function ff(t={}){const e=ye.useRef(void 0),s=ye.useRef(void 0),[r,n]=ye.useState({isDirty:!1,isValidating:!1,isLoading:Ct(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ct(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:qv(t),formState:r},t.formControl&&t.defaultValues&&!Ct(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,ye.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0}),[a]),ye.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),ye.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==r.isDirty&&a._subjects.state.next({isDirty:i})}},[a,r.isDirty]),ye.useEffect(()=>{t.values&&!is(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,n(i=>({...i}))):a._resetDefaultValues()},[t.values,a]),ye.useEffect(()=>{t.errors&&!tt(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),ye.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ye.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=sf(r,a),e.current}const hf=Ev,mf=f.createContext({}),Ze=({...t})=>o.jsx(mf.Provider,{value:{name:t.name},children:o.jsx(Rv,{...t})}),Ta=()=>{const t=f.useContext(mf),e=f.useContext(pf),{getFieldState:s,formState:r}=Na(),n=s(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},pf=f.createContext({}),Fe=f.forwardRef(({className:t,...e},s)=>{const r=f.useId();return o.jsx(pf.Provider,{value:{id:r},children:o.jsx("div",{ref:s,className:ee("space-y-2",t),...e})})});Fe.displayName="FormItem";const Ve=f.forwardRef(({className:t,...e},s)=>{const{error:r,formItemId:n}=Ta();return o.jsx(si,{ref:s,className:ee(r&&"text-destructive",t),htmlFor:n,...e})});Ve.displayName="FormLabel";const $e=f.forwardRef(({...t},e)=>{const{error:s,formItemId:r,formDescriptionId:n,formMessageId:a}=Ta();return o.jsx(Ll,{ref:e,id:r,"aria-describedby":s?`${n} ${a}`:`${n}`,"aria-invalid":!!s,...t})});$e.displayName="FormControl";const Zv=f.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:r}=Ta();return o.jsx("p",{ref:s,id:r,className:ee("text-sm text-muted-foreground",t),...e})});Zv.displayName="FormDescription";const ze=f.forwardRef(({className:t,children:e,...s},r)=>{const{error:n,formMessageId:a}=Ta(),i=n?String((n==null?void 0:n.message)??""):e;return i?o.jsx("p",{ref:r,id:a,className:ee("text-sm font-medium text-destructive",t),...s,children:i}):null});ze.displayName="FormMessage";const gf=f.forwardRef(({className:t,...e},s)=>o.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...e}));gf.displayName="Textarea";const vl=(t,e,s)=>{if(t&&"reportValidity"in t){const r=U(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},xf=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?vl(r.ref,s,t):r.refs&&r.refs.forEach(n=>vl(n,s,t))}},Wv=(t,e)=>{e.shouldUseNativeValidation&&xf(t,e);const s={};for(const r in t){const n=U(e.fields,r),a=Object.assign(t[r]||{},{ref:n&&n.ref});if(Gv(e.names||Object.keys(t),r)){const i=Object.assign({},U(s,r));Ne(i,"root",a),Ne(s,r,i)}else Ne(s,r,a)}return s},Gv=(t,e)=>t.some(s=>s.startsWith(e+"."));var Kv=function(t,e){for(var s={};t.length;){var r=t[0],n=r.code,a=r.message,i=r.path.join(".");if(!s[i])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[i]={message:l.message,type:l.code}}else s[i]={message:a,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=s[i].types,d=c&&c[r.code];s[i]=nf(i,e,s,n,d?[].concat(d,r.message):r.message)}t.shift()}return s},vf=function(t,e,s){return s===void 0&&(s={}),function(r,n,a){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&xf({},a),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:Wv(Kv(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}},be;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function s(n){throw new Error}t.assertNever=s,t.arrayToEnum=n=>{const a={};for(const i of n)a[i]=i;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),i={};for(const l of a)i[l]=n[l];return t.objectValues(i)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.push(i);return a},t.find=(n,a)=>{for(const i of n)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function r(n,a=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(be||(be={}));var jo;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(jo||(jo={}));const K=be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qt=t=>{switch(typeof t){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(t)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(t)?K.array:t===null?K.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?K.promise:typeof Map<"u"&&t instanceof Map?K.map:typeof Set<"u"&&t instanceof Set?K.set:typeof Date<"u"&&t instanceof Date?K.date:K.object;default:return K.unknown}},F=be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Qv=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class mt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},r={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)r._errors.push(s(i));else{let l=r,c=0;for(;c<i.path.length;){const d=i.path[c];c===i.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(i))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),r}static assert(e){if(!(e instanceof mt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const n of this.issues)n.path.length>0?(s[n.path[0]]=s[n.path[0]]||[],s[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}mt.create=t=>new mt(t);const Cr=(t,e)=>{let s;switch(t.code){case F.invalid_type:t.received===K.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case F.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,be.jsonStringifyReplacer)}`;break;case F.unrecognized_keys:s=`Unrecognized key(s) in object: ${be.joinValues(t.keys,", ")}`;break;case F.invalid_union:s="Invalid input";break;case F.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${be.joinValues(t.options)}`;break;case F.invalid_enum_value:s=`Invalid enum value. Expected ${be.joinValues(t.options)}, received '${t.received}'`;break;case F.invalid_arguments:s="Invalid function arguments";break;case F.invalid_return_type:s="Invalid function return type";break;case F.invalid_date:s="Invalid date";break;case F.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:be.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case F.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case F.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case F.custom:s="Invalid input";break;case F.invalid_intersection_types:s="Intersection results could not be merged";break;case F.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case F.not_finite:s="Number must be finite";break;default:s=e.defaultError,be.assertNever(t)}return{message:s}};let yf=Cr;function Yv(t){yf=t}function ea(){return yf}const ta=t=>{const{data:e,path:s,errorMaps:r,issueData:n}=t,a=[...s,...n.path||[]],i={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(i,{data:e,defaultError:l}).message;return{...n,path:a,message:l}},Xv=[];function q(t,e){const s=ea(),r=ta({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===Cr?void 0:Cr].filter(n=>!!n)});t.common.issues.push(r)}class Xe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const n of s){if(n.status==="aborted")return ie;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const n of s){const a=await n.key,i=await n.value;r.push({key:a,value:i})}return Xe.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const n of s){const{key:a,value:i}=n;if(a.status==="aborted"||i.status==="aborted")return ie;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const ie=Object.freeze({status:"aborted"}),Js=t=>({status:"dirty",value:t}),at=t=>({status:"valid",value:t}),Co=t=>t.status==="aborted",_o=t=>t.status==="dirty",Bs=t=>t.status==="valid",Xr=t=>typeof Promise<"u"&&t instanceof Promise;function sa(t,e,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function bf(t,e,s,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}var J;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(J||(J={}));var zr,Hr;class Ht{constructor(e,s,r,n){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yl=(t,e)=>{if(Bs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new mt(t.common.issues);return this._error=s,this._error}}};function ue(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:n}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,l)=>{var c,d;const{message:u}=t;return i.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??s)!==null&&d!==void 0?d:l.defaultError}},description:n}}class ge{get description(){return this._def.description}_getType(e){return Qt(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:Qt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xe,ctx:{common:e.parent.common,data:e.data,parsedType:Qt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Xr(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){var r;const n={common:{issues:[],async:(r=s==null?void 0:s.async)!==null&&r!==void 0?r:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qt(e)},a=this._parseSync({data:e,path:n.path,parent:n});return yl(n,a)}"~validate"(e){var s,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qt(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Bs(a)?{value:a.value}:{issues:n.common.issues}}catch(a){!((r=(s=a==null?void 0:a.message)===null||s===void 0?void 0:s.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Bs(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qt(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await(Xr(n)?n:Promise.resolve(n));return yl(r,a)}refine(e,s){const r=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,a)=>{const i=e(n),l=()=>a.addIssue({code:F.custom,...r(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof s=="function"?s(r,n):s),!1))}_refinement(e){return new Pt({schema:this,typeName:oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return $t.create(this,this._def)}nullable(){return Cs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Et.create(this)}promise(){return Nr.create(this,this._def)}or(e){return sn.create([this,e],this._def)}and(e){return rn.create(this,e,this._def)}transform(e){return new Pt({...ue(this._def),schema:this,typeName:oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new cn({...ue(this._def),innerType:this,defaultValue:s,typeName:oe.ZodDefault})}brand(){return new gi({typeName:oe.ZodBranded,type:this,...ue(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new dn({...ue(this._def),innerType:this,catchValue:s,typeName:oe.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return Nn.create(this,e)}readonly(){return un.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Jv=/^c[^\s-]{8,}$/i,ey=/^[0-9a-z]+$/,ty=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ry=/^[a-z0-9_-]{21}$/i,ny=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ay=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,oy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iy="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let za;const ly=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,uy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fy=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",my=new RegExp(`^${wf}$`);function Sf(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function py(t){return new RegExp(`^${Sf(t)}$`)}function jf(t){let e=`${wf}T${Sf(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function gy(t,e){return!!((e==="v4"||!e)&&ly.test(t)||(e==="v6"||!e)&&dy.test(t))}function xy(t,e){if(!ny.test(t))return!1;try{const[s]=t.split("."),r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function vy(t,e){return!!((e==="v4"||!e)&&cy.test(t)||(e==="v6"||!e)&&uy.test(t))}class _t extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const a=this._getOrReturnCtx(e);return q(a,{code:F.invalid_type,expected:K.string,received:a.parsedType}),ie}const r=new Xe;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:F.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:F.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,l=e.data.length<a.value;(i||l)&&(n=this._getOrReturnCtx(e,n),i?q(n,{code:F.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&q(n,{code:F.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")oy.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"email",code:F.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")za||(za=new RegExp(iy,"u")),za.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"emoji",code:F.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")sy.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"uuid",code:F.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")ry.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"nanoid",code:F.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Jv.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid",code:F.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")ey.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cuid2",code:F.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")ty.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ulid",code:F.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),q(n,{validation:"url",code:F.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"regex",code:F.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),q(n,{code:F.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:F.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),q(n,{code:F.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?jf(a).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:F.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?my.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:F.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?py(a).test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{code:F.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?ay.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"duration",code:F.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?gy(e.data,a.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"ip",code:F.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?xy(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"jwt",code:F.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?vy(e.data,a.version)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"cidr",code:F.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?fy.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64",code:F.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?hy.test(e.data)||(n=this._getOrReturnCtx(e,n),q(n,{validation:"base64url",code:F.invalid_string,message:a.message}),r.dirty()):be.assertNever(a);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(n=>e.test(n),{validation:s,code:F.invalid_string,...J.errToObj(r)})}_addCheck(e){return new _t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){var s,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(s=e==null?void 0:e.offset)!==null&&s!==void 0?s:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...J.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...J.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...J.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...J.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...J.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...J.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...J.errToObj(s)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new _t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}_t.create=t=>{var e;return new _t({checks:[],typeName:oe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ue(t)})};function yy(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=s>r?s:r,a=parseInt(t.toFixed(n).replace(".","")),i=parseInt(e.toFixed(n).replace(".",""));return a%i/Math.pow(10,n)}class ws extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const a=this._getOrReturnCtx(e);return q(a,{code:F.invalid_type,expected:K.number,received:a.parsedType}),ie}let r;const n=new Xe;for(const a of this._def.checks)a.kind==="int"?be.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:F.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?yy(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:F.not_finite,message:a.message}),n.dirty()):be.assertNever(a);return{status:n.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,J.toString(s))}gt(e,s){return this.setLimit("min",e,!1,J.toString(s))}lte(e,s){return this.setLimit("max",e,!0,J.toString(s))}lt(e,s){return this.setLimit("max",e,!1,J.toString(s))}setLimit(e,s,r,n){return new ws({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:J.toString(n)}]})}_addCheck(e){return new ws({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&be.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}ws.create=t=>new ws({checks:[],typeName:oe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ue(t)});class Ss extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==K.bigint)return this._getInvalidInput(e);let r;const n=new Xe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),q(r,{code:F.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):be.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return q(s,{code:F.invalid_type,expected:K.bigint,received:s.parsedType}),ie}gte(e,s){return this.setLimit("min",e,!0,J.toString(s))}gt(e,s){return this.setLimit("min",e,!1,J.toString(s))}lte(e,s){return this.setLimit("max",e,!0,J.toString(s))}lt(e,s){return this.setLimit("max",e,!1,J.toString(s))}setLimit(e,s,r,n){return new Ss({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:J.toString(n)}]})}_addCheck(e){return new Ss({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ss.create=t=>{var e;return new Ss({checks:[],typeName:oe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ue(t)})};class Jr extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:K.boolean,received:r.parsedType}),ie}return at(e.data)}}Jr.create=t=>new Jr({typeName:oe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ue(t)});class Us extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const a=this._getOrReturnCtx(e);return q(a,{code:F.invalid_type,expected:K.date,received:a.parsedType}),ie}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return q(a,{code:F.invalid_date}),ie}const r=new Xe;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:F.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),q(n,{code:F.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):be.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Us({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}Us.create=t=>new Us({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:oe.ZodDate,...ue(t)});class ra extends ge{_parse(e){if(this._getType(e)!==K.symbol){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:K.symbol,received:r.parsedType}),ie}return at(e.data)}}ra.create=t=>new ra({typeName:oe.ZodSymbol,...ue(t)});class en extends ge{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:K.undefined,received:r.parsedType}),ie}return at(e.data)}}en.create=t=>new en({typeName:oe.ZodUndefined,...ue(t)});class tn extends ge{_parse(e){if(this._getType(e)!==K.null){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:K.null,received:r.parsedType}),ie}return at(e.data)}}tn.create=t=>new tn({typeName:oe.ZodNull,...ue(t)});class _r extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return at(e.data)}}_r.create=t=>new _r({typeName:oe.ZodAny,...ue(t)});class Fs extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return at(e.data)}}Fs.create=t=>new Fs({typeName:oe.ZodUnknown,...ue(t)});class rs extends ge{_parse(e){const s=this._getOrReturnCtx(e);return q(s,{code:F.invalid_type,expected:K.never,received:s.parsedType}),ie}}rs.create=t=>new rs({typeName:oe.ZodNever,...ue(t)});class na extends ge{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:K.void,received:r.parsedType}),ie}return at(e.data)}}na.create=t=>new na({typeName:oe.ZodVoid,...ue(t)});class Et extends ge{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),n=this._def;if(s.parsedType!==K.array)return q(s,{code:F.invalid_type,expected:K.array,received:s.parsedType}),ie;if(n.exactLength!==null){const i=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(i||l)&&(q(s,{code:i?F.too_big:F.too_small,minimum:l?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(q(s,{code:F.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(q(s,{code:F.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((i,l)=>n.type._parseAsync(new Ht(s,i,s.path,l)))).then(i=>Xe.mergeArray(r,i));const a=[...s.data].map((i,l)=>n.type._parseSync(new Ht(s,i,s.path,l)));return Xe.mergeArray(r,a)}get element(){return this._def.type}min(e,s){return new Et({...this._def,minLength:{value:e,message:J.toString(s)}})}max(e,s){return new Et({...this._def,maxLength:{value:e,message:J.toString(s)}})}length(e,s){return new Et({...this._def,exactLength:{value:e,message:J.toString(s)}})}nonempty(e){return this.min(1,e)}}Et.create=(t,e)=>new Et({type:t,minLength:null,maxLength:null,exactLength:null,typeName:oe.ZodArray,...ue(e)});function Xs(t){if(t instanceof Me){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=$t.create(Xs(r))}return new Me({...t._def,shape:()=>e})}else return t instanceof Et?new Et({...t._def,type:Xs(t.element)}):t instanceof $t?$t.create(Xs(t.unwrap())):t instanceof Cs?Cs.create(Xs(t.unwrap())):t instanceof Bt?Bt.create(t.items.map(e=>Xs(e))):t}class Me extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=be.objectKeys(e);return this._cached={shape:e,keys:s}}_parse(e){if(this._getType(e)!==K.object){const d=this._getOrReturnCtx(e);return q(d,{code:F.invalid_type,expected:K.object,received:d.parsedType}),ie}const{status:r,ctx:n}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof rs&&this._def.unknownKeys==="strip"))for(const d in n.data)i.includes(d)||l.push(d);const c=[];for(const d of i){const u=a[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ht(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof rs){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(q(n,{code:F.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ht(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,g=await u.value;d.push({key:h,value:g,alwaysSet:u.alwaysSet})}return d}).then(d=>Xe.mergeObjectSync(r,d)):Xe.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new Me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{var n,a,i,l;const c=(i=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,s,r).message)!==null&&i!==void 0?i:r.defaultError;return s.code==="unrecognized_keys"?{message:(l=J.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Me({...this._def,unknownKeys:"strip"})}passthrough(){return new Me({...this._def,unknownKeys:"passthrough"})}extend(e){return new Me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:oe.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new Me({...this._def,catchall:e})}pick(e){const s={};return be.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(s[r]=this.shape[r])}),new Me({...this._def,shape:()=>s})}omit(e){const s={};return be.objectKeys(this.shape).forEach(r=>{e[r]||(s[r]=this.shape[r])}),new Me({...this._def,shape:()=>s})}deepPartial(){return Xs(this)}partial(e){const s={};return be.objectKeys(this.shape).forEach(r=>{const n=this.shape[r];e&&!e[r]?s[r]=n:s[r]=n.optional()}),new Me({...this._def,shape:()=>s})}required(e){const s={};return be.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof $t;)a=a._def.innerType;s[r]=a}}),new Me({...this._def,shape:()=>s})}keyof(){return Cf(be.objectKeys(this.shape))}}Me.create=(t,e)=>new Me({shape:()=>t,unknownKeys:"strip",catchall:rs.create(),typeName:oe.ZodObject,...ue(e)});Me.strictCreate=(t,e)=>new Me({shape:()=>t,unknownKeys:"strict",catchall:rs.create(),typeName:oe.ZodObject,...ue(e)});Me.lazycreate=(t,e)=>new Me({shape:t,unknownKeys:"strip",catchall:rs.create(),typeName:oe.ZodObject,...ue(e)});class sn extends ge{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function n(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const i=a.map(l=>new mt(l.ctx.common.issues));return q(s,{code:F.invalid_union,unionErrors:i}),ie}if(s.common.async)return Promise.all(r.map(async a=>{const i={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:i}),ctx:i}})).then(n);{let a;const i=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=i.map(c=>new mt(c));return q(s,{code:F.invalid_union,unionErrors:l}),ie}}get options(){return this._def.options}}sn.create=(t,e)=>new sn({options:t,typeName:oe.ZodUnion,...ue(e)});const Kt=t=>t instanceof an?Kt(t.schema):t instanceof Pt?Kt(t.innerType()):t instanceof on?[t.value]:t instanceof js?t.options:t instanceof ln?be.objectValues(t.enum):t instanceof cn?Kt(t._def.innerType):t instanceof en?[void 0]:t instanceof tn?[null]:t instanceof $t?[void 0,...Kt(t.unwrap())]:t instanceof Cs?[null,...Kt(t.unwrap())]:t instanceof gi||t instanceof un?Kt(t.unwrap()):t instanceof dn?Kt(t._def.innerType):[];class Ea extends ge{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==K.object)return q(s,{code:F.invalid_type,expected:K.object,received:s.parsedType}),ie;const r=this.discriminator,n=s.data[r],a=this.optionsMap.get(n);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(q(s,{code:F.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,r){const n=new Map;for(const a of s){const i=Kt(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of i){if(n.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);n.set(l,a)}}return new Ea({typeName:oe.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:n,...ue(r)})}}function No(t,e){const s=Qt(t),r=Qt(e);if(t===e)return{valid:!0,data:t};if(s===K.object&&r===K.object){const n=be.objectKeys(e),a=be.objectKeys(t).filter(l=>n.indexOf(l)!==-1),i={...t,...e};for(const l of a){const c=No(t[l],e[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(s===K.array&&r===K.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const i=t[a],l=e[a],c=No(i,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===K.date&&r===K.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class rn extends ge{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=(a,i)=>{if(Co(a)||Co(i))return ie;const l=No(a.value,i.value);return l.valid?((_o(a)||_o(i))&&s.dirty(),{status:s.value,value:l.data}):(q(r,{code:F.invalid_intersection_types}),ie)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>n(a,i)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}rn.create=(t,e,s)=>new rn({left:t,right:e,typeName:oe.ZodIntersection,...ue(s)});class Bt extends ge{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.array)return q(r,{code:F.invalid_type,expected:K.array,received:r.parsedType}),ie;if(r.data.length<this._def.items.length)return q(r,{code:F.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&r.data.length>this._def.items.length&&(q(r,{code:F.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ht(r,i,r.path,l)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>Xe.mergeArray(s,i)):Xe.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new Bt({...this._def,rest:e})}}Bt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bt({items:t,typeName:oe.ZodTuple,rest:null,...ue(e)})};class nn extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.object)return q(r,{code:F.invalid_type,expected:K.object,received:r.parsedType}),ie;const n=[],a=this._def.keyType,i=this._def.valueType;for(const l in r.data)n.push({key:a._parse(new Ht(r,l,r.path,l)),value:i._parse(new Ht(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Xe.mergeObjectAsync(s,n):Xe.mergeObjectSync(s,n)}get element(){return this._def.valueType}static create(e,s,r){return s instanceof ge?new nn({keyType:e,valueType:s,typeName:oe.ZodRecord,...ue(r)}):new nn({keyType:_t.create(),valueType:e,typeName:oe.ZodRecord,...ue(s)})}}class aa extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.map)return q(r,{code:F.invalid_type,expected:K.map,received:r.parsedType}),ie;const n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([l,c],d)=>({key:n._parse(new Ht(r,l,r.path,[d,"key"])),value:a._parse(new Ht(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ie;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of i){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ie;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}aa.create=(t,e,s)=>new aa({valueType:e,keyType:t,typeName:oe.ZodMap,...ue(s)});class qs extends ge{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.set)return q(r,{code:F.invalid_type,expected:K.set,received:r.parsedType}),ie;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(q(r,{code:F.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(q(r,{code:F.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const a=this._def.valueType;function i(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ie;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Ht(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(e,s){return new qs({...this._def,minSize:{value:e,message:J.toString(s)}})}max(e,s){return new qs({...this._def,maxSize:{value:e,message:J.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}qs.create=(t,e)=>new qs({valueType:t,minSize:null,maxSize:null,typeName:oe.ZodSet,...ue(e)});class nr extends ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==K.function)return q(s,{code:F.invalid_type,expected:K.function,received:s.parsedType}),ie;function r(l,c){return ta({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,ea(),Cr].filter(d=>!!d),issueData:{code:F.invalid_arguments,argumentsError:c}})}function n(l,c){return ta({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,ea(),Cr].filter(d=>!!d),issueData:{code:F.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},i=s.data;if(this._def.returns instanceof Nr){const l=this;return at(async function(...c){const d=new mt([]),u=await l._def.args.parseAsync(c,a).catch(y=>{throw d.addIssue(r(c,y)),d}),h=await Reflect.apply(i,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(y=>{throw d.addIssue(n(h,y)),d})})}else{const l=this;return at(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new mt([r(c,d.error)]);const u=Reflect.apply(i,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new mt([n(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nr({...this._def,args:Bt.create(e).rest(Fs.create())})}returns(e){return new nr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,r){return new nr({args:e||Bt.create([]).rest(Fs.create()),returns:s||Fs.create(),typeName:oe.ZodFunction,...ue(r)})}}class an extends ge{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}an.create=(t,e)=>new an({getter:t,typeName:oe.ZodLazy,...ue(e)});class on extends ge{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return q(s,{received:s.data,code:F.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}on.create=(t,e)=>new on({value:t,typeName:oe.ZodLiteral,...ue(e)});function Cf(t,e){return new js({values:t,typeName:oe.ZodEnum,...ue(e)})}class js extends ge{constructor(){super(...arguments),zr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return q(s,{expected:be.joinValues(r),received:s.parsedType,code:F.invalid_type}),ie}if(sa(this,zr)||bf(this,zr,new Set(this._def.values)),!sa(this,zr).has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return q(s,{received:s.data,code:F.invalid_enum_value,options:r}),ie}return at(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return js.create(e,{...this._def,...s})}exclude(e,s=this._def){return js.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}zr=new WeakMap;js.create=Cf;class ln extends ge{constructor(){super(...arguments),Hr.set(this,void 0)}_parse(e){const s=be.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==K.string&&r.parsedType!==K.number){const n=be.objectValues(s);return q(r,{expected:be.joinValues(n),received:r.parsedType,code:F.invalid_type}),ie}if(sa(this,Hr)||bf(this,Hr,new Set(be.getValidEnumValues(this._def.values))),!sa(this,Hr).has(e.data)){const n=be.objectValues(s);return q(r,{received:r.data,code:F.invalid_enum_value,options:n}),ie}return at(e.data)}get enum(){return this._def.values}}Hr=new WeakMap;ln.create=(t,e)=>new ln({values:t,typeName:oe.ZodNativeEnum,...ue(e)});class Nr extends ge{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==K.promise&&s.common.async===!1)return q(s,{code:F.invalid_type,expected:K.promise,received:s.parsedType}),ie;const r=s.parsedType===K.promise?s.data:Promise.resolve(s.data);return at(r.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Nr.create=(t,e)=>new Nr({type:t,typeName:oe.ZodPromise,...ue(e)});class Pt extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:i=>{q(r,i),i.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const i=n.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async l=>{if(s.value==="aborted")return ie;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?ie:c.status==="dirty"||s.value==="dirty"?Js(c.value):c});{if(s.value==="aborted")return ie;const l=this._def.schema._parseSync({data:i,path:r.path,parent:r});return l.status==="aborted"?ie:l.status==="dirty"||s.value==="dirty"?Js(l.value):l}}if(n.type==="refinement"){const i=l=>{const c=n.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ie:(l.status==="dirty"&&s.dirty(),i(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ie:(l.status==="dirty"&&s.dirty(),i(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Bs(i))return i;const l=n.transform(i.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Bs(i)?Promise.resolve(n.transform(i.value,a)).then(l=>({status:s.value,value:l})):i);be.assertNever(n)}}Pt.create=(t,e,s)=>new Pt({schema:t,typeName:oe.ZodEffects,effect:e,...ue(s)});Pt.createWithPreprocess=(t,e,s)=>new Pt({schema:e,effect:{type:"preprocess",transform:t},typeName:oe.ZodEffects,...ue(s)});class $t extends ge{_parse(e){return this._getType(e)===K.undefined?at(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$t.create=(t,e)=>new $t({innerType:t,typeName:oe.ZodOptional,...ue(e)});class Cs extends ge{_parse(e){return this._getType(e)===K.null?at(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cs.create=(t,e)=>new Cs({innerType:t,typeName:oe.ZodNullable,...ue(e)});class cn extends ge{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===K.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}cn.create=(t,e)=>new cn({innerType:t,typeName:oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ue(e)});class dn extends ge{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Xr(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new mt(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new mt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}dn.create=(t,e)=>new dn({innerType:t,typeName:oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ue(e)});class oa extends ge{_parse(e){if(this._getType(e)!==K.nan){const r=this._getOrReturnCtx(e);return q(r,{code:F.invalid_type,expected:K.nan,received:r.parsedType}),ie}return{status:"valid",value:e.data}}}oa.create=t=>new oa({typeName:oe.ZodNaN,...ue(t)});const by=Symbol("zod_brand");class gi extends ge{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Nn extends ge{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ie:a.status==="dirty"?(s.dirty(),Js(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?ie:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,s){return new Nn({in:e,out:s,typeName:oe.ZodPipeline})}}class un extends ge{_parse(e){const s=this._def.innerType._parse(e),r=n=>(Bs(n)&&(n.value=Object.freeze(n.value)),n);return Xr(s)?s.then(n=>r(n)):r(s)}unwrap(){return this._def.innerType}}un.create=(t,e)=>new un({innerType:t,typeName:oe.ZodReadonly,...ue(e)});function bl(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function _f(t,e={},s){return t?_r.create().superRefine((r,n)=>{var a,i;const l=t(r);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=bl(e,r),g=(u=(d=h.fatal)!==null&&d!==void 0?d:s)!==null&&u!==void 0?u:!0;n.addIssue({code:"custom",...h,fatal:g})}});if(!l){const c=bl(e,r),d=(i=(a=c.fatal)!==null&&a!==void 0?a:s)!==null&&i!==void 0?i:!0;n.addIssue({code:"custom",...c,fatal:d})}}):_r.create()}const wy={object:Me.lazycreate};var oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(oe||(oe={}));const Sy=(t,e={message:`Input not instance of ${t.name}`})=>_f(s=>s instanceof t,e),Nf=_t.create,Tf=ws.create,jy=oa.create,Cy=Ss.create,Ef=Jr.create,_y=Us.create,Ny=ra.create,Ty=en.create,Ey=tn.create,ky=_r.create,Ay=Fs.create,Py=rs.create,Ry=na.create,My=Et.create,Oy=Me.create,Iy=Me.strictCreate,Dy=sn.create,Ly=Ea.create,Fy=rn.create,Vy=Bt.create,$y=nn.create,zy=aa.create,Hy=qs.create,By=nr.create,Uy=an.create,qy=on.create,Zy=js.create,Wy=ln.create,Gy=Nr.create,wl=Pt.create,Ky=$t.create,Qy=Cs.create,Yy=Pt.createWithPreprocess,Xy=Nn.create,Jy=()=>Nf().optional(),eb=()=>Tf().optional(),tb=()=>Ef().optional(),sb={string:t=>_t.create({...t,coerce:!0}),number:t=>ws.create({...t,coerce:!0}),boolean:t=>Jr.create({...t,coerce:!0}),bigint:t=>Ss.create({...t,coerce:!0}),date:t=>Us.create({...t,coerce:!0})},rb=ie;var Le=Object.freeze({__proto__:null,defaultErrorMap:Cr,setErrorMap:Yv,getErrorMap:ea,makeIssue:ta,EMPTY_PATH:Xv,addIssueToContext:q,ParseStatus:Xe,INVALID:ie,DIRTY:Js,OK:at,isAborted:Co,isDirty:_o,isValid:Bs,isAsync:Xr,get util(){return be},get objectUtil(){return jo},ZodParsedType:K,getParsedType:Qt,ZodType:ge,datetimeRegex:jf,ZodString:_t,ZodNumber:ws,ZodBigInt:Ss,ZodBoolean:Jr,ZodDate:Us,ZodSymbol:ra,ZodUndefined:en,ZodNull:tn,ZodAny:_r,ZodUnknown:Fs,ZodNever:rs,ZodVoid:na,ZodArray:Et,ZodObject:Me,ZodUnion:sn,ZodDiscriminatedUnion:Ea,ZodIntersection:rn,ZodTuple:Bt,ZodRecord:nn,ZodMap:aa,ZodSet:qs,ZodFunction:nr,ZodLazy:an,ZodLiteral:on,ZodEnum:js,ZodNativeEnum:ln,ZodPromise:Nr,ZodEffects:Pt,ZodTransformer:Pt,ZodOptional:$t,ZodNullable:Cs,ZodDefault:cn,ZodCatch:dn,ZodNaN:oa,BRAND:by,ZodBranded:gi,ZodPipeline:Nn,ZodReadonly:un,custom:_f,Schema:ge,ZodSchema:ge,late:wy,get ZodFirstPartyTypeKind(){return oe},coerce:sb,any:ky,array:My,bigint:Cy,boolean:Ef,date:_y,discriminatedUnion:Ly,effect:wl,enum:Zy,function:By,instanceof:Sy,intersection:Fy,lazy:Uy,literal:qy,map:zy,nan:jy,nativeEnum:Wy,never:Py,null:Ey,nullable:Qy,number:Tf,object:Oy,oboolean:tb,onumber:eb,optional:Ky,ostring:Jy,pipeline:Xy,preprocess:Yy,promise:Gy,record:$y,set:Hy,strictObject:Iy,string:Nf,symbol:Ny,transformer:wl,tuple:Vy,undefined:Ty,union:Dy,unknown:Ay,void:Ry,NEVER:rb,ZodIssueCode:F,quotelessJson:Qv,ZodError:mt});const nb=Le.object({id:Le.string().min(1,"Course ID is required"),name:Le.string().min(1,"Course name is required"),credits:Le.coerce.number().min(0,"Credits must be positive"),theoreticalHours:Le.coerce.number().min(0,"Hours must be positive"),practicalHours:Le.coerce.number().min(0,"Hours must be positive"),term:Le.coerce.number().min(1,"Term must be at least 1"),block:Le.string().min(1,"Block is required"),prerequisites:Le.string(),corequisites:Le.string(),isElective:Le.boolean(),electiveType:Le.string().optional(),description:Le.string().optional()});function ab(){const[t,e]=f.useState(!1),[s,r]=f.useState(null),{toast:n}=la(),{data:a=[],isLoading:i}=so({queryKey:["/api/courses"]}),l=tr({mutationFn:m=>Ds("/api/admin/courses","POST",m),onSuccess:()=>{Ls.invalidateQueries({queryKey:["/api/courses"]}),e(!1),n({title:"Course created successfully"})},onError:()=>{n({title:"Failed to create course",variant:"destructive"})}}),c=tr({mutationFn:({id:m,data:v})=>Ds(`/api/admin/courses/${m}`,"PUT",v),onSuccess:()=>{Ls.invalidateQueries({queryKey:["/api/courses"]}),e(!1),r(null),n({title:"Course updated successfully"})},onError:()=>{n({title:"Failed to update course",variant:"destructive"})}}),d=tr({mutationFn:m=>Ds(`/api/admin/courses/${m}`,"DELETE"),onSuccess:()=>{Ls.invalidateQueries({queryKey:["/api/courses"]}),n({title:"Course deleted successfully"})},onError:()=>{n({title:"Failed to delete course",variant:"destructive"})}}),u=ff({resolver:vf(nb),defaultValues:{id:"",name:"",credits:0,theoreticalHours:0,practicalHours:0,term:1,block:"",prerequisites:"",corequisites:"",isElective:!1,electiveType:"",description:""}}),h=m=>{const v={...m,prerequisites:m.prerequisites?m.prerequisites.split(",").map(x=>x.trim()).filter(Boolean):[],corequisites:m.corequisites?m.corequisites.split(",").map(x=>x.trim()).filter(Boolean):[]};s?c.mutate({id:s.id,data:v}):l.mutate(v)},g=m=>{r(m),u.reset({id:m.id,name:m.name,credits:m.credits,theoreticalHours:m.theoreticalHours,practicalHours:m.practicalHours,term:m.term,block:m.block,prerequisites:m.prerequisites.join(", "),corequisites:m.corequisites.join(", "),isElective:m.isElective,electiveType:m.electiveType||"",description:m.description||""}),e(!0)},y=m=>{confirm("Are you sure you want to delete this course?")&&d.mutate(m)},b=()=>{e(!1),r(null),u.reset()};return o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(yr,{href:"/",children:o.jsx(se,{variant:"ghost",size:"icon","data-testid":"button-back",children:o.jsx(zo,{className:"h-5 w-5"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Course Management"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(yr,{href:"/admin/sections",children:o.jsx(se,{variant:"outline","data-testid":"button-sections",children:"Manage Sections"})}),o.jsxs(Cn,{open:t,onOpenChange:e,children:[o.jsx(Cu,{asChild:!0,children:o.jsxs(se,{onClick:()=>{r(null),u.reset()},"data-testid":"button-add-course",children:[o.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Add Course"]})}),o.jsxs(Rr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Mr,{children:o.jsx(Or,{children:s?"Edit Course":"Add New Course"})}),o.jsx(hf,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-4",children:[o.jsx(Ze,{control:u.control,name:"id",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Course ID"}),o.jsx($e,{children:o.jsx(ve,{...m,disabled:!!s,"data-testid":"input-course-id"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:u.control,name:"name",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Course Name"}),o.jsx($e,{children:o.jsx(ve,{...m,"data-testid":"input-course-name"})}),o.jsx(ze,{})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(Ze,{control:u.control,name:"credits",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Credits"}),o.jsx($e,{children:o.jsx(ve,{type:"number",...m,"data-testid":"input-credits"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:u.control,name:"theoreticalHours",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Theory Hours"}),o.jsx($e,{children:o.jsx(ve,{type:"number",...m,"data-testid":"input-theory-hours"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:u.control,name:"practicalHours",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Practical Hours"}),o.jsx($e,{children:o.jsx(ve,{type:"number",...m,"data-testid":"input-practical-hours"})}),o.jsx(ze,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Ze,{control:u.control,name:"term",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Term"}),o.jsx($e,{children:o.jsx(ve,{type:"number",...m,"data-testid":"input-term"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:u.control,name:"block",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Block"}),o.jsx($e,{children:o.jsx(ve,{...m,"data-testid":"input-block"})}),o.jsx(ze,{})]})})]}),o.jsx(Ze,{control:u.control,name:"prerequisites",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Prerequisites (comma-separated)"}),o.jsx($e,{children:o.jsx(ve,{...m,placeholder:"e.g., MED-100, MED-200","data-testid":"input-prerequisites"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:u.control,name:"corequisites",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Corequisites (comma-separated)"}),o.jsx($e,{children:o.jsx(ve,{...m,placeholder:"e.g., MED-010","data-testid":"input-corequisites"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:u.control,name:"isElective",render:({field:m})=>o.jsxs(Fe,{className:"flex items-center space-x-2",children:[o.jsx($e,{children:o.jsx(Zn,{checked:m.value,onCheckedChange:m.onChange,"data-testid":"checkbox-is-elective"})}),o.jsx(Ve,{className:"!mt-0",children:"Is Elective"}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:u.control,name:"electiveType",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Elective Type"}),o.jsx($e,{children:o.jsx(ve,{...m,placeholder:"e.g., GEN, BASICAS, CLINICAS","data-testid":"input-elective-type"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:u.control,name:"description",render:({field:m})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Description"}),o.jsx($e,{children:o.jsx(gf,{...m,"data-testid":"input-description"})}),o.jsx(ze,{})]})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(se,{type:"button",variant:"outline",onClick:b,"data-testid":"button-cancel",children:"Cancel"}),o.jsx(se,{type:"submit",disabled:l.isPending||c.isPending,"data-testid":"button-submit",children:s?"Update":"Create"})]})]})})]})]})]})]}),i?o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading courses..."}):o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:o.jsxs(ci,{children:[o.jsx(di,{children:o.jsxs(Yr,{children:[o.jsx(rt,{children:"ID"}),o.jsx(rt,{children:"Name"}),o.jsx(rt,{children:"Credits"}),o.jsx(rt,{children:"Term"}),o.jsx(rt,{children:"Block"}),o.jsx(rt,{children:"Elective"}),o.jsx(rt,{className:"text-right",children:"Actions"})]})}),o.jsx(ui,{children:a.map(m=>o.jsxs(Yr,{"data-testid":`row-course-${m.id}`,children:[o.jsx(nt,{className:"font-mono text-gray-900 dark:text-gray-100","data-testid":`text-course-id-${m.id}`,children:m.id}),o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-name-${m.id}`,children:m.name}),o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-credits-${m.id}`,children:m.credits}),o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-term-${m.id}`,children:m.term}),o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-block-${m.id}`,children:m.block}),o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-elective-${m.id}`,children:m.isElective?"Yes":"No"}),o.jsx(nt,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(se,{variant:"ghost",size:"icon",onClick:()=>g(m),"data-testid":`button-edit-${m.id}`,children:o.jsx(Bc,{className:"h-4 w-4"})}),o.jsx(se,{variant:"ghost",size:"icon",onClick:()=>y(m.id),disabled:d.isPending,"data-testid":`button-delete-${m.id}`,children:o.jsx(qc,{className:"h-4 w-4"})})]})})]},m.id))})]})})]})})}const ob=Le.object({courseId:Le.string().min(1,"Course ID is required"),sectionNumber:Le.string().min(1,"Section number is required"),instructor:Le.string().min(1,"Instructor is required"),room:Le.string().min(1,"Room is required"),crn:Le.string().min(1,"CRN is required"),schedule:Le.string().min(1,"Schedule is required"),maxCapacity:Le.coerce.number().min(1,"Max capacity must be at least 1"),currentEnrollment:Le.coerce.number().min(0,"Enrollment must be non-negative")});function ib(){const[t,e]=f.useState(!1),[s,r]=f.useState(null),{toast:n}=la(),{data:a=[],isLoading:i}=so({queryKey:["/api/sections"]}),{data:l=[]}=so({queryKey:["/api/courses"]}),c=tr({mutationFn:x=>Ds("/api/admin/sections","POST",x),onSuccess:()=>{Ls.invalidateQueries({queryKey:["/api/sections"]}),e(!1),n({title:"Section created successfully"})},onError:()=>{n({title:"Failed to create section",variant:"destructive"})}}),d=tr({mutationFn:({id:x,data:p})=>Ds(`/api/admin/sections/${x}`,"PUT",p),onSuccess:()=>{Ls.invalidateQueries({queryKey:["/api/sections"]}),e(!1),r(null),n({title:"Section updated successfully"})},onError:()=>{n({title:"Failed to update section",variant:"destructive"})}}),u=tr({mutationFn:x=>Ds(`/api/admin/sections/${x}`,"DELETE"),onSuccess:()=>{Ls.invalidateQueries({queryKey:["/api/sections"]}),n({title:"Section deleted successfully"})},onError:()=>{n({title:"Failed to delete section",variant:"destructive"})}}),h=ff({resolver:vf(ob),defaultValues:{courseId:"",sectionNumber:"",instructor:"",room:"",crn:"",schedule:"",maxCapacity:30,currentEnrollment:0}}),g=x=>{try{const p=JSON.parse(x.schedule);if(!Array.isArray(p)){n({title:"Schedule must be a JSON array",variant:"destructive"});return}const w={...x,schedule:p};s?d.mutate({id:s.id,data:w}):c.mutate(w)}catch{n({title:"Invalid JSON format for schedule",variant:"destructive"})}},y=x=>{r(x),h.reset({courseId:x.courseId,sectionNumber:x.sectionNumber,instructor:x.instructor,room:x.room,crn:x.crn,schedule:JSON.stringify(x.schedule),maxCapacity:x.maxCapacity,currentEnrollment:x.currentEnrollment}),e(!0)},b=x=>{confirm("Are you sure you want to delete this section?")&&u.mutate(x)},m=()=>{e(!1),r(null),h.reset()},v=x=>{const p=l.find(w=>w.id===x);return p?`${p.id} - ${p.name}`:x};return o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(yr,{href:"/",children:o.jsx(se,{variant:"ghost",size:"icon","data-testid":"button-back",children:o.jsx(zo,{className:"h-5 w-5"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Section Management"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(yr,{href:"/admin/courses",children:o.jsx(se,{variant:"outline","data-testid":"button-courses",children:"Manage Courses"})}),o.jsxs(Cn,{open:t,onOpenChange:e,children:[o.jsx(Cu,{asChild:!0,children:o.jsxs(se,{onClick:()=>{r(null),h.reset()},"data-testid":"button-add-section",children:[o.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Add Section"]})}),o.jsxs(Rr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Mr,{children:o.jsx(Or,{children:s?"Edit Section":"Add New Section"})}),o.jsx(hf,{...h,children:o.jsxs("form",{onSubmit:h.handleSubmit(g),className:"space-y-4",children:[o.jsx(Ze,{control:h.control,name:"courseId",render:({field:x})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Course"}),o.jsxs(ba,{onValueChange:x.onChange,defaultValue:x.value,children:[o.jsx($e,{children:o.jsx(Sn,{"data-testid":"select-course",children:o.jsx(wa,{placeholder:"Select a course"})})}),o.jsx(jn,{children:l.map(p=>o.jsxs(Sr,{value:p.id,children:[p.id," - ",p.name]},p.id))})]}),o.jsx(ze,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Ze,{control:h.control,name:"sectionNumber",render:({field:x})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Section Number"}),o.jsx($e,{children:o.jsx(ve,{...x,"data-testid":"input-section-number"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:h.control,name:"crn",render:({field:x})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"CRN"}),o.jsx($e,{children:o.jsx(ve,{...x,"data-testid":"input-crn"})}),o.jsx(ze,{})]})})]}),o.jsx(Ze,{control:h.control,name:"instructor",render:({field:x})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Instructor"}),o.jsx($e,{children:o.jsx(ve,{...x,"data-testid":"input-instructor"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:h.control,name:"room",render:({field:x})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Room"}),o.jsx($e,{children:o.jsx(ve,{...x,"data-testid":"input-room"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:h.control,name:"schedule",render:({field:x})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Schedule (JSON format)"}),o.jsx($e,{children:o.jsx(ve,{...x,placeholder:'[{"day":"Monday","startTime":"08:00","endTime":"10:00"}]',"data-testid":"input-schedule"})}),o.jsx(ze,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Ze,{control:h.control,name:"maxCapacity",render:({field:x})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Max Capacity"}),o.jsx($e,{children:o.jsx(ve,{type:"number",...x,"data-testid":"input-max-capacity"})}),o.jsx(ze,{})]})}),o.jsx(Ze,{control:h.control,name:"currentEnrollment",render:({field:x})=>o.jsxs(Fe,{children:[o.jsx(Ve,{children:"Current Enrollment"}),o.jsx($e,{children:o.jsx(ve,{type:"number",...x,"data-testid":"input-current-enrollment"})}),o.jsx(ze,{})]})})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(se,{type:"button",variant:"outline",onClick:m,"data-testid":"button-cancel",children:"Cancel"}),o.jsx(se,{type:"submit",disabled:c.isPending||d.isPending,"data-testid":"button-submit",children:s?"Update":"Create"})]})]})})]})]})]})]}),i?o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading sections..."}):o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:o.jsxs(ci,{children:[o.jsx(di,{children:o.jsxs(Yr,{children:[o.jsx(rt,{children:"Course"}),o.jsx(rt,{children:"Section"}),o.jsx(rt,{children:"CRN"}),o.jsx(rt,{children:"Instructor"}),o.jsx(rt,{children:"Room"}),o.jsx(rt,{children:"Capacity"}),o.jsx(rt,{className:"text-right",children:"Actions"})]})}),o.jsx(ui,{children:a.map(x=>o.jsxs(Yr,{"data-testid":`row-section-${x.id}`,children:[o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-course-${x.id}`,children:v(x.courseId)}),o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-section-number-${x.id}`,children:x.sectionNumber}),o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-crn-${x.id}`,children:x.crn}),o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-instructor-${x.id}`,children:x.instructor}),o.jsx(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-room-${x.id}`,children:x.room}),o.jsxs(nt,{className:"text-gray-900 dark:text-gray-100","data-testid":`text-capacity-${x.id}`,children:[x.currentEnrollment,"/",x.maxCapacity]}),o.jsx(nt,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(se,{variant:"ghost",size:"icon",onClick:()=>y(x),"data-testid":`button-edit-${x.id}`,children:o.jsx(Bc,{className:"h-4 w-4"})}),o.jsx(se,{variant:"ghost",size:"icon",onClick:()=>b(x.id),disabled:u.isPending,"data-testid":`button-delete-${x.id}`,children:o.jsx(qc,{className:"h-4 w-4"})})]})})]},x.id))})]})})]})})}function lb(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(Nt,{className:"w-full max-w-md mx-4",children:o.jsxs(Tt,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(Rm,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const cb=()=>{const t=()=>window.location.hash.replace(/^#/,"")||"/",[e,s]=f.useState(t());return f.useEffect(()=>{const n=()=>s(t());return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]),[e,n=>{window.location.hash=n}]};function db(){return o.jsx(Bh,{client:Ls,children:o.jsx(Xg,{children:o.jsxs(Qg,{children:[o.jsx(Np,{}),o.jsx(sc,{hook:cb,children:o.jsxs(jh,{children:[o.jsx(En,{path:"/",component:jv}),o.jsx(En,{path:"/admin/courses",component:ab}),o.jsx(En,{path:"/admin/sections",component:ib}),o.jsx(En,{component:lb})]})})]})})})}var To={},Sl=gn;To.createRoot=Sl.createRoot,To.hydrateRoot=Sl.hydrateRoot;function ub({search:t,onSearchChange:e,onAdd:s,onImportCourses:r,onImportSections:n,onExportCourses:a,onExportSections:i}){return o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(ve,{placeholder:"Buscar curso por ID o nombre",value:t,onChange:l=>e(l.target.value),className:"h-9"})}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(se,{onClick:s,children:"Agregar curso"}),o.jsx(se,{variant:"outline",onClick:r,children:"Importar courses.json"}),o.jsx(se,{variant:"outline",onClick:n,children:"Importar sections.json"}),o.jsx(se,{variant:"outline",onClick:a,children:"Exportar courses.json"}),o.jsx(se,{variant:"outline",onClick:i,children:"Exportar sections.json"})]})]})}function fb({courses:t,onEdit:e,onDelete:s}){return t?t.length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay cursos"}):o.jsx("div",{className:"space-y-2",children:t.map(r=>o.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"font-medium",children:[r.id,"  ",r.name]}),o.jsxs("div",{className:"text-muted-foreground",children:[r.credits," crditos  HT ",r.theoreticalHours,"  HP ",r.practicalHours,"  Term ",r.term]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(se,{size:"sm",variant:"outline",onClick:()=>e(r),children:"Editar"}),o.jsx(se,{size:"sm",variant:"destructive",onClick:()=>s(r.id),children:"Eliminar"})]})]},r.id))}):o.jsx("div",{className:"text-sm text-muted-foreground",children:"Cargando cursos"})}const hb=Wf,kf=f.forwardRef(({className:t,...e},s)=>o.jsx(Bl,{ref:s,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));kf.displayName=Bl.displayName;const Eo=f.forwardRef(({className:t,...e},s)=>o.jsx(Ul,{ref:s,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Eo.displayName=Ul.displayName;const ko=f.forwardRef(({className:t,...e},s)=>o.jsx(ql,{ref:s,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ko.displayName=ql.displayName;function mb(t){return t.map(e=>({...e,schedule:(e.schedule||[]).map(s=>({day:s.day,start:s.start??s.startTime,end:s.end??s.endTime}))}))}function pb(t){return t.map(e=>({...e,schedule:(e.schedule||[]).map(s=>({day:s.day,startTime:s.start,endTime:s.end}))}))}function Qs(t){if(!t)return{time:"07:00",ap:"AM"};const[e,s]=t.split(":");let r=parseInt(e,10);const n=s??"00",a=r>=12?"PM":"AM";return r=r%12,r===0&&(r=12),{time:`${String(r).padStart(2,"0")}:${n}`,ap:a}}function Ys(t,e){const[s,r]=t.split(":");let n=Math.max(1,Math.min(12,parseInt(s||"12",10)||12));const a=r??"00";return e==="AM"?n===12&&(n=0):n!==12&&(n+=12),`${String(n).padStart(2,"0")}:${a.padStart(2,"0")}`}const jl=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function gb({open:t,onClose:e,course:s,allCourses:r,onSave:n,getSectionsForCourse:a,setSectionsForCourse:i}){const[l,c]=f.useState(s),[d,u]=f.useState("");f.useEffect(()=>c(s),[s]);const h=f.useMemo(()=>new Set(r.map(P=>P.id)),[r]),g=f.useMemo(()=>{const P=d.trim().toLowerCase();return r.filter(Y=>Y.id!==l.id).filter(Y=>Y.id.toLowerCase().includes(P)||Y.name.toLowerCase().includes(P))},[r,d,l.id]),y=(P,Y)=>{const te=new Set(l[P]??[]);te.has(Y)?te.delete(Y):te.add(Y),c({...l,[P]:Array.from(te)})},b=P=>Y=>{const te=Number(Y.target.value||0);c({...l,[P]:isNaN(te)?0:te})},m=P=>Y=>{c({...l,[P]:Y.target.value})},v=()=>{if(!l.id||!/^[A-Za-z]{3}-?\d{3}$/.test(l.id))return"ID invlido (ej: MED101 o MED-101)";if(!l.name)return"Nombre requerido";if(l.credits<0)return"Crditos no pueden ser negativos";if(!Number.isInteger(l.term)||l.term<=0)return"Term debe ser un entero positivo";for(const P of l.prerequisites??[])if(!h.has(P))return`Prereq no existe: ${P}`;for(const P of l.corequisites??[])if(!h.has(P))return`Coreq no existe: ${P}`;return(l.prerequisites??[]).includes(l.id)?"Un curso no puede ser prerequisito de s mismo":(l.corequisites??[]).includes(l.id)?"Un curso no puede ser correquisito de s mismo":null},[x,p]=f.useState(null),w=()=>{const P=v();if(P){p({type:"error",text:P});return}n({...l,prerequisites:Array.from(new Set(l.prerequisites??[])),corequisites:Array.from(new Set(l.corequisites??[]))}),p({type:"success",text:"Datos del curso guardados."})},[C,_]=f.useState([]),[N,E]=f.useState(""),[R,M]=f.useState({crn:"",room:""}),[z,L]=f.useState({});f.useEffect(()=>{const P=a(s.id)||[],Y=Array.isArray(P)?mb(P):[];_(Y);const te={};for(const fe of Y){const je=(fe.schedule||[])[0];if(je){const Ee=Qs(je.start),Z=Qs(je.end);te[fe.crn]={day:je.day??"Monday",timeStart12:Ee.time,apStart:Ee.ap,timeEnd12:Z.time,apEnd:Z.ap}}else te[fe.crn]={day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"}}L(te),p(null)},[s.id,a]);const I=f.useMemo(()=>{const P=N.trim().toLowerCase();return P?C.filter(Y=>{var te,fe,je,Ee;return(((fe=(te=Y.crn)==null?void 0:te.toLowerCase)==null?void 0:fe.call(te))||"").includes(P)||(((Ee=(je=Y.room)==null?void 0:je.toLowerCase)==null?void 0:Ee.call(je))||"").includes(P)}):C},[C,N]),A=()=>{const P=R.crn.trim();if(!P)return p({type:"error",text:"CRN requerido."});if(C.some(fe=>fe.crn===P))return p({type:"error",text:"CRN ya existe."});const Y=R.room.trim(),te={crn:P,room:Y,closed:!1,schedule:[]};_(fe=>[...fe,te]),L(fe=>({...fe,[P]:{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"}})),M({crn:"",room:""}),p({type:"success",text:`Seccin ${P} agregada.`})},T=(P,Y,te)=>{_(fe=>fe.map(je=>je.crn===P?{...je,[Y]:te}:je))},V=P=>{_(Y=>Y.filter(te=>te.crn!==P)),p({type:"success",text:`Seccin ${P} eliminada.`})},D=P=>{const Y=z[P]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"};if(!Y.day||!Y.timeStart12||!Y.timeEnd12)return p({type:"error",text:"Completa da, hora de inicio y fin."});const te=Ys(Y.timeStart12,Y.apStart),fe=Ys(Y.timeEnd12,Y.apEnd);_(je=>je.map(Ee=>Ee.crn===P?{...Ee,schedule:[...Ee.schedule||[],{day:Y.day,start:te,end:fe}]}:Ee)),p({type:"success",text:`Bloque agregado a ${P}.`})},W=(P,Y)=>{_(te=>te.map(fe=>fe.crn===P?{...fe,schedule:(fe.schedule||[]).filter((je,Ee)=>Ee!==Y)}:fe))},H=()=>{const P=[];for(let Y=0;Y<C.length;Y++)for(let te=Y+1;te<C.length;te++){const fe=C[Y],je=C[te];bo(fe,je)&&P.push(`Conflicto entre ${fe.crn} y ${je.crn}`)}return P},re=async()=>{const P=H();if(P.length>0){p({type:"error",text:`Conflictos:
${P.join(`
`)}`});return}const Y=pb(C);await i(l.id,Y),p({type:"success",text:`Secciones guardadas para ${l.id}.`})},ce=P=>{const Y=C.find(te=>te.crn===P);return Y?C.some(te=>te.crn!==P&&bo(Y,te)):!1};return o.jsx(Cn,{open:t,onOpenChange:P=>!P&&e(),children:o.jsxs(Rr,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[o.jsxs(Mr,{children:[o.jsxs(Or,{children:["Editar curso ",s.id]}),o.jsx(ti,{className:"sr-only",children:"Edita datos bsicos, prerrequisitos, correquisitos y secciones."})]}),x&&o.jsx("div",{className:`mb-3 rounded border p-2 text-sm ${x.type==="error"?"border-destructive text-destructive":"border-green-600 text-green-700"}`,children:x.text.split(`
`).map((P,Y)=>o.jsx("div",{children:P},Y))}),o.jsxs(hb,{defaultValue:"data",className:"mt-2",children:[o.jsxs(kf,{children:[o.jsx(Eo,{value:"data",children:"Datos bsicos"}),o.jsx(Eo,{value:"sections",children:"Secciones"})]}),o.jsxs(ko,{value:"data",className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"ID"}),o.jsx(ve,{className:"h-8 text-sm",value:l.id,onChange:m("id")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"Nombre"}),o.jsx(ve,{className:"h-8 text-sm",value:l.name,onChange:m("name")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"Crditos"}),o.jsx(ve,{className:"h-8 text-sm",type:"number",value:l.credits,onChange:b("credits")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"Horas tericas"}),o.jsx(ve,{className:"h-8 text-sm",type:"number",value:l.theoreticalHours,onChange:b("theoreticalHours")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"Horas prcticas"}),o.jsx(ve,{className:"h-8 text-sm",type:"number",value:l.practicalHours,onChange:b("practicalHours")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs",children:"Term"}),o.jsx(ve,{className:"h-8 text-sm",type:"number",value:l.term,onChange:b("term")})]})]}),o.jsx(Qr,{className:"my-2"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium text-sm",children:"Prerequisitos"}),o.jsx(ve,{placeholder:"Buscar curso",value:d,onChange:P=>u(P.target.value),className:"max-w-xs h-8 text-xs"})]}),o.jsx("div",{className:"max-h-48 overflow-auto border rounded p-2 space-y-1",children:g.map(P=>{const Y=(l.prerequisites??[]).includes(P.id);return o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:Y,onChange:()=>y("prerequisites",P.id)}),o.jsx("span",{className:"font-medium",children:P.id}),o.jsxs("span",{className:"text-muted-foreground",children:["  ",P.name]})]},`pre-${P.id}`)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"font-medium text-sm mt-3",children:"Correquisitos"}),o.jsx("div",{className:"max-h-48 overflow-auto border rounded p-2 space-y-1",children:g.map(P=>{const Y=(l.corequisites??[]).includes(P.id);return o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:Y,onChange:()=>y("corequisites",P.id)}),o.jsx("span",{className:"font-medium",children:P.id}),o.jsxs("span",{className:"text-muted-foreground",children:["  ",P.name]})]},`co-${P.id}`)})})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[o.jsx(se,{variant:"outline",onClick:e,children:"Cancelar"}),o.jsx(se,{onClick:w,children:"Guardar datos"})]})]}),o.jsxs(ko,{value:"sections",className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-medium text-sm",children:["Secciones del curso ",l.id]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ve,{placeholder:"Buscar por CRN/Aula",value:N,onChange:P=>E(P.target.value),className:"h-8 text-xs max-w-xs"}),o.jsx(se,{size:"sm",variant:"outline",onClick:re,children:"Guardar secciones"})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 border rounded p-2",children:[o.jsx(ve,{placeholder:"CRN (ej. MED100001)",value:R.crn,onChange:P=>M({...R,crn:P.target.value}),className:"h-8 text-xs max-w-[200px]"}),o.jsx(ve,{placeholder:"Aula (ej. A-101)",value:R.room,onChange:P=>M({...R,room:P.target.value}),className:"h-8 text-xs max-w-[160px]"}),o.jsx(se,{size:"sm",onClick:A,children:"Agregar seccin"})]}),o.jsxs("div",{className:"space-y-2",children:[I.map(P=>{var Y,te,fe,je,Ee;return o.jsxs("div",{className:"border rounded p-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-sm font-medium",children:P.crn}),ce(P.crn)&&o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-destructive text-destructive",children:"Conflicto"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"text-xs flex items-center gap-1",children:[o.jsx("span",{children:"Aula"}),o.jsx(ve,{value:P.room||"",onChange:Z=>T(P.crn,"room",Z.target.value),className:"h-8 text-xs w-[140px]"})]}),o.jsxs("label",{className:"text-xs flex items-center gap-1",children:[o.jsx("input",{type:"checkbox",checked:!!P.closed,onChange:Z=>T(P.crn,"closed",Z.target.checked)}),o.jsx("span",{children:"Cerrada"})]}),o.jsx(se,{size:"sm",variant:"destructive",onClick:()=>V(P.crn),children:"Eliminar"})]})]}),o.jsx(Qr,{className:"my-2"}),o.jsxs("div",{className:"space-y-1",children:[(P.schedule||[]).map((Z,ae)=>{const Pe=Qs(Z.start),Se=Qs(Z.end);return o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[o.jsx("select",{value:Z.day??"Monday",onChange:le=>{const he=le.target.value;_(ke=>ke.map(Ce=>Ce.crn===P.crn?{...Ce,schedule:Ce.schedule.map((Ue,Re)=>Re===ae?{...Ue,day:he}:Ue)}:Ce))},className:"h-8 px-2 border rounded bg-background text-foreground",children:jl.map(le=>o.jsx("option",{value:le,children:le},le))}),o.jsx(ve,{value:Pe.time,onChange:le=>{const he=Ys(le.target.value,Pe.ap);_(ke=>ke.map(Ce=>Ce.crn===P.crn?{...Ce,schedule:Ce.schedule.map((Ue,Re)=>Re===ae?{...Ue,start:he}:Ue)}:Ce))},className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),o.jsxs("select",{value:Pe.ap,onChange:le=>{const he=le.target.value,ke=Qs(Z.start).time,Ce=Ys(ke,he);_(Ue=>Ue.map(Re=>Re.crn===P.crn?{...Re,schedule:Re.schedule.map((ot,Ts)=>Ts===ae?{...ot,start:Ce}:ot)}:Re))},className:"h-8 px-2 border rounded bg-background text-foreground",children:[o.jsx("option",{children:"AM"}),o.jsx("option",{children:"PM"})]}),o.jsx("span",{className:"opacity-60",children:""}),o.jsx(ve,{value:Se.time,onChange:le=>{const he=Ys(le.target.value,Se.ap);_(ke=>ke.map(Ce=>Ce.crn===P.crn?{...Ce,schedule:Ce.schedule.map((Ue,Re)=>Re===ae?{...Ue,end:he}:Ue)}:Ce))},className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),o.jsxs("select",{value:Se.ap,onChange:le=>{const he=le.target.value,ke=Qs(Z.end).time,Ce=Ys(ke,he);_(Ue=>Ue.map(Re=>Re.crn===P.crn?{...Re,schedule:Re.schedule.map((ot,Ts)=>Ts===ae?{...ot,end:Ce}:ot)}:Re))},className:"h-8 px-2 border rounded bg-background text-foreground",children:[o.jsx("option",{children:"AM"}),o.jsx("option",{children:"PM"})]}),o.jsx(se,{size:"sm",variant:"ghost",onClick:()=>W(P.crn,ae),children:"Quitar"})]},ae)}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[o.jsx("select",{value:((Y=z[P.crn])==null?void 0:Y.day)??"Monday",onChange:Z=>L(ae=>({...ae,[P.crn]:{...ae[P.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},day:Z.target.value}})),className:"h-8 px-2 border rounded bg-background text-foreground",children:jl.map(Z=>o.jsx("option",{value:Z,children:Z},Z))}),o.jsx(ve,{value:((te=z[P.crn])==null?void 0:te.timeStart12)??"07:00",onChange:Z=>L(ae=>({...ae,[P.crn]:{...ae[P.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},timeStart12:Z.target.value}})),className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),o.jsxs("select",{value:((fe=z[P.crn])==null?void 0:fe.apStart)??"AM",onChange:Z=>L(ae=>({...ae,[P.crn]:{...ae[P.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},apStart:Z.target.value}})),className:"h-8 px-2 border rounded bg-background text-foreground",children:[o.jsx("option",{children:"AM"}),o.jsx("option",{children:"PM"})]}),o.jsx("span",{className:"opacity-60",children:""}),o.jsx(ve,{value:((je=z[P.crn])==null?void 0:je.timeEnd12)??"09:00",onChange:Z=>L(ae=>({...ae,[P.crn]:{...ae[P.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},timeEnd12:Z.target.value}})),className:"h-8 text-xs w-[90px]",placeholder:"hh:mm"}),o.jsxs("select",{value:((Ee=z[P.crn])==null?void 0:Ee.apEnd)??"AM",onChange:Z=>L(ae=>({...ae,[P.crn]:{...ae[P.crn]||{day:"Monday",timeStart12:"07:00",apStart:"AM",timeEnd12:"09:00",apEnd:"AM"},apEnd:Z.target.value}})),className:"h-8 px-2 border rounded bg-background text-foreground",children:[o.jsx("option",{children:"AM"}),o.jsx("option",{children:"PM"})]}),o.jsx(se,{size:"sm",variant:"outline",onClick:()=>D(P.crn),children:"Agregar bloque"})]})]})]},P.crn)}),I.length===0&&o.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay secciones"})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(se,{variant:"outline",onClick:e,children:"Cerrar"}),o.jsx(se,{onClick:re,children:"Guardar secciones"})]})]})]})]})})}function xb(t){const e={};for(let c=0;c<t.length;c++){const d=t[c][0],u=t[c][1];e[d]||(e[d]=[]),e[d].push(u),e[u]||(e[u]=[])}const s=0,r=1,n=2,a={},i=Object.keys(e);for(let c=0;c<i.length;c++)a[i[c]]=s;const l=c=>{a[c]=r;const d=e[c]||[];for(let u=0;u<d.length;u++){const h=d[u],g=a[h];if(g===r||g===s&&l(h))return!0}return a[c]=n,!1};for(let c=0;c<i.length;c++){const d=i[c];if(a[d]===s&&l(d))return!0}return!1}function vb(t){const e=[];for(let s=0;s<t.length;s++){const r=t[s],n=r.prerequisites||[];for(let a=0;a<n.length;a++)e.push([r.id,n[a]])}return e}function yb(){const[t,e]=f.useState(null),[s,r]=f.useState(null),[n,a]=f.useState(""),[i,l]=f.useState({open:!1,target:null});f.useEffect(()=>{let v=!1;return(async()=>{try{const[x,p]=await Promise.all([Rt.getCourses(),Rt.getSections()]);v||(e(x),r(p))}catch(x){console.error("Error loading datasets",x),v||(e([]),r([]))}})(),()=>{v=!0}},[]);const c=f.useMemo(()=>{const v=(t==null?void 0:t.length)??0,x=Array.isArray(s)?s.length:s&&s.courses?s.courses.reduce((p,w)=>{var C;return p+(((C=w.sections)==null?void 0:C.length)||0)},0):0;return{totalCourses:v,totalSections:x}},[t,s]),d=f.useMemo(()=>{const v=n.trim().toLowerCase();return!v||!t?t??[]:t.filter(x=>x.id.toLowerCase().includes(v)||x.name.toLowerCase().includes(v))},[n,t]),u=v=>{if(!s)return[];if(s.courses&&Array.isArray(s.courses)){const x=s.courses.find(p=>p.id===v);return x!=null&&x.sections?[...x.sections]:[]}return Array.isArray(s)?s.filter(x=>x.courseId===v):[]},h=async(v,x)=>{if(!s)return;let p=Array.isArray(s)?[...s]:{...s};if(p.courses&&Array.isArray(p.courses)){const w=p.courses.findIndex(C=>C.id===v);w>=0?p.courses[w]={...p.courses[w],sections:x}:p.courses.push({id:v,sections:x})}else Array.isArray(p)&&(p=p.filter(w=>w.courseId!==v),p.push(...x.map(w=>({...w,courseId:v}))));r(p),await Rt.saveSections(p)},g=async()=>{if(!t)return;const v=prompt("ID de la materia (ej. MED101):");if(!v)return;if(t.some(E=>E.id===v))return alert("ID ya existe");const x=prompt("Nombre de la materia:")||"Nueva materia",p=Number(prompt("Crditos:","4")||0),w=Number(prompt("Horas tericas:","2")||0),C=Number(prompt("Horas prcticas:","2")||0),_=Number(prompt("Trimestre/Semestre (nmero):","1")||1),N=[...t,{id:v,name:x,credits:p,theoreticalHours:w,practicalHours:C,term:_}];e(N),await Rt.saveCourses(N),alert(" Curso agregado (recuerda Exportar JSON para persistir en el repo)")},y=async v=>{if(!t||!confirm(`Eliminar curso ${v}?`))return;const x=t.filter(p=>p.id!==v);e(x),await Rt.saveCourses(x),alert(" Curso eliminado (recuerda Exportar JSON para persistir en el repo)")},b=v=>{const x=document.createElement("input");x.type="file",x.accept="application/json",x.onchange=async()=>{var w;const p=(w=x.files)==null?void 0:w[0];if(p)try{const C=await p.text(),_=JSON.parse(C);v==="courses"?(e(_),await Rt.saveCourses(_)):(r(_),await Rt.saveSections(_)),alert(` Importado ${v}. Recuerda Exportar para guardar una copia.`)}catch(C){alert(` Error importando ${v}: ${String(C)}`)}},x.click()},m=v=>{const x=v==="courses"?t:s;if(!x){alert(`No hay datos de ${v} para exportar.`);return}const p=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),w=URL.createObjectURL(p),C=document.createElement("a");C.download=`${v}.json`,C.href=w,C.click(),URL.revokeObjectURL(w)};return o.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Admin  Medicina PWA"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Editor local de datasets (courses.json / sections.json). Usa Importar/Exportar para trabajar sin backend."}),o.jsxs(Nt,{className:"mb-6",children:[o.jsx(ts,{className:"pb-3",children:o.jsx(ss,{className:"text-lg",children:"Estado de datasets"})}),o.jsxs(Tt,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"border rounded p-3",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de cursos"}),o.jsx("div",{className:"text-xl font-bold",children:c.totalCourses})]}),o.jsxs("div",{className:"border rounded p-3",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de secciones"}),o.jsx("div",{className:"text-xl font-bold",children:c.totalSections})]}),o.jsxs("div",{className:"border rounded p-3",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Modo"}),o.jsx("div",{className:"text-xl font-bold",children:"Front-only"})]})]})]}),o.jsxs(Nt,{children:[o.jsx(ts,{className:"pb-3",children:o.jsx(ss,{className:"text-lg",children:"Herramientas"})}),o.jsxs(Tt,{children:[o.jsx(ub,{search:n,onSearchChange:a,onAdd:g,onImportCourses:()=>b("courses"),onImportSections:()=>b("sections"),onExportCourses:()=>m("courses"),onExportSections:()=>m("sections")}),o.jsx(Qr,{className:"my-4"}),o.jsx(fb,{courses:(d||[]).slice(0,200),onEdit:v=>l({open:!0,target:v}),onDelete:y}),d&&d.length>200&&o.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Mostrando 200 de ",d.length," cursos (paginacin vendr luego)"]})]})]}),i.target&&o.jsx(gb,{open:i.open,onClose:()=>l({open:!1,target:null}),course:i.target,allCourses:t??[],onSave:v=>{if(!t)return;const x=t.map(w=>w.id===i.target.id?v:w),p=vb(x);if(xb(p)){alert(" La edicin introduce un ciclo de prerequisitos. Revsalos.");return}e(x),Rt.saveCourses(x),l({open:!1,target:null}),alert(" Curso actualizado (recuerda Exportar JSON para persistir en el repo)")},getSectionsForCourse:u,setSectionsForCourse:h}),o.jsx("div",{className:"mt-6 text-sm text-muted-foreground",children:"Prximo: CRUD de secciones + edicin integrada (tab Secciones) y verificador de choques de horario."})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t="v2025-10-26-2";navigator.serviceWorker.register(`/medicina-pwa-final/sw.js?v=${t}`).then(e=>{console.log(`SW registered (version ${t}):`,e)}).catch(e=>{console.error("SW registration failed:",e)})});const Af=new URLSearchParams(window.location.search).get("admin")==="1"||localStorage.getItem("admin")==="1";document.title=Af?"Pensum Medicina  Admin":"Pensum Medicina";To.createRoot(document.getElementById("root")).render(o.jsx(ye.StrictMode,{children:Af?o.jsx(yb,{}):o.jsx(db,{})}));
